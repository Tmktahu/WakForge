import{_ as $e,i as _e,f as pe,r as y,y as qe,g as W,q as a,o,h as r,j as e,k as s,t,z as Ne,F as X,m as ne,n as re,w as h,A as ie,l as ae,B as Ze,s as ye,x as ke,D as nt,E as Oe,G as ot,H as Ke,I as Y,J as ve,a as ze,K as je,L as se,M as Fe,b as Ge,N as Te,O as Je,P as Qe,Q as Ve,R as Xe,S as ct,T as He,U as rt,d as et,V as ut,W as dt,X as pt,p as he,Y as Be,Z as mt,u as ht}from"./index-c94b22a4.js";import{I as We,M as De,u as tt,E as st,a as vt}from"./addCompanion-b6df1d6f.js";const J=v=>(ye("data-v-c1c7829b"),v=v(),ke(),v),_t={key:0,class:"py-3",style:{overflow:"auto"}},ft={class:"flex justify-content-between w-full px-2"},gt={class:"main-stat-box"},bt={class:"flex align-items-center my-1"},$t={class:"ml-1"},yt={class:"stat-value py-1"},kt={class:"main-stat-box"},St={class:"flex align-items-center my-1"},wt={class:"ml-1"},xt={class:"stat-value py-1"},Ct={class:"main-stat-box"},At={class:"flex align-items-center my-1"},Vt={class:"ml-1"},Wt={class:"stat-value py-1"},qt={class:"main-stat-box"},Et={class:"flex align-items-center my-1"},It={class:"ml-1"},Pt={class:"stat-value py-1"},Tt={key:0,class:"main-stat-box"},Dt={class:"flex align-items-center my-1"},Mt={class:"ml-1"},Rt={class:"stat-value py-1"},Lt={key:1,class:"main-stat-box"},Ut={class:"flex align-items-center my-1"},Nt={class:"ml-1"},Ft={class:"stat-value py-1"},Ot={class:"main-stat-area flex flex-column mt-2 pb-2"},jt={class:"section-header py-1 mb-1"},Ht={class:"flex pl-1"},Bt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},zt={class:"stat-block pr-2"},Gt={class:"ml-1"},Yt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Jt={class:"stat-block pr-2"},Qt={class:"ml-1"},Xt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Zt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Kt={class:"stat-block pr-2"},es={class:"ml-1"},ts=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ss={class:"stat-block pr-2"},as={class:"ml-1"},ls=J(()=>e("div",{class:"flex-grow-1"},null,-1)),is={class:"section-header py-1 mb-1"},ns={class:"flex pl-1"},os={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},cs={class:"stat-block pr-2"},rs={class:"ml-1"},us=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ds={class:"stat-block pr-2"},ps={class:"ml-1"},ms=J(()=>e("div",{class:"flex-grow-1"},null,-1)),hs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},vs={class:"stat-block pr-2"},_s={class:"ml-1"},fs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),gs={class:"stat-block pr-2"},bs={class:"ml-1"},$s=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ys={class:"lex flex-column"},ks={class:"section-header py-1 mb-1"},Ss={class:"flex pl-1"},ws={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},xs={class:"stat-block pr-2"},Cs={class:"ml-1"},As=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Vs={class:"stat-block pr-2"},Ws={class:"ml-1"},qs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Es={class:"stat-block pr-2"},Is={class:"ml-1"},Ps=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ts={class:"stat-block pr-2"},Ds={class:"ml-1"},Ms=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Rs={class:"stat-block pr-2"},Ls={class:"ml-1"},Us=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ns={class:"stat-block pr-2"},Fs={class:"ml-1"},Os=J(()=>e("div",{class:"flex-grow-1"},null,-1)),js={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Hs={class:"stat-block pr-2"},Bs={class:"ml-1"},zs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Gs={class:"stat-block pr-2"},Ys={class:"ml-1"},Js=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Qs={class:"stat-block pr-2"},Xs={class:"ml-1"},Zs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ks={class:"stat-block pr-2"},ea={class:"ml-1"},ta=J(()=>e("div",{class:"flex-grow-1"},null,-1)),sa={class:"stat-block pr-2"},aa={class:"ml-1"},la=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ia={class:"stat-block pr-2"},na={class:"ml-1"},oa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ca={class:"flex flex-column"},ra={class:"section-header py-1 mb-1"},ua={class:"flex pl-1"},da={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},pa={class:"stat-block pr-2"},ma={class:"ml-1"},ha=J(()=>e("div",{class:"flex-grow-1"},null,-1)),va={class:"stat-block pr-2"},_a={class:"ml-1"},fa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ga={class:"stat-block pr-2"},ba={class:"ml-1"},$a=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ya={class:"stat-block pr-2"},ka={class:"ml-1"},Sa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),wa={class:"stat-block pr-2"},xa={class:"ml-1"},Ca=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Aa={class:"stat-block pr-2"},Va={class:"ml-1"},Wa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),qa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ea={class:"stat-block pr-2"},Ia={class:"ml-1"},Pa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ta={class:"stat-block pr-2"},Da={class:"ml-1"},Ma=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ra={class:"stat-block pr-2"},La={class:"ml-1"},Ua=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Na={class:"stat-block pr-2"},Fa={class:"ml-1"},Oa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ja={class:"stat-block pr-2"},Ha={class:"ml-1"},Ba=J(()=>e("div",{class:"flex-grow-1"},null,-1)),za={class:"flex flex-column"},Ga={class:"section-header py-1 mb-1"},Ya={class:"stat-block mr-1"},Ja={class:"flex flex-column px-1 py-1 w-full",style:{border:"1px solid var(--primary-40)","border-radius":"8px"}},Qa={class:"mastery-container flex gap-2 w-full"},Xa={class:"mastery-button-wrapper"},Za={class:"flex justify-content-center align-items-center"},Ka={class:"simple-tooltip"},el={class:"flex w-full mt-1"},tl={class:"ml-1"},sl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),al={class:"stat-block pr-2 ml-1"},ll={class:"ml-1"},il=J(()=>e("div",{class:"flex-grow-1"},null,-1)),nl={class:"stat-block pr-2 ml-1"},ol={class:"ml-1"},cl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),rl={class:"stat-block pr-2 ml-1"},ul={class:"ml-1"},dl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),pl={class:"stat-block pr-2 ml-1"},ml={class:"ml-1"},hl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),vl={__name:"StatDisplay",setup(v){const m=_e("currentCharacter"),{calcElemResistancePercentage:F,calcTotalMastery:n,calcEffectiveHp:l}=Ze(m),q=pe(()=>U.value.filter(g=>g.checked).map(g=>g.id)),U=y([{name:"constants.waterMastery",id:"water",iconName:"water_coin",checked:!1},{name:"constants.airMastery",id:"air",iconName:"air_coin",checked:!1},{name:"constants.earthMastery",id:"earth",iconName:"earth_coin",checked:!1},{name:"constants.fireMastery",id:"fire",iconName:"fire_coin",checked:!1},{name:"constants.meleeMastery",id:"melee",iconName:"melee_mastery",checked:!1},{name:"constants.distanceMastery",id:"distance",iconName:"distance_mastery",checked:!1},{name:"constants.berserkMastery",id:"berserk",iconName:"berserk_mastery",checked:!1},{name:"constants.criticalMastery",id:"critical",iconName:"critical_mastery",checked:!1},{name:"constants.rearMastery",id:"rear",iconName:"rear_mastery",checked:!1},{name:"constants.healingMastery",id:"healing",iconName:"healing_mastery",checked:!1}]),D=(g,N)=>{g.ctrlKey&&U.value.forEach(b=>{b.id!==N?b.checked=!1:b.checked=!0})};let j=!1;return qe(m,()=>{if(m.value&&!j){let g=[{index:0,value:m.value.masteries.water},{index:1,value:m.value.masteries.air},{index:2,value:m.value.masteries.earth},{index:3,value:m.value.masteries.fire}].sort((N,b)=>b.value-N.value);U.value[g[0].index].checked=!0,U.value[4].checked=m.value.masteries.melee>0,U.value[5].checked=m.value.masteries.distance>0,U.value[6].checked=m.value.masteries.berserk>0,U.value[7].checked=m.value.masteries.critical>0,U.value[8].checked=m.value.masteries.rear>0,U.value[9].checked=m.value.masteries.healing>0,j=!0}},{immediate:!0}),(g,N)=>{const b=W("p-image"),A=W("p-checkbox"),I=W("tippy");return a(m)?(o(),r("div",_t,[e("div",ft,[e("div",gt,[e("div",bt,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",$t,t(g.$t("constants.hp")),1)]),e("div",yt,t(a(m).healthPoints),1)]),e("div",kt,[e("div",St,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",wt,t(g.$t("characterSheet.statsDisplay.ar")),1)]),e("div",xt,t(a(m).armorPoints),1)]),e("div",Ct,[e("div",At,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",Vt,t(g.$t("constants.ap")),1)]),e("div",Wt,t(a(m).actionPoints),1)]),e("div",qt,[e("div",Et,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",It,t(g.$t("constants.mp")),1)]),e("div",Pt,t(a(m).movementPoints),1)]),a(m).class===a(Ne).huppermage.id?(o(),r("div",Tt,[e("div",Dt,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Mt,t(g.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Rt,t(a(m).quadrumentalBreeze),1)])):(o(),r("div",Lt,[e("div",Ut,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Nt,t(g.$t("constants.wp")),1)]),e("div",Ft,t(a(m).wakfuPoints),1)]))]),e("div",Ot,[e("div",jt,t(g.$t("constants.elementalMasteries")),1),e("div",Ht,[e("div",Bt,[e("div",zt,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Gt,t(g.$t("characterSheet.statsDisplay.water")),1),Yt,e("span",null,t(a(m).masteries.water),1)]),e("div",Jt,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Qt,t(g.$t("characterSheet.statsDisplay.air")),1),Xt,e("span",null,t(a(m).masteries.air),1)])]),e("div",Zt,[e("div",Kt,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",es,t(g.$t("characterSheet.statsDisplay.earth")),1),ts,e("span",null,t(a(m).masteries.earth),1)]),e("div",ss,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",as,t(g.$t("characterSheet.statsDisplay.fire")),1),ls,e("span",null,t(a(m).masteries.fire),1)])])]),e("div",is,t(g.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",ns,[e("div",os,[e("div",cs,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",rs,t(g.$t("characterSheet.statsDisplay.water")),1),us,e("span",null,t(a(F)(a(m).resistances.water))+"% ("+t(a(m).resistances.water)+")",1)]),e("div",ds,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ps,t(g.$t("characterSheet.statsDisplay.air")),1),ms,e("span",null,t(a(F)(a(m).resistances.air))+"% ("+t(a(m).resistances.air)+")",1)])]),e("div",hs,[e("div",vs,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",_s,t(g.$t("characterSheet.statsDisplay.earth")),1),fs,e("span",null,t(a(F)(a(m).resistances.earth))+"% ("+t(a(m).resistances.earth)+")",1)]),e("div",gs,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",bs,t(g.$t("characterSheet.statsDisplay.fire")),1),$s,e("span",null,t(a(F)(a(m).resistances.fire))+"% ("+t(a(m).resistances.fire)+")",1)])])]),e("div",ys,[e("div",ks,t(g.$t("characterSheet.statsDisplay.battle")),1),e("div",Ss,[e("div",ws,[e("div",xs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",Cs,t(g.$t("constants.damageInflicted")),1),As,e("span",null,t(a(m).stats.damageInflicted)+"%",1)]),e("div",Vs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",Ws,t(g.$t("characterSheet.statsDisplay.criticalHit")),1),qs,e("span",null,t(a(m).stats.criticalHit)+"%",1)]),e("div",Es,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Is,t(g.$t("constants.initiative")),1),Ps,e("span",null,t(a(m).stats.initiative),1)]),e("div",Ts,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ds,t(g.$t("constants.dodge")),1),Ms,e("span",null,t(a(m).stats.dodge),1)]),e("div",Rs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Ls,t(g.$t("constants.wisdom")),1),Us,e("span",null,t(a(m).stats.wisdom),1)]),e("div",Ns,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Fs,t(g.$t("constants.control")),1),Os,e("span",null,t(a(m).stats.control),1)])]),e("div",js,[e("div",Hs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Bs,t(g.$t("constants.healsPerformed")),1),zs,e("span",null,t(a(m).stats.healsPerformed)+"%",1)]),e("div",Gs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Ys,t(g.$t("characterSheet.statsDisplay.block")),1),Js,e("span",null,t(a(m).stats.block)+"%",1)]),e("div",Qs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Xs,t(g.$t("constants.range")),1),Zs,e("span",null,t(a(m).stats.range),1)]),e("div",Ks,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",ea,t(g.$t("constants.lock")),1),ta,e("span",null,t(a(m).stats.lock),1)]),e("div",sa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",aa,t(g.$t("constants.prospecting")),1),la,e("span",null,t(a(m).stats.prospecting),1)]),e("div",ia,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",na,t(g.$t("constants.forceOfWill")),1),oa,e("span",null,t(a(m).stats.forceOfWill),1)])])])]),e("div",ca,[e("div",ra,t(g.$t("characterSheet.statsDisplay.secondary")),1),e("div",ua,[e("div",da,[e("div",pa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",ma,t(g.$t("constants.criticalMastery")),1),ha,e("span",null,t(a(m).masteries.critical),1)]),e("div",va,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",_a,t(g.$t("constants.rearMastery")),1),fa,e("span",null,t(a(m).masteries.rear),1)]),e("div",ga,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",ba,t(g.$t("constants.meleeMastery")),1),$a,e("span",null,t(a(m).masteries.melee),1)]),e("div",ya,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",ka,t(g.$t("constants.distanceMastery")),1),Sa,e("span",null,t(a(m).masteries.distance),1)]),e("div",wa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",xa,t(g.$t("constants.healingMastery")),1),Ca,e("span",null,t(a(m).masteries.healing),1)]),e("div",Aa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Va,t(g.$t("constants.berserkMastery")),1),Wa,e("span",null,t(a(m).masteries.berserk),1)])]),e("div",qa,[e("div",Ea,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",Ia,t(g.$t("constants.criticalResistance")),1),Pa,e("span",null,t(a(m).resistances.critical),1)]),e("div",Ta,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Da,t(g.$t("constants.rearResistance")),1),Ma,e("span",null,t(a(m).resistances.rear),1)]),e("div",Ra,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",La,t(g.$t("constants.armorGiven")),1),Ua,e("span",null,t(a(m).stats.armorGiven)+"%",1)]),e("div",Na,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Fa,t(g.$t("characterSheet.statsDisplay.armorReceived")),1),Oa,e("span",null,t(a(m).stats.armorReceived)+"%",1)]),e("div",ja,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Ha,t(g.$t("characterSheet.statsDisplay.indirectDamage")),1),Ba,e("span",null,t(a(m).stats.indirectDamage)+"%",1)])])])])]),e("div",za,[e("div",Ga,t(g.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",Ya,[e("div",Ja,[e("div",Qa,[e("div",Xa,[(o(!0),r(X,null,ne(U.value,R=>(o(),re(I,{key:R.id,duration:"0"},{content:h(()=>[e("div",Ka,t(g.$t(R.name)),1)]),default:h(()=>[s(A,{modelValue:R.checked,"onUpdate:modelValue":P=>R.checked=P,binary:!0,class:"mastery-checkbox",onChange:P=>D(P,R.id)},{icon:h(P=>[e("div",Za,[s(b,{class:ie(["checkbox-icon",{disabled:!P.checked}]),src:`https://tmktahu.github.io/WakfuAssets/statistics/${R.iconName}.png`,"image-style":"width: 20px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",el,[s(b,{src:"https://tmktahu.github.io/WakfuAssets/characteristics/223.png",style:{height:"20px"},"image-style":"height: 20px"}),e("span",tl,t(g.$t("tooltips.totalMastery")),1),sl,e("span",null,t(a(n)(q.value)),1)])])]),e("div",al,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",ll,t(g.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Water"})),1),il,e("span",null,t(a(l)("water")),1)]),e("div",nl,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ol,t(g.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Air"})),1),cl,e("span",null,t(a(l)("air")),1)]),e("div",rl,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",ul,t(g.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Earth"})),1),dl,e("span",null,t(a(l)("earth")),1)]),e("div",pl,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ml,t(g.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Fire"})),1),hl,e("span",null,t(a(l)("fire")),1)])])])):ae("",!0)}}},_l=$e(vl,[["__scopeId","data-v-c1c7829b"]]);const fl=v=>(ye("data-v-a7f58026"),v=v(),ke(),v),gl={class:"flex flex-column h-full"},bl={class:"text-xl font-bold",style:{"text-transform":"capitalize"}},$l={class:"mt-1"},yl={class:"mt-3"},kl={class:"guide-name"},Sl=fl(()=>e("div",{class:"flex-grow-1"},null,-1)),wl={class:"guide-language"},xl={class:"guide-description"},Cl={__name:"GuidesTabContent",setup(v){const m=_e("currentCharacter"),F=pe(()=>nt[m.value.class]),n=l=>{window.open(l.url,"_blank").focus()};return(l,q)=>{const U=W("p-divider"),D=W("p-button");return o(),r("div",gl,[e("div",bl,t(l.$t("characterSheet.guidesContent.classGuides",{class:a(m).class})),1),e("div",$l,t(l.$t("characterSheet.guidesContent.doYouHaveAGuide")),1),e("div",yl,[(o(!0),r(X,null,ne(F.value,j=>(o(),r("div",{key:j.name,class:"guide-entry px-3 py-1 mb-2"},[e("div",kl,t(j.name),1),Sl,s(U,{layout:"vertical"}),e("div",wl,t((j.languages[0]?l.$t(j.languages[0]):"")+(j.languages[1]?", "+l.$t(j.languages[1]):"")+(j.languages[2]?", "+l.$t(j.languages[2]):"")),1),s(U,{layout:"vertical"}),e("div",xl,t(j.description),1),s(D,{label:l.$t("characterSheet.guidesContent.openGuide"),class:"ml-2 py-1 px-3",style:{"min-width":"fit-content"},onClick:g=>n(j)},null,8,["label","onClick"])]))),128))]),s(U)])}}},Al=$e(Cl,[["__scopeId","data-v-a7f58026"]]);const Vl=v=>(ye("data-v-c1799ab4"),v=v(),ke(),v),Wl={class:"flex align-items-center my-1"},ql={class:"entry-label ml-2"},El=Vl(()=>e("div",{class:"flex-grow-1"},null,-1)),Il={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(v){return(m,F)=>{const n=W("p-image"),l=W("p-inputNumber");return o(),r("div",Wl,[s(n,{src:v.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",ql,t(v.label),1),El,s(l,Oe(m.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(v.maxOverride,v.remainingPoints+m.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:v.updateFunction}),null,16,["max","onInput"])])}}},le=$e(Il,[["__scopeId","data-v-c1799ab4"]]);const Me=v=>(ye("data-v-500c2792"),v=v(),ke(),v),Pl={class:"flex flex-column h-full"},Tl={class:"characteristic-panels flex pb-3"},Dl={class:"flex flex-column flex-grow-1 mr-1"},Ml={class:"characteristics-category-header px-2 py-2"},Rl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Ll={class:"flex flex-column px-2 py-1"},Ul={class:"characteristics-category-header px-2 py-2"},Nl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Fl={class:"flex flex-column px-2 py-1"},Ol={class:"characteristics-category-header px-2 py-2"},jl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Hl={class:"flex flex-column px-2 py-1"},Bl={class:"flex flex-column flex-grow-1 ml-1"},zl={class:"characteristics-category-header px-2 py-2"},Gl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Yl={class:"flex flex-column px-2 py-1"},Jl={class:"characteristics-category-header px-2 py-2"},Ql=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Xl={class:"flex flex-column px-2 py-1"},Zl={__name:"CharacteristicsTabContent",setup(v,{expose:m}){const F=_e("masterData"),n=_e("currentCharacter"),l=y(!1),q=pe(()=>l.value?10:1);ot(()=>{document.addEventListener("keydown",i=>{U(i)}),document.addEventListener("keyup",i=>{U(i)})});const U=i=>{i.shiftKey?l.value=!0:l.value=!1},D=y(n.value.characteristics.intelligence.percentHealthPoints),j=y(n.value.characteristics.intelligence.elementalResistance),g=y(n.value.characteristics.intelligence.barrier),N=y(n.value.characteristics.intelligence.percentHealsReceived),b=y(n.value.characteristics.intelligence.percentArmorHeathPoints),A=y(n.value.characteristics.strength.elementalMastery),I=y(n.value.characteristics.strength.meleeMastery),R=y(n.value.characteristics.strength.distanceMastery),P=y(n.value.characteristics.strength.healthPoints),$=y(n.value.characteristics.agility.lock),G=y(n.value.characteristics.agility.dodge),ee=y(n.value.characteristics.agility.initiative),Q=y(n.value.characteristics.agility.lockAndDodge),ue=y(n.value.characteristics.agility.forceOfWill),L=y(n.value.characteristics.fortune.percentCriticalHit),O=y(n.value.characteristics.fortune.percentBlock),S=y(n.value.characteristics.fortune.criticalMastery),M=y(n.value.characteristics.fortune.rearMastery),w=y(n.value.characteristics.fortune.berserkMastery),E=y(n.value.characteristics.fortune.healingMastery),Z=y(n.value.characteristics.fortune.rearResistance),te=y(n.value.characteristics.fortune.criticalResistance),oe=y(n.value.characteristics.major.actionPoints),H=y(n.value.characteristics.major.movementPointsAndDamage),z=y(n.value.characteristics.major.rangeAndDamage),C=y(n.value.characteristics.major.wakfuPoints),K=y(n.value.characteristics.major.controlAndDamage),ce=y(n.value.characteristics.major.percentDamageInflicted),k=y(n.value.characteristics.major.elementalResistance),f=i=>{let p=0;return i==="intelligence"?p=D.value+j.value+g.value+N.value+b.value:i==="strength"?p=A.value+I.value+R.value+P.value:i==="agility"?p=$.value+G.value+ee.value+Q.value+ue.value:i==="fortune"?p=L.value+O.value+S.value+M.value+w.value+E.value+Z.value+te.value:i==="major"&&(p=oe.value+H.value+z.value+C.value+K.value+ce.value+k.value),n.value.characteristics.limits[i]-p},B=()=>{n.value.characteristics.intelligence.percentHealthPoints=D.value,n.value.characteristics.intelligence.elementalResistance=j.value,n.value.characteristics.intelligence.barrier=g.value,n.value.characteristics.intelligence.percentHealsReceived=N.value,n.value.characteristics.intelligence.percentArmorHeathPoints=b.value,n.value.characteristics.strength.elementalMastery=A.value,n.value.characteristics.strength.meleeMastery=I.value,n.value.characteristics.strength.distanceMastery=R.value,n.value.characteristics.strength.healthPoints=P.value,n.value.characteristics.agility.lock=$.value,n.value.characteristics.agility.dodge=G.value,n.value.characteristics.agility.initiative=ee.value,n.value.characteristics.agility.lockAndDodge=Q.value,n.value.characteristics.agility.forceOfWill=ue.value,n.value.characteristics.fortune.percentCriticalHit=L.value,n.value.characteristics.fortune.percentBlock=O.value,n.value.characteristics.fortune.criticalMastery=S.value,n.value.characteristics.fortune.rearMastery=M.value,n.value.characteristics.fortune.berserkMastery=w.value,n.value.characteristics.fortune.healingMastery=E.value,n.value.characteristics.fortune.rearResistance=Z.value,n.value.characteristics.fortune.criticalResistance=te.value,n.value.characteristics.major.actionPoints=oe.value,n.value.characteristics.major.movementPointsAndDamage=H.value,n.value.characteristics.major.rangeAndDamage=z.value,n.value.characteristics.major.wakfuPoints=C.value,n.value.characteristics.major.controlAndDamage=K.value,n.value.characteristics.major.percentDamageInflicted=ce.value,n.value.characteristics.major.elementalResistance=k.value};qe(F,Ke.debounce(()=>{D.value=n.value.characteristics.intelligence.percentHealthPoints,j.value=n.value.characteristics.intelligence.elementalResistance,g.value=n.value.characteristics.intelligence.barrier,N.value=n.value.characteristics.intelligence.percentHealsReceived,b.value=n.value.characteristics.intelligence.percentArmorHeathPoints,A.value=n.value.characteristics.strength.elementalMastery,I.value=n.value.characteristics.strength.meleeMastery,R.value=n.value.characteristics.strength.distanceMastery,P.value=n.value.characteristics.strength.healthPoints,$.value=n.value.characteristics.agility.lock,G.value=n.value.characteristics.agility.dodge,ee.value=n.value.characteristics.agility.initiative,Q.value=n.value.characteristics.agility.lockAndDodge,ue.value=n.value.characteristics.agility.forceOfWill,L.value=n.value.characteristics.fortune.percentCriticalHit,O.value=n.value.characteristics.fortune.percentBlock,S.value=n.value.characteristics.fortune.criticalMastery,M.value=n.value.characteristics.fortune.rearMastery,w.value=n.value.characteristics.fortune.berserkMastery,E.value=n.value.characteristics.fortune.healingMastery,Z.value=n.value.characteristics.fortune.rearResistance,te.value=n.value.characteristics.fortune.criticalResistance,oe.value=n.value.characteristics.major.actionPoints,H.value=n.value.characteristics.major.movementPointsAndDamage,z.value=n.value.characteristics.major.rangeAndDamage,C.value=n.value.characteristics.major.wakfuPoints,K.value=n.value.characteristics.major.controlAndDamage,ce.value=n.value.characteristics.major.percentDamageInflicted,k.value=n.value.characteristics.major.elementalResistance},100));const Ee=pe(()=>f("intelligence")<0||f("strength")<0||f("agility")<0||f("fortune")<0||f("major")<0),u=pe(()=>f("intelligence")>0||f("strength")>0||f("agility")>0||f("fortune")>0||f("major")>0);return m({hasCharacteristicsError:Ee,hasCharacteristicsPointsToSpend:u}),(i,p)=>{var d,x,de,fe,ge,xe,Ie,Ce,Ae,c,T,_,me,Pe,Ye;return o(),r("div",Pl,[e("div",Tl,[e("div",Dl,[e("div",{class:ie(["category-wrapper flex flex-column",{error:f("intelligence")<0}])},[e("div",Ml,[e("span",null,t(i.$t("characterSheet.characteristicsContent.intelligence")),1),Rl,e("span",null,t(f("intelligence"))+"/"+t((de=(x=(d=a(n))==null?void 0:d.characteristics)==null?void 0:x.limits)==null?void 0:de.intelligence)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ll,[s(le,{modelValue:D.value,"onUpdate:modelValue":p[0]||(p[0]=V=>D.value=V),label:i.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":f("intelligence"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:j.value,"onUpdate:modelValue":p[1]||(p[1]=V=>j.value=V),label:i.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":f("intelligence"),"update-function":B,"max-override":10,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:g.value,"onUpdate:modelValue":p[2]||(p[2]=V=>g.value=V),label:i.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":f("intelligence"),"update-function":B,"max-override":10,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:N.value,"onUpdate:modelValue":p[3]||(p[3]=V=>N.value=V),label:i.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":f("intelligence"),"update-function":B,"max-override":5,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:b.value,"onUpdate:modelValue":p[4]||(p[4]=V=>b.value=V),label:i.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":f("intelligence"),"update-function":B,"max-override":10,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column mt-2",{error:f("strength")<0}])},[e("div",Ul,[e("span",null,t(i.$t("characterSheet.characteristicsContent.strength")),1),Nl,e("span",null,t(f("strength"))+"/"+t((xe=(ge=(fe=a(n))==null?void 0:fe.characteristics)==null?void 0:ge.limits)==null?void 0:xe.strength)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Fl,[s(le,{modelValue:A.value,"onUpdate:modelValue":p[5]||(p[5]=V=>A.value=V),label:i.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":f("strength"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:I.value,"onUpdate:modelValue":p[6]||(p[6]=V=>I.value=V),label:i.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":f("strength"),"update-function":B,"max-override":40,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:R.value,"onUpdate:modelValue":p[7]||(p[7]=V=>R.value=V),label:i.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":f("strength"),"update-function":B,"max-override":40,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:P.value,"onUpdate:modelValue":p[8]||(p[8]=V=>P.value=V),label:i.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":f("strength"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column mt-2",{error:f("agility")<0}])},[e("div",Ol,[e("span",null,t(i.$t("characterSheet.characteristicsContent.agility")),1),jl,e("span",null,t(f("agility"))+"/"+t((Ae=(Ce=(Ie=a(n))==null?void 0:Ie.characteristics)==null?void 0:Ce.limits)==null?void 0:Ae.agility)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Hl,[s(le,{modelValue:$.value,"onUpdate:modelValue":p[9]||(p[9]=V=>$.value=V),label:i.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":f("agility"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:G.value,"onUpdate:modelValue":p[10]||(p[10]=V=>G.value=V),label:i.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":f("agility"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:ee.value,"onUpdate:modelValue":p[11]||(p[11]=V=>ee.value=V),label:i.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":f("agility"),"update-function":B,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:Q.value,"onUpdate:modelValue":p[12]||(p[12]=V=>Q.value=V),label:i.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":f("agility"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:ue.value,"onUpdate:modelValue":p[13]||(p[13]=V=>ue.value=V),label:i.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":f("agility"),"update-function":B,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",Bl,[e("div",{class:ie(["category-wrapper flex flex-column flex-grow-1",{error:f("fortune")<0}])},[e("div",zl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.fortune")),1),Gl,e("span",null,t(f("fortune"))+"/"+t((_=(T=(c=a(n))==null?void 0:c.characteristics)==null?void 0:T.limits)==null?void 0:_.fortune)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Yl,[s(le,{modelValue:L.value,"onUpdate:modelValue":p[14]||(p[14]=V=>L.value=V),label:i.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":f("fortune"),"update-function":B,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:O.value,"onUpdate:modelValue":p[15]||(p[15]=V=>O.value=V),label:i.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":f("fortune"),"update-function":B,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:S.value,"onUpdate:modelValue":p[16]||(p[16]=V=>S.value=V),label:i.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":f("fortune"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:M.value,"onUpdate:modelValue":p[17]||(p[17]=V=>M.value=V),label:i.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":f("fortune"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:w.value,"onUpdate:modelValue":p[18]||(p[18]=V=>w.value=V),label:i.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":f("fortune"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:E.value,"onUpdate:modelValue":p[19]||(p[19]=V=>E.value=V),label:i.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":f("fortune"),"update-function":B,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:Z.value,"onUpdate:modelValue":p[20]||(p[20]=V=>Z.value=V),label:i.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":f("fortune"),"update-function":B,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:te.value,"onUpdate:modelValue":p[21]||(p[21]=V=>te.value=V),label:i.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":f("fortune"),"update-function":B,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:f("major")<0}])},[e("div",Jl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.major")),1),Ql,e("span",null,t(f("major"))+"/"+t((Ye=(Pe=(me=a(n))==null?void 0:me.characteristics)==null?void 0:Pe.limits)==null?void 0:Ye.major)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Xl,[s(le,{modelValue:oe.value,"onUpdate:modelValue":p[22]||(p[22]=V=>oe.value=V),label:i.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":f("major"),"update-function":B,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:H.value,"onUpdate:modelValue":p[23]||(p[23]=V=>H.value=V),label:i.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":f("major"),"update-function":B,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:z.value,"onUpdate:modelValue":p[24]||(p[24]=V=>z.value=V),label:i.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":f("major"),"update-function":B,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:C.value,"onUpdate:modelValue":p[25]||(p[25]=V=>C.value=V),label:i.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":f("major"),"update-function":B,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:K.value,"onUpdate:modelValue":p[26]||(p[26]=V=>K.value=V),label:i.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":f("major"),"update-function":B,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:ce.value,"onUpdate:modelValue":p[27]||(p[27]=V=>ce.value=V),label:i.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":f("major"),"update-function":B,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:k.value,"onUpdate:modelValue":p[28]||(p[28]=V=>k.value=V),label:i.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":f("major"),"update-function":B,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},Kl=$e(Zl,[["__scopeId","data-v-500c2792"]]);const at=v=>(ye("data-v-a7caaa62"),v=v(),ke(),v),ei={class:"flex align-items-center flex-wrap mt-3"},ti={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},si={class:"checkmarks-container flex gap-2"},ai={class:"rarity-container mt-2"},li={class:"flex align-items-center mb-1"},ii=at(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ni={class:"simple-tooltip"},oi={class:"mr-2 ml-1"},ci={class:"rarity-button-wrapper"},ri={class:"flex justify-content-center align-items-center"},ui={class:"simple-tooltip"},di={class:"item-types-container mt-2"},pi={class:"flex align-items-center justify-content-center mb-1 w-full"},mi=at(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),hi={class:"simple-tooltip"},vi={class:"mr-2 ml-1"},_i={class:"simple-tooltip"},fi={class:"item-types-button-wrapper"},gi={class:"filter-category-wrapper"},bi={class:"flex justify-content-center align-items-center"},$i={class:"simple-tooltip"},yi={class:"filter-category-wrapper"},ki={class:"flex justify-content-center align-items-center"},Si={class:"simple-tooltip"},wi={class:"filter-category-wrapper"},xi={class:"flex justify-content-center align-items-center"},Ci={class:"simple-tooltip"},Ai={class:"filter-list-wrapper mt-3"},Vi={class:"px-2 py-1"},Wi={class:"px-2 py-1"},qi={__name:"ItemFilters",setup(v){const m=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],n=[Y.healthPoints.id,Y.healingMastery.id,Y.actionPoints.id,Y.movementPoints.id,Y.rearResistance.id,Y.elementalResistance.id,Y.fireResistance.id,Y.waterResistance.id,Y.earthResistance.id,Y.airResistance.id,Y.elementalMastery.id,Y.fireMastery.id,Y.earthMastery.id,Y.waterMastery.id,Y.airMastery.id,Y.criticalMastery.id,Y.criticalHit.id,Y.range.id,Y.prospecting.id,Y.wisdom.id,Y.initiative.id,Y.lock.id,Y.dodge.id,Y.forceOfWill.id,Y.rearMastery.id,Y.control.id,Y.wakfuPoints.id,Y.percentBlock.id,Y.criticalResistance.id,Y.meleeMastery.id,Y.distanceMastery.id,Y.berserkMastery.id,Y.randomElementalMasteries.id,Y.randomElementalResistances.id,Y.harvestingQuantity.id,Y.armorGiven.id,Y.armorReceived.id].map(w=>({value:w,text:Y[w].text})),l=_e("itemFilters"),q=y(""),U=y([l.startLevel,l.endLevel]),D=y([]),j=y(l.rarityFilters),g=y(l.itemTypeFilters),N=y(!1),b=()=>{$()},A=(w,E)=>{E==="min"&&(U.value[0]=w.value),E==="max"&&(U.value[1]=w.value),$()},I=()=>{$()},R=(w,E)=>{w.ctrlKey&&l.itemTypeFilters.forEach(Z=>{Z.id!==E?Z.checked=!1:Z.checked=!0}),$()},P=(w,E)=>{w.ctrlKey&&l.rarityFilters.forEach(Z=>{Z.id!==E?Z.checked=!1:Z.checked=!0}),$()},$=Ke.debounce(w=>{var E;l.searchTerm=q.value,l.startLevel=U.value[0],l.endLevel=U.value[1],l.effectFilters=D.value,l.rarityFilters=j.value,w&&((E=w.rawIds)!=null&&E.length)?G(w):l.itemTypeFilters=g.value},100),G=w=>{w.rawIds.forEach(E=>{let Z=g.value.find(te=>te.rawId===E);Z.checked=w.checked})},ee=()=>{let w={type:n[0],comparator:m[2],value:0};D.value.push(w),$()},Q=w=>{let E=D.value.indexOf(w);D.value.splice(E,1),$()},ue=()=>{l.resetFilters(),q.value=l.searchTerm,U.value[0]=l.startLevel,U.value[1]=l.endLevel,D.value=l.effectFilters,j.value=l.rarityFilters,g.value=l.itemTypeFilters},L=()=>{l.rarityFilters.forEach(w=>{w.checked=!0}),$()},O=()=>{l.rarityFilters.forEach(w=>{w.checked=!1}),$()},S=()=>{l.itemTypeFilters.forEach(w=>{w.checked=!0}),$()},M=()=>{l.itemTypeFilters.forEach(w=>{w.checked=!1}),$()};return(w,E)=>{const Z=W("p-inputText"),te=W("p-inputNumber"),oe=W("p-slider"),H=W("p-button"),z=W("tippy"),C=W("p-image"),K=W("p-checkbox"),ce=W("p-dropdown");return o(),r(X,null,[e("div",ei,[s(Z,{modelValue:q.value,"onUpdate:modelValue":E[0]||(E[0]=k=>q.value=k),placeholder:w.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:b},null,8,["modelValue","placeholder"]),e("div",ti,[s(te,{modelValue:U.value[0],"onUpdate:modelValue":E[1]||(E[1]=k=>U.value[0]=k),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:E[2]||(E[2]=k=>A(k,"min"))},null,8,["modelValue"]),s(oe,{modelValue:U.value,"onUpdate:modelValue":E[3]||(E[3]=k=>U.value=k),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:I},null,8,["modelValue"]),s(te,{modelValue:U.value[1],"onUpdate:modelValue":E[4]||(E[4]=k=>U.value[1]=k),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:E[5]||(E[5]=k=>A(k,"max"))},null,8,["modelValue"])]),s(H,{class:"filter-button",label:w.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:ue},null,8,["label"])]),e("div",si,[e("div",ai,[e("div",li,[s(H,{class:"filter-button item-filter-action mr-2",label:w.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:L},null,8,["label"]),s(z,{placement:"top"},{content:h(()=>[e("div",ni,t(w.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:h(()=>[ii]),_:1}),e("div",oi,t(w.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(H,{class:"filter-button item-filter-action",label:w.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:O},null,8,["label"])]),e("div",ci,[(o(!0),r(X,null,ne(j.value,k=>(o(),re(z,{key:k.id,duration:"0"},{content:h(()=>[e("div",ui,t(w.$t(k.name)),1)]),default:h(()=>[s(K,{modelValue:k.checked,"onUpdate:modelValue":f=>k.checked=f,binary:!0,class:"rarity-checkbox",onChange:f=>P(f,k.id)},{icon:h(f=>[e("div",ri,[s(C,{class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${k.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",di,[e("div",pi,[s(H,{class:"filter-button item-filter-action mr-2",label:w.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:S},null,8,["label"]),s(z,{placement:"top"},{content:h(()=>[e("div",hi,t(w.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:h(()=>[mi]),_:1}),e("div",vi,t(w.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(z,null,{content:h(()=>[e("div",_i,t(w.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:h(()=>[s(K,{modelValue:N.value,"onUpdate:modelValue":E[6]||(E[6]=k=>N.value=k),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(H,{class:"filter-button item-filter-action",label:w.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:M},null,8,["label"])]),e("div",fi,[e("div",gi,[(o(!0),r(X,null,ne(g.value.filter(k=>k.category==="armor"),k=>(o(),r(X,{key:k.id},[!k.advanced||N.value?(o(),re(z,{key:0,duration:"0"},{content:h(()=>[e("div",$i,t(w.$t(k.name)),1)]),default:h(()=>[s(K,{modelValue:k.checked,"onUpdate:modelValue":f=>k.checked=f,binary:!0,class:"item-type-checkbox",onChange:f=>R(f,k.id)},{icon:h(f=>[e("div",bi,[k.rawId?(o(),re(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))]),e("div",yi,[(o(!0),r(X,null,ne(g.value.filter(k=>k.category==="weapons"),k=>(o(),r(X,{key:k.id},[!k.advanced||N.value?(o(),re(z,{key:0,duration:"0"},{content:h(()=>[e("div",Si,t(w.$t(k.name)),1)]),default:h(()=>[s(K,{modelValue:k.checked,"onUpdate:modelValue":f=>k.checked=f,binary:!0,class:"item-type-checkbox",onChange:f=>a($)(k)},{icon:h(f=>[e("div",ki,[k.rawId?(o(),re(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))]),e("div",wi,[(o(!0),r(X,null,ne(g.value.filter(k=>k.category==="miscellaneous"),k=>(o(),r(X,{key:k.id},[!k.advanced||N.value?(o(),re(z,{key:0,duration:"0"},{content:h(()=>[e("div",Ci,t(w.$t(k.name)),1)]),default:h(()=>[s(K,{modelValue:k.checked,"onUpdate:modelValue":f=>k.checked=f,binary:!0,class:"item-type-checkbox",onChange:a($)},{icon:h(f=>[e("div",xi,[k.rawId?(o(),re(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))])])])]),e("div",Ai,[s(H,{icon:"pi pi-plus",class:"filter-button",label:w.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:ee},null,8,["label"]),(o(!0),r(X,null,ne(D.value,k=>(o(),r("div",{key:k.id,class:"filter-entry"},[s(ce,{modelValue:k.type,"onUpdate:modelValue":f=>k.type=f,class:"filter-type-dropdown",options:a(n),filter:"","auto-filter-focus":"","option-label":"text",onChange:a($)},{value:h(f=>[ve(t(w.$t(f.value.text)),1)]),option:h(f=>[e("div",Vi,t(w.$t(f.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(ce,{modelValue:k.comparator,"onUpdate:modelValue":f=>k.comparator=f,class:"filter-comparator-dropdown",options:m,"option-label":"text",onChange:a($)},{value:h(f=>[ve(t(f.value.symbol),1)]),option:h(f=>[e("div",Wi,t(w.$t(f.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(te,{modelValue:k.value,"onUpdate:modelValue":f=>k.value=f,class:"filter-value-input","allow-empty":!1,onInput:a($)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(H,{class:"remove-filter-button",icon:"pi pi-trash",onClick:f=>Q(k)},null,8,["onClick"])]))),128))])],64)}}},Ei=$e(qi,[["__scopeId","data-v-a7caaa62"]]);const Ii=v=>(ye("data-v-3f715f17"),v=v(),ke(),v),Pi={class:"item-card"},Ti={key:0,class:"slot-label text-center pt-1 pb-1"},Di={class:"flex px-2 pt-2"},Mi={class:"flex flex-column ml-1"},Ri={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Li={class:"flex"},Ui={key:0},Ni={key:1},Fi={key:2,class:"ml-1"},Oi=Ii(()=>e("div",{class:"flex-grow-1"},null,-1)),ji={class:"flex flex-column"},Hi={class:"simple-tooltip"},Bi={key:0,class:"item-card-tooltip"},zi={key:0,class:"effect-header existing-item flex pt-2 px-1"},Gi={class:"flex flex-column ml-1"},Yi={class:"item-name mr-2"},Ji={class:"flex"},Qi={key:0},Xi={key:1},Zi={key:2,class:"ml-1"},Ki={class:"ml-1"},en={class:"effect-header flex pt-2 px-1"},tn={class:"flex flex-column ml-1"},sn={class:"item-name mr-2"},an={class:"flex"},ln={key:0},nn={key:1},on={key:2,class:"ml-1"},cn={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1},withComparisons:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},setup(v){let m=v,F=document;const n=ze(),l=_e("currentCharacter"),{getItemEncyclopediaUrl:q}=tt(),{equipItem:U}=je(l),D=pe(()=>{var A,I;let b=m.item.type.validSlots[0];return((A=l.value.equipment[b])==null?void 0:A.id)!==((I=m.item)==null?void 0:I.id)?l.value.equipment[b]:null}),j=(N,b)=>{U(N,b,n)},g=N=>{let b=q(N);window.open(b,"_blank")};return(N,b)=>{const A=W("p-image"),I=W("p-button"),R=W("tippy");return o(),re(De,{delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>a(F).body,sticky:v.sticky,"max-width":500},{trigger:h(()=>[e("div",Pi,[v.withSlotLabel?(o(),r("div",Ti,t(v.item.type.validSlots[0]==="LEFT_HAND"?"Ring":N.$t(a(se)[v.item.type.validSlots[0]].name))+" Slot ",1)):ae("",!0),e("div",Di,[s(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Mi,[e("div",Ri,t(N.$t(`items.${v.item.id}`)),1),e("div",Li,[s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(v.item.type.id)?(o(),r("div",Ui,t(N.$t("tooltips.itemLevel"))+": "+t(v.item.id===12237?"25":"50"),1)):(o(),r("div",Ni,"Lvl: "+t(v.item.level),1)),v.item.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Fi,t(v.item.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),Oi,e("div",ji,[s(I,{icon:"pi pi-plus",class:"action-button mb-1",onClick:b[0]||(b[0]=P=>j(v.item,P))}),s(R,{placement:"left"},{content:h(()=>[e("div",Hi,t(N.$t("tooltips.openEncyclopediaPage")),1)]),default:h(()=>[s(I,{icon:"pi pi-question-circle",class:"action-button",onClick:b[1]||(b[1]=P=>g(v.item))})]),_:1})])])])]),content:h(()=>[v.item?(o(),r("div",Bi,[D.value&&v.withComparisons?(o(),r("div",zi,[s(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${D.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Gi,[e("div",Yi,t(N.$t(`items.${D.value.id}`)),1),e("div",Ji,[s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${D.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${D.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(D.value.type.id)?(o(),r("div",Qi,t(N.$t("tooltips.itemLevel"))+": "+t(D.value.id===12237?"25":"50"),1)):(o(),r("div",Xi,"Lvl: "+t(D.value.level),1)),D.value.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Zi,t(D.value.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0),e("div",Ki,"("+t(N.$t("tooltips.equipped"))+")",1)])])])):ae("",!0),s(We,{item:v.item,"with-comparisons":v.withComparisons,"with-totals":v.withTotals},null,8,["item","with-comparisons","with-totals"]),e("div",en,[s(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",tn,[e("div",sn,t(N.$t(`items.${v.item.id}`)),1),e("div",an,[s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(v.item.type.id)?(o(),r("div",ln,t(N.$t("tooltips.itemLevel"))+": "+t(v.item.id===12237?"25":"50"),1)):(o(),r("div",nn,"Lvl: "+t(v.item.level),1)),v.item.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",on,t(v.item.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])])])])):ae("",!0)]),_:1},8,["append-to","sticky"])}}},lt=$e(cn,[["__scopeId","data-v-3f715f17"]]),rn={class:"flex align-items-center"},un={class:"mx-2"},dn=e("i",{class:"mdi mdi-information-outline"},null,-1),pn={class:"simple-tooltip"},be={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(v){return(m,F)=>{const n=W("p-checkbox"),l=W("tippy");return o(),r("div",rn,[s(n,Oe(m.$attrs,{binary:!0}),null,16),e("div",un,t(v.label),1),v.tooltipText?(o(),re(l,{key:0,placement:"left",duration:"0"},{content:h(()=>[e("div",pn,t(v.tooltipText),1)]),default:h(()=>[dn]),_:1})):ae("",!0)])}}};const it=v=>(ye("data-v-c3488015"),v=v(),ke(),v),mn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},hn={class:"flex"},vn={class:"flex flex-wrap gap-2"},_n={class:"px-2 py-1"},fn={class:"px-2 py-1"},gn={class:"flex align-items-center gap-4 mt-2"},bn=it(()=>e("div",{class:"flex-grow-1"},null,-1)),$n={class:"ml-2"},yn={key:0,class:"flex"},kn={key:0,class:"item-card with-stats"},Sn={class:"flex px-2 pt-2"},wn={class:"flex flex-column ml-1"},xn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Cn={class:"flex"},An={key:0},Vn={key:1},Wn={key:2,class:"ml-1"},qn=it(()=>e("div",{class:"flex-grow-1"},null,-1)),En={class:"flex flex-column gap-1"},In={key:1},Pn={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Tn={class:"text-center mt-2"},Dn={class:"flex justify-content-center"},Mn={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Rn={__name:"EquipmentTabContent",setup(v,{expose:m}){const F=ze(),{t:n}=Ge(),l=_e("currentCharacter"),q=_e("currentItemList"),U=_e("itemListLoading"),D=_e("itemFilters"),j=y(null),g=y(4),{getNumTotalItems:N}=je(),{getItemEncyclopediaUrl:b}=tt(),A=()=>{g.value=Math.floor((j.value.clientWidth-16)/(P.value?310+5:230+5))};window.addEventListener("resize",A);let I=pe(()=>{let S=[],M=[];return q.value.forEach(w=>{M.length===g.value?(S.push(M),M=[w]):M.push(w)}),M.length>0&&S.push(M),S.length===0&&S.push([]),S});const R=y(!1),P=y(!1),$=y(!1),G=y(!1),ee=()=>{R.value=!0,Te(()=>{A()})};qe(P,()=>{Te(()=>{R.value=!1,Te(()=>{R.value=!0,Te(()=>{A()})})})});const Q=(S,M)=>{let w=S.type.validSlots.includes(se.LEFT_HAND.id)||S.type.validSlots.includes(se.RIGHT_HAND.id),E=S.type.disabledSlots.includes(se.SECOND_WEAPON.id)&&l.value.equipment[se.SECOND_WEAPON.id]!==null,Z=S.type.validSlots[0]===se.SECOND_WEAPON.id&&l.value.equipment[se.FIRST_WEAPON.id]!==null&&l.value.equipment[se.FIRST_WEAPON.id].type.disabledSlots.includes(se.SECOND_WEAPON.id),te=!1,oe=null,H=!1,z=null;Object.keys(l.value.equipment).forEach(ce=>{S.rarity===5&&l.value.equipment[ce]!==null&&l.value.equipment[ce].rarity===5&&(te=!0,oe=ce),S.rarity===7&&l.value.equipment[ce]!==null&&l.value.equipment[ce].rarity===7&&(H=!0,z=ce)});let C=null;te&&(C=n("characterSheet.equipmentContent.hasRelicWarning")),H&&(C=n("characterSheet.equipmentContent.hasEpicWarning")),E&&(C=n("characterSheet.equipmentContent.twoHandedWeaponWarning")),Z&&(C=n("characterSheet.equipmentContent.secondWeaponWarning")),te&&E&&(C=n("characterSheet.equipmentContent.relicAndTwoHandedWarning")),te&&Z&&(C=n("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),H&&E&&(C=n("characterSheet.equipmentContent.epicAndTwoHandedWarning")),H&&Z&&(C=n("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),E||Z||te||H?F.require({group:"popup",target:M.currentTarget,message:C,accept:()=>{w&&(l.value.equipment[se.LEFT_HAND.id]===null?l.value.equipment[se.LEFT_HAND.id]=S:l.value.equipment[se.RIGHT_HAND.id]=S),E&&(l.value.equipment[se.FIRST_WEAPON.id]=S,l.value.equipment[se.SECOND_WEAPON.id]=null),Z&&(l.value.equipment[se.FIRST_WEAPON.id]=null,l.value.equipment[se.SECOND_WEAPON.id]=S),te&&(l.value.equipment[oe]=null,l.value.equipment[S.type.validSlots[0]]=S),H&&(l.value.equipment[z]=null,l.value.equipment[S.type.validSlots[0]]=S)}}):w?l.value.equipment[se.LEFT_HAND.id]===null?l.value.equipment[se.LEFT_HAND.id]=S:l.value.equipment[se.RIGHT_HAND.id]=S:S.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",S.type):l.value.equipment[S.type.validSlots[0]]=S},ue=S=>{let M=b(S);window.open(M,"_blank")},L=()=>{let S={sortBy:Je[0],sortOrder:Qe[0]};D.sortingParams.push(S)},O=S=>{let M=D.sortingParams.indexOf(S);D.sortingParams.splice(M,1)};return m({showList:ee}),(S,M)=>{const w=W("p-divider"),E=W("p-button"),Z=W("p-dropdown"),te=W("p-image"),oe=W("p-virtualScroller"),H=W("p-progressSpinner");return o(),r("div",mn,[s(st,{character:a(l),"with-totals":$.value},null,8,["character","with-totals"]),s(Ei),s(w,{class:"mt-2 mb-2"}),e("div",hn,[e("div",vn,[s(E,{icon:"pi pi-plus",class:"filter-button",label:S.$t("characterSheet.equipmentContent.newSort"),onClick:L},null,8,["label"]),(o(!0),r(X,null,ne(a(D).sortingParams,(z,C)=>(o(),r("div",{key:C,class:"filter-entry"},[s(Z,{modelValue:z.sortBy,"onUpdate:modelValue":K=>z.sortBy=K,class:"filter-type-dropdown","option-label":"label",filter:"","auto-filter-focus":"",options:a(Je)},{value:h(K=>[ve(t(S.$t(K.value.label)),1)]),option:h(K=>[e("div",_n,t(S.$t(K.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(Z,{modelValue:z.sortOrder,"onUpdate:modelValue":K=>z.sortOrder=K,class:"filter-comparator-dropdown","option-label":"label",options:a(Qe)},{value:h(K=>[ve(t(S.$t(K.value.label)),1)]),option:h(K=>[e("div",fn,t(S.$t(K.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(E,{class:"remove-filter-button",icon:"pi pi-trash",onClick:K=>O(z)},null,8,["onClick"])]))),128))])]),s(w,{class:"mt-2 mb-2"}),e("div",gn,[s(be,{modelValue:P.value,"onUpdate:modelValue":M[0]||(M[0]=z=>P.value=z),label:S.$t("characterSheet.equipmentContent.displayStats")},null,8,["modelValue","label"]),s(be,{modelValue:$.value,"onUpdate:modelValue":M[1]||(M[1]=z=>$.value=z),label:S.$t("characterSheet.equipmentContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:G.value,"onUpdate:modelValue":M[2]||(M[2]=z=>G.value=z),label:S.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"]),bn,e("div",$n,t(a(q).length)+" "+t(S.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(a(N)())+" "+t(S.$t("characterSheet.equipmentContent.itemsTotal")),1)]),R.value&&!a(U)?(o(),r("div",{key:0,ref_key:"itemResultsWrapper",ref:j,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(oe,{items:a(I),"item-size":[P.value?215:65,P.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:h(({item:z})=>[a(I)[0].length>0?(o(),r("div",yn,[(o(!0),r(X,null,ne(z,(C,K)=>(o(),r(X,{key:K},[P.value&&C?(o(),r("div",kn,[e("div",Sn,[s(te,{src:`https://tmktahu.github.io/WakfuAssets/items/${C.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",wn,[e("div",xn,t(S.$t(`items.${C.id}`)),1),e("div",Cn,[s(te,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${C.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(te,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${C.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(C.type.id)?(o(),r("div",An,t(S.$t("characterSheet.equipmentContent.itemLevel"))+": "+t(C.id===12237?"25":"50"),1)):(o(),r("div",Vn,"Lvl: "+t(C.level),1)),C.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Wn,t(C.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),qn,e("div",En,[s(E,{icon:"pi pi-plus",class:"equip-button",onClick:ce=>Q(C,ce)},null,8,["onClick"]),s(E,{icon:"pi pi-question-circle",class:"equip-button",onClick:ce=>ue(C)},null,8,["onClick"])])]),s(We,{"card-mode":"",item:C,"with-totals":$.value,"with-comparisons":G.value},null,8,["item","with-totals","with-comparisons"])])):(o(),re(lt,{key:1,item:C,"with-totals":$.value,"with-comparisons":G.value},null,8,["item","with-totals","with-comparisons"]))],64))),128))])):(o(),r("div",In,t(S.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(o(),r("div",Pn,[e("div",Tn,t(S.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Dn,[e("div",Mn,[s(H,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(H,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},Ln=$e(Rn,[["__scopeId","data-v-c3488015"]]);const Se=v=>(ye("data-v-22a133ae"),v=v(),ke(),v),Un={class:"w-full h-full"},Nn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Fn={class:"simple-tooltip"},On={class:"flex mt-2"},jn={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},Hn={class:"disabled-mask"},Bn=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),zn={key:1,class:"spell-button disabled"},Gn={class:"disabled-mask"},Yn={class:"mt-3"},Jn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Qn={class:"simple-tooltip"},Xn={class:"flex mt-2"},Zn={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},Kn={key:0},eo=["onClick"],to=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),so={class:"spell-tooltip"},ao={class:"spell-name px-2 py-1"},lo={class:"spell-description px-2 py-1"},io=["innerHTML"],no={key:0,class:"spell-unlock-number"},oo={class:"flex flex-wrap gap-1"},co=["onClick"],ro=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),uo=Se(()=>e("div",{class:"disabled-mask"},null,-1)),po={key:0,class:"spell-unlock-number"},mo={class:"spell-tooltip"},ho={class:"spell-name px-2 py-1"},vo={class:"spell-description px-2 py-1"},_o=["innerHTML"],fo={class:"flex flex-wrap gap-1"},go=["onClick"],bo=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),$o=Se(()=>e("div",{class:"disabled-mask"},null,-1)),yo={key:0,class:"spell-unlock-number"},ko={class:"spell-tooltip"},So={class:"spell-name px-2 py-1"},wo={class:"spell-description px-2 py-1"},xo=["innerHTML"],Co={__name:"SpellTabContent",setup(v){const m=_e("currentCharacter"),{getClassPassiveSpells:F,getSpellHtml:n,getSpellLevel:l}=ct(m),q=pe(()=>F(m.value.class).sort((R,P)=>{let $=Ve[R.id],G=Ve[P.id];return $-G})),U=pe(()=>F("all").sort((R,P)=>{let $=Ve[R.id],G=Ve[P.id];return $-G})),D=A=>{A.category===He.passive&&(Object.keys(m.value.spells).forEach(I=>{var R;I.includes(He.passive)&&((R=m.value.spells[I])==null?void 0:R.id)===A.id&&(m.value.spells[I]=null)}),Object.keys(m.value.spells).some(I=>{if(I.includes(He.passive)&&b(parseInt(I.replace("passiveSlot","")))&&m.value.spells[I]===null)return m.value.spells[I]=A,!0}))},j=A=>{m.value.spells[A]=null},g=A=>{let I=!1;return Object.keys(m.value.spells).forEach(R=>{var P;((P=m.value.spells[R])==null?void 0:P.id)===A.id&&(I=!0)}),I},N=A=>{let I=Ve[A.id];return m.value.level>=I},b=A=>{let I=Xe[A-1];return m.value.level>=I};return(A,I)=>{const R=W("tippy"),P=W("p-image");return o(),r("div",Un,[e("div",null,[s(R,{placement:"left"},{content:h(()=>[e("div",Fn,t(A.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:h(()=>[Nn]),_:1}),ve(" "+t(A.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",On,[e("div",jn,[(o(),r(X,null,ne(12,$=>(o(),r(X,{key:$},[a(m).spells["activeSlot"+$]!==null?(o(),r("div",{key:0,class:"spell-button disabled",onClick:I[0]||(I[0]=G=>j(A.spell))},[e("div",Hn,t(),1),Bn,s(P,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(m).spells["activeSlot"+$].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(o(),r("div",zn,[s(P,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",Gn,t(),1)]))],64))),64))])]),e("div",Yn,[s(R,{placement:"left"},{content:h(()=>[e("div",Qn,t(A.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:h(()=>[Jn]),_:1}),ve(" "+t(A.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",Xn,[e("div",Zn,[(o(),r(X,null,ne(6,$=>(o(),r(X,{key:$},[a(m).spells["passiveSlot"+$]!==null?(o(),r("div",Kn,[s(R,{duration:"0"},{content:h(()=>[e("div",so,[e("div",ao,t(a(m).spells["passiveSlot"+$].name)+" (Level "+t(a(l)(a(m).spells["passiveSlot"+$]))+") ",1),e("div",lo,t(a(m).spells["passiveSlot"+$].description),1),e("div",{class:"spell-details",innerHTML:a(n)(a(m).spells["passiveSlot"+$])},null,8,io)])]),default:h(()=>[e("div",{class:"spell-button",onClick:G=>j("passiveSlot"+$)},[to,s(P,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(m).spells["passiveSlot"+$].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,eo)]),_:2},1024)])):(o(),r("div",{key:1,class:ie(["spell-slot",{disabled:!b($)}])},[s(P,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),b($)?ae("",!0):(o(),r("div",no,t(a(Xe)[$-1]),1))],2))],64))),64))]),e("div",oo,[(o(!0),r(X,null,ne(q.value,$=>(o(),re(R,{key:$.id,duration:"0"},{content:h(()=>[e("div",mo,[e("div",ho,t($.name)+" (Level "+t(a(l)($))+")",1),e("div",vo,t($.description),1),e("div",{class:"spell-details",innerHTML:a(n)($)},null,8,_o)])]),default:h(()=>[e("div",{class:ie(["spell-button",{disabled:g($)||!N($)}]),onClick:G=>D($)},[ro,uo,s(P,{src:`https://tmktahu.github.io/WakfuAssets/spells/${$.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),N($)?ae("",!0):(o(),r("div",po,t(a(Ve)[$.id]),1))],10,co)]),_:2},1024))),128))]),e("div",fo,[(o(!0),r(X,null,ne(U.value,$=>(o(),re(R,{key:$.id,duration:"0"},{content:h(()=>[e("div",ko,[e("div",So,t($.name)+" (Level "+t(a(l)($))+")",1),e("div",wo,t($.description),1),e("div",{class:"spell-details",innerHTML:a(n)($)},null,8,xo)])]),default:h(()=>[e("div",{class:ie(["spell-button",{disabled:g($)||!N($)}]),onClick:G=>D($)},[bo,$o,s(P,{src:`https://tmktahu.github.io/WakfuAssets/spells/${$.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),N($)?ae("",!0):(o(),r("div",yo,t(a(Ve)[$.id]),1))],10,go)]),_:2},1024))),128))])])])}}},Ao=$e(Co,[["__scopeId","data-v-22a133ae"]]),Vo={class:"flex align-items-center"},Wo={class:"mx-2"},qo=e("i",{class:"mdi mdi-information-outline"},null,-1),Eo={class:"simple-tooltip"},Ue={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(v){return(m,F)=>{const n=W("p-inputNumber"),l=W("tippy");return o(),r("div",Vo,[s(n,Oe(m.$attrs,{class:"number-input"}),null,16),e("div",Wo,t(v.label),1),s(l,{placement:"left",duration:"0"},{content:h(()=>[e("div",Eo,t(v.tooltipText),1)]),default:h(()=>[qo]),_:1})])}}};const Re=v=>(ye("data-v-e57103c6"),v=v(),ke(),v),Io={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Po={class:"flex flex-column mt-4"},To={class:"flex"},Do={class:"flex mt-3"},Mo={class:"setting-group flex flex-column mr-3 gap-2"},Ro={class:"mb-2"},Lo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Uo={class:"simple-tooltip"},No={class:"setting-group flex flex-column mr-3"},Fo={class:"flex flex-column gap-2"},Oo={class:"mb-2"},jo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ho={class:"simple-tooltip"},Bo={class:"flex align-items-center"},zo={class:"mr-2"},Go={class:"px-2 py-1"},Yo={class:"flex align-items-center"},Jo={class:"mr-2"},Qo={class:"px-2 py-1"},Xo={class:"flex align-items-center"},Zo={class:"mr-2"},Ko={class:"px-2 py-1"},ec={class:"flex align-items-center"},tc={class:"mr-2"},sc={class:"px-2 py-1"},ac={class:"flex align-items-center"},lc={class:"mr-2"},ic={class:"px-2 py-1"},nc={class:"flex flex-column"},oc={class:"rarity-container"},cc={class:"flex align-items-center mb-1"},rc=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),uc={class:"simple-tooltip"},dc={class:"mr-2 ml-1"},pc={class:"rarity-button-wrapper"},mc={class:"flex justify-content-center align-items-center"},hc={class:"simple-tooltip"},vc={class:"setting-group flex flex-column gap-2 mt-2"},_c={class:"mb-2"},fc=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),gc={class:"simple-tooltip"},bc={key:0,class:"warning-message mt-2 py-1 px-2"},$c={class:"flex align-items-center mt-3"},yc=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),kc=["innerHTML"],Sc={class:"flex align-items-center gap-4 mt-2"},wc={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},xc={key:0,class:"error-state px-3 py-3"},Cc={key:0,class:"mt-1"},Ac={key:1},Vc={class:"mt-3"},Wc={key:0,class:"mt-2"},qc={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Ec={key:1},Ic={class:"flex flex-wrap gap-1 mt-2"},Pc={key:2,class:"loading-state px-3 py-3"},Tc={class:"mt-2"},Dc={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Mc={class:"text-center mt-2"},Rc={class:"text-center mb-5 mt-2"},Lc={class:"flex justify-content-center"},Uc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Nc={__name:"ItemSolverTabContent",setup(v){const{t:m}=Ge(),F=ze(),n=_e("currentCharacter"),{equipItem:l}=je(n),{runCalculations:q,autoBuilderIsReady:U,itemSet:D,builderLoading:j,builderError:g}=rt(),{createBuildCode:N}=et(),b=y(!1),A=y(!1),I=y(!1),R=pe(()=>{if(b.value)return D.value;{let d=Object.keys(n.value.equipment).map(x=>{if(n.value.equipment[x])return n.value.equipment[x].id}).filter(x=>x!==void 0);return D.value?D.value.filter(x=>!d.includes(x.id)):[]}}),P=y(n.value.actionPoints),$=y(n.value.movementPoints),G=y(n.value.stats.range),ee=y(n.value.wakfuPoints),Q=y(!1),ue=y(!1),L=y(!1),O=y(!1),S=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],M=[...S,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],w=y(S[0]),E=y(S[0]),Z=y(S[0]),te=y(S[0]),oe=y(S[0]),H=y(!0),z=y(ut.map(d=>({...d,checked:!0}))),C=y(!0);qe(U,()=>{C.value=!1});const K=()=>{z.value.forEach(d=>{d.checked=!0})},ce=()=>{z.value.forEach(d=>{d.checked=!1})},k=pe(()=>U.value),f=pe(()=>N(n.value)),B=y(null);qe([P,$,G,ee],()=>{B.value=null,P.value-n.value.actionPoints>=6?B.value=m("characterSheet.itemSolverContent.apWarning"):G.value-n.value.stats.range>5?B.value=m("characterSheet.itemSolverContent.rangeImpossibleWarning"):n.value.level<35?G.value-n.value.stats.range>0&&(B.value=m("characterSheet.itemSolverContent.rangeForLevelWarning")):n.value.level<50?G.value-n.value.stats.range>1?B.value=m("characterSheet.itemSolverContent.rangeForLevelWarning"):P.value-n.value.actionPoints+$.value-n.value.movementPoints>4&&(B.value=m("characterSheet.itemSolverContent.combinedApMpWarning")):n.value.level<80&&G.value-n.value.stats.range>3&&(B.value=m("characterSheet.itemSolverContent.rangeForLevelWarning"))});const Ee=async()=>{let d=z.value.filter(de=>de.checked).map(de=>de.id),x={buildCode:f.value,meleeMasteryPriority:w.value,distanceMasteryPriority:E.value,healingMasteryPriority:Z.value,rearMasteryPriority:te.value,berserkMasteryPriority:oe.value,fireMastery:Q.value,earthMastery:ue.value,waterMastery:L.value,airMastery:O.value,targetApAmount:P.value||0,targetMpAmount:$.value||0,targetRangeAmount:G.value||0,targetWpAmount:ee.value||0,selectedRarityIds:d,ignoreEquippedItems:!H.value};q(x)},u=d=>{F.require({group:"popup",target:d.currentTarget,message:m("confirms.willReplaceItems"),accept:()=>{D.value.forEach(x=>{l(x)})}})},i=(d,x)=>{d.ctrlKey&&z.value.forEach(de=>{de.id!==x?de.checked=!1:de.checked=!0})},p=()=>'<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>';return(d,x)=>{var Ae,c,T;const de=W("tippy"),fe=W("p-dropdown"),ge=W("p-button"),xe=W("p-image"),Ie=W("p-checkbox"),Ce=W("p-progressSpinner");return o(),r("div",Io,[s(st,{character:a(n)},null,8,["character"]),e("div",Po,[e("div",To,[s(be,{modelValue:H.value,"onUpdate:modelValue":x[0]||(x[0]=_=>H.value=_),label:d.$t("characterSheet.itemSolverContent.considerCurrentItems"),"tooltip-text":d.$t("characterSheet.itemSolverContent.considerCurrentItemsTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",Do,[e("div",Mo,[e("div",Ro,[s(de,{placement:"top",duration:"0"},{content:h(()=>[e("div",Uo,t(d.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:h(()=>[Lo]),_:1}),ve(" "+t(d.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Ue,{modelValue:P.value,"onUpdate:modelValue":x[1]||(x[1]=_=>P.value=_),label:d.$t("constants.actionPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:$.value,"onUpdate:modelValue":x[2]||(x[2]=_=>$.value=_),label:d.$t("constants.movementPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:G.value,"onUpdate:modelValue":x[3]||(x[3]=_=>G.value=_),label:d.$t("constants.range"),"tooltip-text":d.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:ee.value,"onUpdate:modelValue":x[4]||(x[4]=_=>ee.value=_),label:d.$t("constants.wakfuPoints"),"tooltip-text":d.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",No,[e("div",Fo,[e("div",Oo,[s(de,{placement:"top",duration:"0"},{content:h(()=>[e("div",Ho,t(d.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:h(()=>[jo]),_:1}),ve(" "+t(d.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",Bo,[e("div",zo,t(d.$t("constants.meleeMastery")),1),s(fe,{modelValue:w.value,"onUpdate:modelValue":x[5]||(x[5]=_=>w.value=_),class:"condensed-dropdown","option-label":"label",options:S},{value:h(_=>[ve(t(d.$t(_.value.label)),1)]),option:h(_=>[e("div",Go,t(d.$t(_.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Yo,[e("div",Jo,t(d.$t("constants.distanceMastery")),1),s(fe,{modelValue:E.value,"onUpdate:modelValue":x[6]||(x[6]=_=>E.value=_),class:"condensed-dropdown","option-label":"label",options:S},{value:h(_=>[ve(t(d.$t(_.value.label)),1)]),option:h(_=>[e("div",Qo,t(d.$t(_.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Xo,[e("div",Zo,t(d.$t("constants.healingMastery")),1),s(fe,{modelValue:Z.value,"onUpdate:modelValue":x[7]||(x[7]=_=>Z.value=_),class:"condensed-dropdown","option-label":"label",options:S},{value:h(_=>[ve(t(d.$t(_.value.label)),1)]),option:h(_=>[e("div",Ko,t(d.$t(_.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ec,[e("div",tc,t(d.$t("constants.rearMastery")),1),s(fe,{modelValue:te.value,"onUpdate:modelValue":x[8]||(x[8]=_=>te.value=_),class:"condensed-dropdown","option-label":"label",options:M},{value:h(_=>[ve(t(d.$t(_.value.label)),1)]),option:h(_=>[e("div",sc,t(d.$t(_.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ac,[e("div",lc,t(d.$t("constants.berserkMastery")),1),s(fe,{modelValue:oe.value,"onUpdate:modelValue":x[9]||(x[9]=_=>oe.value=_),class:"condensed-dropdown","option-label":"label",options:M},{value:h(_=>[ve(t(d.$t(_.value.label)),1)]),option:h(_=>[e("div",ic,t(d.$t(_.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",nc,[e("div",oc,[e("div",cc,[s(ge,{class:"filter-button item-filter-action mr-2",label:d.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:K},null,8,["label"]),s(de,{placement:"top"},{content:h(()=>[e("div",uc,t(d.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:h(()=>[rc]),_:1}),e("div",dc,t(d.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(ge,{class:"filter-button item-filter-action",label:d.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ce},null,8,["label"])]),e("div",pc,[(o(!0),r(X,null,ne(z.value,_=>(o(),re(de,{key:_.id,duration:"0"},{content:h(()=>[e("div",hc,t(d.$t(_.name)),1)]),default:h(()=>[s(Ie,{modelValue:_.checked,"onUpdate:modelValue":me=>_.checked=me,binary:!0,class:"rarity-checkbox",onChange:me=>i(me,_.id)},{icon:h(me=>[e("div",mc,[s(xe,{class:ie({disabled:!me.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",vc,[e("div",_c,[s(de,{placement:"top",duration:"0"},{content:h(()=>[e("div",gc,t(d.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:h(()=>[fc]),_:1}),ve(" "+t(d.$t("constants.elementalMasteries")),1)]),s(be,{modelValue:Q.value,"onUpdate:modelValue":x[10]||(x[10]=_=>Q.value=_),label:d.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(be,{modelValue:ue.value,"onUpdate:modelValue":x[11]||(x[11]=_=>ue.value=_),label:d.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(be,{modelValue:L.value,"onUpdate:modelValue":x[12]||(x[12]=_=>L.value=_),label:d.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(be,{modelValue:O.value,"onUpdate:modelValue":x[13]||(x[13]=_=>O.value=_),label:d.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),B.value!==null?(o(),r("div",bc,t(B.value),1)):ae("",!0)]),e("div",$c,[s(ge,{class:"py-2 px-3 mr-2",disabled:!k.value,label:(Ae=R.value)!=null&&Ae.length?d.$t("characterSheet.itemSolverContent.regenerateItemSet"):d.$t("characterSheet.itemSolverContent.generateItemSet"),onClick:Ee},null,8,["disabled","label"]),s(ge,{class:"py-2 px-3 mr-2",disabled:!((c=R.value)!=null&&c.length),label:d.$t("characterSheet.itemSolverContent.equipAllItems"),onClick:x[14]||(x[14]=_=>u(_))},null,8,["disabled","label"]),yc,e("div",{innerHTML:d.$t("characterSheet.itemSolverContent.poweredBy",{credit:p()})},null,8,kc)]),e("div",Sc,[s(be,{modelValue:b.value,"onUpdate:modelValue":x[15]||(x[15]=_=>b.value=_),label:d.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),s(be,{modelValue:A.value,"onUpdate:modelValue":x[16]||(x[16]=_=>A.value=_),label:d.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:I.value,"onUpdate:modelValue":x[17]||(x[17]=_=>I.value=_),label:d.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),a(j)?(o(),r("div",Dc,[e("div",Mc,t(d.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Rc,t(d.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",Lc,[e("div",Uc,[s(Ce,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(Ce,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(o(),r("div",wc,[a(g)?(o(),r("div",xc,[a(g).debug?(o(),r("div",Cc,t(d.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(o(),r("div",Ac,t(d.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Vc,[e("div",null,"Error Code: "+t(a(g).message),1),a(g).debug?(o(),r("div",Wc,[e("div",qc,"Debug Code: "+t(a(g).debug),1)])):ae("",!0)])])):(T=R.value)!=null&&T.length?(o(),r("div",Ec,[e("div",Ic,[(o(!0),r(X,null,ne(R.value,_=>(o(),r("div",{key:_.id,class:"item-card-wrapper"},[s(lt,{item:_,"with-slot-label":"","with-comparisons":I.value,"with-totals":A.value},null,8,["item","with-comparisons","with-totals"])]))),128))])])):(o(),r("div",Pc,[e("div",null,t(d.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Tc,t(d.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},Fc=$e(Nc,[["__scopeId","data-v-e57103c6"]]);const we=v=>(ye("data-v-5b428d31"),v=v(),ke(),v),Oc={class:"flex h-full"},jc={class:"flex flex-column"},Hc={class:"mb-2"},Bc={class:"flex"},zc={class:"mr-2"},Gc=we(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Yc={class:"simple-tooltip flex flex-column"},Jc={class:"mb-1"},Qc={class:"mb-1"},Xc={class:"mb-1"},Zc={class:"mb-1"},Kc={class:"mb-1"},er={class:"mb-1"},tr={key:0,class:"item-runes-section flex align-items-center mb-2"},sr=["onClick"],ar=["onClick","onDrop","onContextmenu","onDragstart"],lr={class:"rune-image"},ir={class:"rune-level"},nr={class:"simple-tooltip"},or=["onDrop"],cr={class:"rune-image"},rr=["onDrop","onClick"],ur={key:0,class:"sublimation-entry flex align-items-center px-2"},dr={class:"ml-1"},pr=we(()=>e("i",{class:"pi pi-trash"},null,-1)),mr={key:0,class:"item-card-tooltip"},hr={class:"effect-header flex pt-2 px-1"},vr={class:"flex flex-column ml-1"},_r={class:"item-name mr-2"},fr={class:"rune-requirements flex justify-content-left gap-1 py-1"},gr=["onDrop","onClick"],br={class:"px-2",style:{opacity:"0.5"}},$r={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},yr={class:"slot-image"},kr=["onDrop"],Sr={class:"info-text"},wr={class:"flex mb-2"},xr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Cr={class:"ml-1"},Ar={key:1,class:"flex align-items-center px-2 py-2"},Vr={class:"ml-1"},Wr=we(()=>e("i",{class:"pi pi-trash"},null,-1)),qr={key:0,class:"item-card-tooltip"},Er={class:"effect-header flex pt-2 px-1"},Ir={class:"flex flex-column ml-1"},Pr={class:"item-name mr-2"},Tr={class:"flex justify-content-left py-1 text-xs"},Dr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Mr={class:"ml-1"},Rr={key:1,class:"flex align-items-center px-2 py-2"},Lr={class:"ml-1"},Ur=we(()=>e("i",{class:"pi pi-trash"},null,-1)),Nr={key:0,class:"item-card-tooltip"},Fr={class:"effect-header flex pt-2 px-1"},Or={class:"flex flex-column ml-1"},jr={class:"item-name mr-2"},Hr={class:"flex justify-content-left py-1 text-xs"},Br={class:"stats-summary"},zr={class:"text-lg my-1 pl-2"},Gr={class:"stats-summary-list flex flex-column"},Yr={key:0,class:"summary-entry px-2 py-1"},Jr={class:"ml-2"},Qr={class:"flex px-2 py-1"},Xr={class:"flex ml-2"},Zr={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},Kr=we(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),eu={class:"flex flex-column mr-3"},tu={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},su={class:"flex align-items-center justify-content-center"},au=we(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),lu={class:"simple-tooltip"},iu={class:"mx-2"},nu={class:"rune-options flex flex-column mt-2"},ou=["onDragstart","onClick"],cu={class:"ml-2"},ru=we(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),uu={class:"ml-3 mt-2"},du={key:0,class:"flex flex-column",style:{"min-width":"300px"}},pu={class:"flex mt-2"},mu={class:"mx-2"},hu=we(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),vu={class:"simple-tooltip"},_u=["onDragstart"],fu={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},gu={class:"effect-header flex pt-2 px-1"},bu={class:"flex flex-column ml-1"},$u={class:"item-name"},yu={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},ku={class:"flex mt-2"},Su={class:"mx-2"},wu={class:"mx-2"},xu=["onClick","onDragstart"],Cu={class:"ml-1"},Au={class:"effect-header flex pt-2 px-1"},Vu={class:"flex flex-column ml-1"},Wu={class:"item-name"},qu={class:"flex justify-content-left py-1 text-xs"},Eu={key:0,class:"flex flex-column px-4 py-2"},Iu={class:"mb-2"},Pu={class:"ml-2"},Tu={__name:"RunesSubsTabContent",setup(v,{expose:m}){const{t:F}=Ge();let n=document;const l=_e("currentCharacter"),{getRuneValue:q}=Ze(),{getRunes:U,getSublimations:D,canSublimationFit:j}=je(),g=pe(()=>U().sort((u,i)=>u.shardsParameters.color-i.shardsParameters.color)),N=pe(()=>D().filter(u=>{var i;return u.sublimationParameters.slotColorPattern.length>0&&F(`items.${u.id}`).toLowerCase().includes((i=A.value)==null?void 0:i.toLowerCase())}).sort((u,i)=>F(`items.${u.id}`).localeCompare(F(`items.${i.id}`))).sort((u,i)=>{if(ee.value&&R.value){let p=j(l.value.equipment[ee.value],u)?1:0;return(j(l.value.equipment[ee.value],i)?1:0)-p}else return 0})),b=pe(()=>D().filter(u=>{var i;return Ee(u)&&F(`items.${u.id}`).toLowerCase().includes((i=I.value)==null?void 0:i.toLowerCase())&&(u.sublimationParameters.isEpic?P.value:!0)&&(u.sublimationParameters.isRelic?$.value:!0)})),A=y(""),I=y(""),R=y(!0),P=y(!0),$=y(!0),G=y(1),ee=y(null),Q=y(null),ue=y(null),L=y([{label:F("constants.level"),levelSlider:!0},{label:F("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{Q.value&&(l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color===0?l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color=l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].rune.shardsParameters.color:l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color=0)}},{label:F("constants.remove"),command:()=>{l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey]=null}}]),O=y(!1),S=()=>{O.value=!1,Te(()=>{O.value=!0})},M=pe(()=>{let u={};return Object.keys(l.value.equipment).forEach(i=>{if(l.value.equipment[i]!==null){let p=l.value.equipment[i];for(let d=1;d<=4;d++){let x=p[`runeSlot${d}`];x&&(u[x.rune.id]||(u[x.rune.id]={totalValue:0,rune:x}),u[x.rune.id].totalValue+=q(x.rune,x.level,i))}p.subSlot&&(u[p.subSlot.equipEffects[0].values[0]]||(u[p.subSlot.equipEffects[0].values[0]]={totalValue:0,sublimation:p.subSlot}),u[p.subSlot.equipEffects[0].values[0]].totalValue+=p.subSlot.equipEffects[0].values[2])}}),l.value.epicSubSlot&&(u[l.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:l.value.epicSubSlot}),l.value.relicSubSlot&&(u[l.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:l.value.relicSubSlot}),u}),w=(u,i)=>{u.stopPropagation(),ee.value===i?ee.value=null:ee.value=i},E=(u,i,p)=>{u.shiftKey&&(l.value.equipment[i][p].color===0?l.value.equipment[i][p].color=l.value.equipment[i][p].rune.shardsParameters.color:l.value.equipment[i][p].color=0),u.ctrlKey&&(ue.value.hide(),l.value.equipment[i][p]=null)},Z=(u,i,p)=>{l.value.equipment[i][p]&&(Q.value={itemSlotKey:i,runeSlotKey:p},ue.value.show(u))},te=(u,i)=>{if(ee.value&&l.value.equipment[ee.value]!==null){let p=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let d in p)if(l.value.equipment[ee.value][p[d]]===null||l.value.equipment[ee.value][p[d]]===void 0){l.value.equipment[ee.value][p[d]]={rune:i,color:i.shardsParameters.color,level:G.value};break}}},oe=(u,i,p,d)=>{u.dataTransfer.dropEffect="move",u.dataTransfer.effectAllowed="move",u.dataTransfer.setData("type",i),i==="rune"&&(u.dataTransfer.setData("rune",JSON.stringify(p)),d&&u.dataTransfer.setData("level",d)),i==="sublimation"&&u.dataTransfer.setData("sublimation",JSON.stringify(p))},H=(u,i,p)=>{try{let d=u.dataTransfer.getData("type");if(d==="rune"&&p.includes("rune")){let x=JSON.parse(u.dataTransfer.getData("rune")),de=u.dataTransfer.getData("level");l.value.equipment[i][p]={rune:x,color:x.shardsParameters.color,level:de||G.value}}if(d==="sublimation"){let x=JSON.parse(u.dataTransfer.getData("sublimation"));Ee(x)?x.sublimationParameters.isEpic&&p==="epicSubSlot"?l.value.epicSubSlot=x:x.sublimationParameters.isRelic&&p==="relicSubSlot"&&(l.value.relicSubSlot=x):l.value.equipment[i].subSlot=x}}catch(d){console.error(d)}},z=()=>{let u=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(l.value.equipment).forEach(i=>{l.value.equipment[i]&&(u.forEach(p=>{l.value.equipment[i][p]=void 0}),l.value.equipment[i].subSlot=null)})},C=(u,i,p)=>{l.value[p]=i},K=u=>{u==="epicSubSlot"?l.value.epicSubSlot=null:u==="relicSubSlot"?l.value.relicSubSlot=null:l.value.equipment[u].subSlot=null},ce=u=>{if(u)switch(u){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},k=u=>{if(u)switch(u){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},f=u=>Object.keys(se).find(i=>se[i].rawId===u),B=pe(()=>{let u=1;return dt.some((i,p)=>i<=l.value.level?(u=p+1,!1):!0),u}),Ee=u=>u.sublimationParameters.isRelic||u.sublimationParameters.isEpic;return qe(()=>l.value.level,()=>{G.value=B.value},{immediate:!0}),m({showLists:S}),(u,i)=>{const p=W("tippy"),d=W("p-image"),x=W("p-inputNumber"),de=W("p-button"),fe=W("p-inputText"),ge=W("p-checkbox"),xe=W("p-virtualScroller"),Ie=W("p-slider"),Ce=W("p-contextMenu"),Ae=pt("ripple");return o(),r("div",Oc,[e("div",jc,[e("div",Hc,[s(p,{placement:"left",duration:"0"},{content:h(()=>[e("div",Yc,[e("div",Jc,t(u.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",Qc,t(u.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",Xc,t(u.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",Zc,t(u.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",Kc,t(u.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",er,t(u.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:h(()=>[e("div",Bc,[e("div",zc,t(u.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),Gc])]),_:1})]),(o(!0),r(X,null,ne(Object.keys(a(l).equipment),c=>(o(),r(X,{key:c},[c!=="ACCESSORY"&&c!=="PET"&&c!=="MOUNT"&&c!=="SECOND_WEAPON"?(o(),r(X,{key:0},[c!=="undefined"&&a(l).equipment[c]?(o(),r("div",tr,[e("div",{class:ie(["slot-image",{highlighted:ee.value===c}]),onClick:T=>w(T,c)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${c}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,sr),(o(),r(X,null,ne(4,T=>(o(),r(X,{key:T},[a(l).equipment[c][`runeSlot${T}`]?(o(),re(p,{key:0,duration:"0"},{content:h(()=>[e("div",nr," +"+t(a(q)(a(l).equipment[c][`runeSlot${T}`].rune,a(l).equipment[c][`runeSlot${T}`].level,c))+" "+t(u.$t(`items.${a(l).equipment[c][`runeSlot${T}`].rune.id}`)),1)]),default:h(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:_=>E(_,c,`runeSlot${T}`),onDragover:i[0]||(i[0]=he(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=he(()=>{},["prevent"])),onDrop:_=>H(_,c,`runeSlot${T}`),onContextmenu:_=>Z(_,c,`runeSlot${T}`),onDragstart:_=>oe(_,"rune",a(l).equipment[c][`runeSlot${T}`].rune,a(l).equipment[c][`runeSlot${T}`].level)},[e("div",lr,[s(d,{src:k(a(l).equipment[c][`runeSlot${T}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",ir,t(a(l).equipment[c][`runeSlot${T}`].level),1)],40,ar)]),_:2},1024)):(o(),r("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=he(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=he(()=>{},["prevent"])),onDrop:_=>H(_,c,`runeSlot${T}`)},[e("div",cr,[s(d,{src:ce(null),"image-style":"width: 26px"},null,8,["src"])])],40,or))],64))),64)),a(l).equipment[c].subSlot?(o(),re(De,{key:0,"append-to":()=>a(n).body,offset:[0,-2],style:{height:"100%"}},{trigger:h(()=>[e("div",{class:ie(["sublimation-drop-zone ml-2",{invalid:!a(j)(a(l).equipment[c],a(l).equipment[c].subSlot)}]),onDragover:i[4]||(i[4]=he(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=he(()=>{},["prevent"])),onDrop:T=>H(T,c,"subSlot"),onClick:T=>K(c)},[a(l).equipment[c].subSlot?(o(),r("div",ur,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).equipment[c].subSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",dr,t(u.$t(`items.${a(l).equipment[c].subSlot.id}`)),1)])):ae("",!0),pr],42,rr)]),content:h(()=>[a(l).equipment[c].subSlot?(o(),r("div",mr,[e("div",hr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).equipment[c].subSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",vr,[e("div",_r,t(u.$t(`items.${a(l).equipment[c].subSlot.id}`)),1),e("div",fr,[(o(!0),r(X,null,ne(a(l).equipment[c].subSlot.sublimationParameters.slotColorPattern,(T,_)=>(o(),r("div",{key:_,class:"flex align-items-center"},[s(d,{src:k(T),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),s(We,{item:a(l).equipment[c].subSlot},null,8,["item"])])):ae("",!0)]),_:2},1032,["append-to"])):(o(),r("div",{key:1,class:ie(["sublimation-drop-zone ml-2",{invalid:!a(j)(a(l).equipment[c],a(l).equipment[c].subSlot)}]),onDragover:i[6]||(i[6]=he(()=>{},["prevent"])),onDragenter:i[7]||(i[7]=he(()=>{},["prevent"])),onDrop:T=>H(T,c,"subSlot"),onClick:T=>K(c)},[e("div",br,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,gr))])):c!=="undefined"?(o(),r("div",$r,[e("div",yr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${c}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(o(),r(X,null,ne(4,T=>e("div",{key:T,class:"rune-drop-zone ml-2",onDragover:i[8]||(i[8]=he(()=>{},["prevent"])),onDragenter:i[9]||(i[9]=he(()=>{},["prevent"])),onDrop:_=>H(_,c,`runeSlot${T}`)},null,40,kr)),64)),e("div",Sr,t(u.$t("characterSheet.runesAndSubsContent.itemMustBeEquipped")),1)])):ae("",!0)],64)):ae("",!0)],64))),128)),e("div",wr,[s(p,{duration:"0",class:"flex h-full"},{content:h(()=>[a(l).epicSubSlot?(o(),r("div",qr,[e("div",Er,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Ir,[e("div",Pr,t(u.$t(`items.${a(l).epicSubSlot.id}`)),1),e("div",Tr,t(a(l).epicSubSlot.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(a(l).epicSubSlot.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:a(l).epicSubSlot},null,8,["item"])])):ae("",!0)]),default:h(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:i[10]||(i[10]=he(()=>{},["prevent"])),onDragenter:i[11]||(i[11]=he(()=>{},["prevent"])),onDrop:i[12]||(i[12]=c=>H(c,null,"epicSubSlot")),onClick:i[13]||(i[13]=c=>K("epicSubSlot"))},[a(l).epicSubSlot?(o(),r("div",xr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Cr,t(u.$t(`items.${a(l).epicSubSlot.id}`)),1)])):(o(),r("div",Ar,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Vr,t(u.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),Wr],32)]),_:1}),s(p,{duration:"0",class:"flex h-full"},{content:h(()=>[a(l).relicSubSlot?(o(),r("div",Nr,[e("div",Fr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Or,[e("div",jr,t(u.$t(`items.${a(l).relicSubSlot.id}`)),1),e("div",Hr,t(a(l).relicSubSlot.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(a(l).relicSubSlot.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:a(l).relicSubSlot},null,8,["item"])])):ae("",!0)]),default:h(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:i[14]||(i[14]=he(()=>{},["prevent"])),onDragenter:i[15]||(i[15]=he(()=>{},["prevent"])),onDrop:i[16]||(i[16]=c=>H(c,null,"relicSubSlot")),onClick:i[17]||(i[17]=c=>K("relicSubSlot"))},[a(l).relicSubSlot?(o(),r("div",Dr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Mr,t(u.$t(`items.${a(l).relicSubSlot.id}`)),1)])):(o(),r("div",Rr,[s(d,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Lr,t(u.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),Ur],32)]),_:1})]),e("div",Br,[e("div",zr,t(u.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",Gr,[(o(!0),r(X,null,ne(Object.keys(M.value),c=>(o(),r(X,{key:c},[M.value[c].rune?(o(),r("div",Yr,[s(d,{src:k(M.value[c].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",Jr,"+"+t(M.value[c].totalValue)+" "+t(u.$t(`items.${M.value[c].rune.rune.id}`)),1)])):M.value[c].sublimation?(o(),r("div",{key:1,class:ie(["summary-entry flex-column align-items-start",{warning:M.value[c].totalValue>a(Be)[M.value[c].sublimation.equipEffects[0].values[0]]}])},[e("div",Qr,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${M.value[c].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",Xr,[e("span",null,t(u.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:M.value[c].totalValue})),1),s(De,{"append-to":()=>a(n).body,offset:[0,-2],"state-id":`${M.value[c].sublimation.equipEffects[0].values[0]}`,"current-level":M.value[c].totalValue},null,8,["append-to","state-id","current-level"])])]),M.value[c].totalValue>a(Be)[M.value[c].sublimation.equipEffects[0].values[0]]?(o(),r("div",Zr,[Kr,e("span",null,t(u.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:a(Be)[M.value[c].sublimation.equipEffects[0].values[0]]})),1)])):ae("",!0)],2)):ae("",!0)],64))),128))])])]),e("div",eu,[e("div",tu,[e("div",su,[s(p,{placement:"left",duration:"0"},{content:h(()=>[e("div",lu,t(u.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:h(()=>[au]),_:1}),e("span",iu,t(u.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(x,{modelValue:G.value,"onUpdate:modelValue":i[18]||(i[18]=c=>G.value=c),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:B.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",nu,[(o(!0),r(X,null,ne(g.value,c=>(o(),r("div",{key:c.id,class:ie(["rune-draggable mb-1 px-2",{highlighted:ee.value&&c.shardsParameters.doubleBonusPosition.includes(a(se)[ee.value].rawId)}]),draggable:"true",onDragstart:T=>oe(T,"rune",c),onClick:T=>te(T,c)},[s(d,{class:"rune-image",src:ce(c.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",cu,"+"+t(a(q)(c,G.value))+" "+t(u.$t(`items.${c.id}`)),1),ru,(o(!0),r(X,null,ne(c.shardsParameters.doubleBonusPosition,T=>(o(),r("div",{key:T,class:"ml-1"},[s(d,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${f(T)}.png`,class:ie({disabled:!a(l).equipment[f(T)]}),onClick:_=>w(_,f(T))},null,8,["src","class","onClick"])]))),128))],42,ou))),128))])]),e("div",uu,[s(de,{label:u.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:z},null,8,["label"])])]),O.value?(o(),r("div",du,[s(fe,{modelValue:A.value,"onUpdate:modelValue":i[19]||(i[19]=c=>A.value=c),class:"py-2 px-2",placeholder:u.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",pu,[s(ge,{modelValue:R.value,"onUpdate:modelValue":i[20]||(i[20]=c=>R.value=c),binary:!0},null,8,["modelValue"]),e("div",mu,t(u.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),s(p,{placement:"top"},{content:h(()=>[e("div",vu,t(u.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:h(()=>[hu]),_:1})]),N.value?(o(),re(xe,{key:0,items:N.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:h(({item:c})=>[s(De,{"append-to":()=>a(n).body,offset:[0,-2]},{trigger:h(()=>{var T,_;return[e("div",{class:ie(["sublimation-option py-1 px-2 mb-1",{highlighted:a(j)(a(l).equipment[ee.value],c)}]),draggable:"true",onDragstart:me=>oe(me,"sublimation",c)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(_=(T=c.sublimationParameters)==null?void 0:T.slotColorPattern)!=null&&_.length?(o(),r("div",fu,[(o(!0),r(X,null,ne(c.sublimationParameters.slotColorPattern,(me,Pe)=>(o(),r("div",{key:Pe,class:"flex align-items-center"},[s(d,{src:k(me),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):ae("",!0),e("div",null,t(u.$t(`items.${c.id}`)),1)],42,_u)]}),content:h(()=>{var T,_;return[e("div",gu,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",bu,[e("div",$u,t(u.$t(`items.${c.id}`)),1),(_=(T=c.sublimationParameters)==null?void 0:T.slotColorPattern)!=null&&_.length?(o(),r("div",yu,[(o(!0),r(X,null,ne(c.sublimationParameters.slotColorPattern,(me,Pe)=>(o(),r("div",{key:Pe,class:"flex align-items-center"},[s(d,{src:k(me),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):ae("",!0)])]),s(We,{item:c},null,8,["item"])]}),_:2},1032,["append-to"])]),_:1},8,["items"])):ae("",!0),s(fe,{modelValue:I.value,"onUpdate:modelValue":i[21]||(i[21]=c=>I.value=c),class:"py-2 px-2",placeholder:u.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",ku,[s(ge,{modelValue:P.value,"onUpdate:modelValue":i[22]||(i[22]=c=>P.value=c),binary:!0},null,8,["modelValue"]),e("div",Su,t(u.$t("constants.epic")),1),s(ge,{modelValue:$.value,"onUpdate:modelValue":i[23]||(i[23]=c=>$.value=c),binary:!0},null,8,["modelValue"]),e("div",wu,t(u.$t("constants.relic")),1)]),b.value?(o(),re(xe,{key:1,items:b.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:h(({item:c})=>[s(De,{"append-to":()=>a(n).body,offset:[0,-2]},{trigger:h(()=>{var T,_;return[e("div",{class:ie(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((T=a(l).epicSubSlot)==null?void 0:T.id)===c.id,"relic-highlighted":((_=a(l).relicSubSlot)==null?void 0:_.id)===c.id}]),draggable:"true",onClick:me=>C(me,c,c.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:me=>oe(me,"sublimation",c)},[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",Cu,t(u.$t(`items.${c.id}`))+" "+t(c.sublimationParameters.isEpic?`(${u.$t("constants.epic")})`:"")+" "+t(c.sublimationParameters.isRelic?`(${u.$t("constants.relic")})`:""),1)],42,xu)]}),content:h(()=>[e("div",Au,[s(d,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Vu,[e("div",Wu,t(u.$t(`items.${c.id}`)),1),e("div",qu,t(c.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(c.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:c},null,8,["item"])]),_:2},1032,["append-to"])]),_:1},8,["items"])):ae("",!0)])):ae("",!0),s(Ce,{ref_key:"runeContextMenu",ref:ue,model:L.value},{item:h(({item:c,props:T})=>[c.levelSlider?(o(),r("div",Eu,[e("div",Iu,t(u.$t("constants.level"))+": "+t(a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level),1),s(Ie,{modelValue:a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level,"onUpdate:modelValue":i[24]||(i[24]=_=>a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level=_),min:1,max:11},null,8,["modelValue"])])):mt((o(),r("a",Oe({key:1,class:"flex align-items-center"},T.action),[e("span",Pu,t(c.label),1)],16)),[[Ae]])]),_:1},8,["model"])])}}},Du=$e(Tu,[["__scopeId","data-v-5b428d31"]]);const Le=v=>(ye("data-v-ddc9c0c5"),v=v(),ke(),v),Mu={class:"top-bar py-3 px-3"},Ru={key:0,class:"flex align-items-center pl-2"},Lu={class:"py-2"},Uu={key:1,class:"flex align-items-center"},Nu={class:"py-2"},Fu={class:"flex align-items-center"},Ou={class:"capitalize"},ju={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},Hu={class:"mr-2"},Bu={class:"flex-grow-1"},zu=Le(()=>e("div",{class:"flex-grow-1"},null,-1)),Gu={class:"build-code flex align-items-center ml-2 mr-3"},Yu=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ju={class:"simple-tooltip"},Qu={class:"ml-2"},Xu={class:"code-disclaimer"},Zu=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ku={class:"simple-tooltip"},ed={class:"ml-1"},td={class:"flex flex-grow-1",style:{overflow:"auto"}},sd={class:"stats-area"},ad={class:"flex flex-column flex-grow-1"},ld={class:"tab-header"},id=Le(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-1",style:{"font-size":"20px"}},null,-1)),nd=Le(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-1",style:{"font-size":"20px"}},null,-1)),od={class:"tab-header"},cd={class:"tab-header"},rd={class:"tab-header"},ud={class:"tab-header"},dd={key:1,class:"px-5 mt-5"},pd={__name:"CharacterSheet",setup(v){var ee,Q,ue;const m=ht(),F=_e("currentCharacter"),n=y(null),l=y(null),q=y(null),U=y((ee=F.value)==null?void 0:ee.name),D=y((Q=F.value)==null?void 0:Q.level),j=y(Ne[(ue=F.value)==null?void 0:ue.class]),g=Object.entries(Ne).map(([L,O])=>O),{createBuildCode:N}=et(),b=pe(()=>N(F.value));qe(F,()=>{A()});const A=()=>{var L,O,S;U.value=(L=F.value)==null?void 0:L.name,D.value=(O=F.value)==null?void 0:O.level,j.value=Ne[(S=F.value)==null?void 0:S.class]},I=(L,O)=>{O==="name"?F.value.name=L.target.value:O==="levelText"?F.value.level=L.value:O==="levelSlider"?F.value.level=L:O==="class"&&(F.value.class=L.value.id),A()},R=()=>{Te(()=>{n.value.showList(),q.value.showLists()})},P=pe(()=>{var L;return(L=l.value)==null?void 0:L.hasCharacteristicsError}),$=pe(()=>{var L;return(L=l.value)==null?void 0:L.hasCharacteristicsPointsToSpend}),G=()=>{navigator.clipboard.writeText(b.value),m.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(L,O)=>{const S=W("p-inputText"),M=W("p-image"),w=W("p-dropdown"),E=W("p-inputNumber"),Z=W("p-slider"),te=W("tippy"),oe=W("p-button"),H=W("p-tabPanel"),z=W("p-tabView");return a(F)?(o(),r("div",{key:a(F).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",Mu,[s(S,{modelValue:U.value,"onUpdate:modelValue":O[0]||(O[0]=C=>U.value=C),class:"mr-2 py-2 px-2",onInput:O[1]||(O[1]=C=>I(C,"name"))},null,8,["modelValue"]),s(w,{modelValue:j.value,"onUpdate:modelValue":O[2]||(O[2]=C=>j.value=C),options:a(g),placeholder:L.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:O[3]||(O[3]=C=>I(C,"class"))},{value:h(C=>[C.value?(o(),r("div",Ru,[s(M,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${C.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",Lu,t(L.$t(C.value.name)),1)])):(o(),r("span",Uu,[s(M,{class:"class-image mx-2",src:a(vt),"image-style":"width: 28px"},null,8,["src"]),e("div",Nu,t(C.placeholder),1)]))]),option:h(C=>[e("div",Fu,[e("div",Ou,t(L.$t(C.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",ju,[e("span",Hu,t(L.$t("characterSheet.level")),1),s(E,{modelValue:D.value,"onUpdate:modelValue":O[4]||(O[4]=C=>D.value=C),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:O[5]||(O[5]=C=>I(C,"levelText"))},null,8,["modelValue"]),e("div",Bu,[s(Z,{modelValue:D.value,"onUpdate:modelValue":O[6]||(O[6]=C=>D.value=C),min:1,max:230,onChange:O[7]||(O[7]=C=>I(C,"levelSlider"))},null,8,["modelValue"])])]),zu,e("div",Gu,[s(te,{placement:"left",duration:"0"},{content:h(()=>[e("div",Ju,t(L.$t("characterSheet.buildCopyPaste")),1)]),default:h(()=>[Yu]),_:1}),e("div",Qu,t(L.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:G},[e("span",null,t(b.value),1)]),s(oe,{class:"py-1 ml-2 px-2",label:L.$t("characterSheet.copy"),onClick:G},null,8,["label"]),e("div",Xu,[s(te,{placement:"bottom",duration:"0"},{content:h(()=>[e("div",Ku,t(L.$t("characterSheet.codeInfo")),1)]),default:h(()=>[Zu]),_:1}),e("div",ed,t(L.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",td,[e("div",sd,[s(_l)]),e("div",ad,[s(z,{class:"main-tab-view",onTabChange:R},{default:h(()=>[s(H,null,{header:h(()=>[e("div",ld,[e("span",null,t(L.$t("sidebar.guidesTab")),1)])]),default:h(()=>[s(Al)]),_:1}),s(H,null,{header:h(()=>[e("div",{class:ie(["tab-header characteristics-tab-header",{error:P.value,"points-to-spend":$.value&&!P.value}])},[e("span",null,t(L.$t("characterSheet.characteristics")),1),id,nd],2)]),default:h(()=>[s(Kl,{ref_key:"characteristicsTabContent",ref:l},null,512)]),_:1}),s(H,null,{header:h(()=>[e("div",od,[e("span",null,t(L.$t("characterSheet.equipment")),1)])]),default:h(()=>[s(Ln,{ref_key:"equipmentTabContent",ref:n},null,512)]),_:1}),s(H,null,{header:h(()=>[e("div",cd,[e("span",null,t(L.$t("characterSheet.autoItemSolver")),1)])]),default:h(()=>[s(Fc)]),_:1}),s(H,null,{header:h(()=>[e("div",rd,[e("span",null,t(L.$t("characterSheet.runesAndSubs")),1)])]),default:h(()=>[s(Du,{ref_key:"runesAndSubsTabContent",ref:q},null,512)]),_:1}),s(H,null,{header:h(()=>[e("div",ud,[e("span",null,t(L.$t("characterSheet.spellsAndPassives")),1)])]),default:h(()=>[s(Ao)]),_:1})]),_:1})])])])):(o(),r("div",dd," No Character data found for the given ID. "))}}},vd=$e(pd,[["__scopeId","data-v-ddc9c0c5"]]);export{vd as default};
