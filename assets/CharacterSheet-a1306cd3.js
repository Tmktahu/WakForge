import{_ as Se,i as be,f as me,r as $,y as Pe,g as E,q as a,o,h as d,j as e,k as s,t,z as ze,F as Z,m as ce,n as re,w as u,A as ne,l as X,B as dt,s as xe,x as we,D as bt,E as Ge,G as $t,H as mt,P as Ee,I as ge,J as ct,K as yt,S as Je,L as N,a as Ze,M as Ye,N as Qe,O as He,Q as ye,R as pt,b as Ke,T as Ue,U as rt,V as ut,W as kt,d as ht,X as St,Y as xt,p as $e,Z as Xe,$ as wt,u as Ct}from"./index-1abbe7a0.js";import{I as qe,M as je,u as Vt,E as vt,a as At}from"./addCompanion-26ce0a46.js";const H=m=>(xe("data-v-625c59f9"),m=m(),we(),m),Wt={key:0,class:"py-3",style:{overflow:"auto"}},It={class:"flex justify-content-between w-full px-2"},Et={class:"main-stat-box"},qt={class:"flex align-items-center my-1"},Pt={class:"ml-1"},Tt={class:"stat-value py-1"},Mt={class:"main-stat-box"},Dt={class:"flex align-items-center my-1"},Rt={class:"ml-1"},Ut={class:"stat-value py-1"},Lt={class:"main-stat-box"},Ft={class:"flex align-items-center my-1"},Ot={class:"ml-1"},jt={class:"stat-value py-1"},Nt={class:"main-stat-box"},Ht={class:"flex align-items-center my-1"},Bt={class:"ml-1"},zt={class:"stat-value py-1"},Gt={key:0,class:"main-stat-box"},Yt={class:"flex align-items-center my-1"},Jt={class:"ml-1"},Qt={class:"stat-value py-1"},Xt={key:1,class:"main-stat-box"},Zt={class:"flex align-items-center my-1"},Kt={class:"ml-1"},es={class:"stat-value py-1"},ts={class:"main-stat-area flex flex-column mt-2 pb-2"},ss={class:"section-header py-1 mb-1"},as={class:"flex pl-1"},ls={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},is={class:"stat-block pr-2"},ns={class:"ml-1"},os=H(()=>e("div",{class:"flex-grow-1"},null,-1)),cs={class:"stat-block pr-2"},rs={class:"ml-1"},us=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ds={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ms={class:"stat-block pr-2"},ps={class:"ml-1"},hs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),vs={class:"stat-block pr-2"},fs={class:"ml-1"},gs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),_s={class:"section-header py-1 mb-1"},bs={class:"flex pl-1"},$s={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ys={class:"stat-block pr-2"},ks={class:"ml-1"},Ss=H(()=>e("div",{class:"flex-grow-1"},null,-1)),xs={class:"stat-block pr-2"},ws={class:"ml-1"},Cs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Vs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},As={class:"stat-block pr-2"},Ws={class:"ml-1"},Is=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Es={class:"stat-block pr-2"},qs={class:"ml-1"},Ps=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ts={class:"lex flex-column"},Ms={class:"section-header py-1 mb-1"},Ds={class:"flex pl-1"},Rs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Us={class:"stat-block pr-2"},Ls={class:"ml-1"},Fs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Os={class:"stat-block pr-2"},js={class:"ml-1"},Ns=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Hs={class:"stat-block pr-2"},Bs={class:"ml-1"},zs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Gs={class:"stat-block pr-2"},Ys={class:"ml-1"},Js=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Qs={class:"stat-block pr-2"},Xs={class:"ml-1"},Zs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ks={class:"stat-block pr-2"},ea={class:"ml-1"},ta=H(()=>e("div",{class:"flex-grow-1"},null,-1)),sa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},aa={class:"stat-block pr-2"},la={class:"ml-1"},ia=H(()=>e("div",{class:"flex-grow-1"},null,-1)),na={class:"stat-block pr-2"},oa={class:"ml-1"},ca=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ra={class:"stat-block pr-2"},ua={class:"ml-1"},da=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ma={class:"stat-block pr-2"},pa={class:"ml-1"},ha=H(()=>e("div",{class:"flex-grow-1"},null,-1)),va={class:"stat-block pr-2"},fa={class:"ml-1"},ga=H(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={class:"stat-block pr-2"},ba={class:"ml-1"},$a=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ya={class:"flex flex-column"},ka={class:"section-header py-1 mb-1"},Sa={class:"flex pl-1"},xa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},wa={class:"stat-block pr-2"},Ca={class:"ml-1"},Va=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Aa={class:"stat-block pr-2"},Wa={class:"ml-1"},Ia=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ea={class:"stat-block pr-2"},qa={class:"ml-1"},Pa=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ta={class:"stat-block pr-2"},Ma={class:"ml-1"},Da=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ra={class:"stat-block pr-2"},Ua={class:"ml-1"},La=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Fa={class:"stat-block pr-2"},Oa={class:"ml-1"},ja=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Na={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ha={class:"stat-block pr-2"},Ba={class:"ml-1"},za=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ga={class:"stat-block pr-2"},Ya={class:"ml-1"},Ja=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Qa={class:"stat-block pr-2"},Xa={class:"ml-1"},Za=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ka={class:"stat-block pr-2"},el={class:"ml-1"},tl=H(()=>e("div",{class:"flex-grow-1"},null,-1)),sl={class:"stat-block pr-2"},al={class:"ml-1"},ll=H(()=>e("div",{class:"flex-grow-1"},null,-1)),il={class:"flex flex-column"},nl={class:"section-header py-1 mb-1"},ol={class:"stat-block mr-1"},cl={class:"flex flex-column px-1 py-1 w-full",style:{border:"1px solid var(--primary-40)","border-radius":"8px"}},rl={class:"mastery-container flex gap-2 w-full"},ul={class:"mastery-button-wrapper"},dl={class:"flex justify-content-center align-items-center"},ml={class:"simple-tooltip"},pl={class:"flex w-full mt-1"},hl={class:"ml-1"},vl=H(()=>e("div",{class:"flex-grow-1"},null,-1)),fl={class:"stat-block pr-2 ml-1"},gl={class:"ml-1"},_l=H(()=>e("div",{class:"flex-grow-1"},null,-1)),bl={class:"stat-block pr-2 ml-1"},$l={class:"ml-1"},yl=H(()=>e("div",{class:"flex-grow-1"},null,-1)),kl={class:"stat-block pr-2 ml-1"},Sl={class:"ml-1"},xl=H(()=>e("div",{class:"flex-grow-1"},null,-1)),wl={class:"stat-block pr-2 ml-1"},Cl={class:"ml-1"},Vl=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Al={__name:"StatDisplay",setup(m){const b=be("currentCharacter"),{calcElemResistancePercentage:F,calcTotalMastery:l,calcEffectiveHp:i}=dt(b),I=me(()=>P.value.filter(f=>f.checked).map(f=>f.id)),P=$([{name:"constants.waterMastery",id:"water",iconName:"water_coin",checked:!1},{name:"constants.airMastery",id:"air",iconName:"air_coin",checked:!1},{name:"constants.earthMastery",id:"earth",iconName:"earth_coin",checked:!1},{name:"constants.fireMastery",id:"fire",iconName:"fire_coin",checked:!1},{name:"constants.meleeMastery",id:"melee",iconName:"melee_mastery",checked:!1},{name:"constants.distanceMastery",id:"distance",iconName:"distance_mastery",checked:!1},{name:"constants.berserkMastery",id:"berserk",iconName:"berserk_mastery",checked:!1},{name:"constants.criticalMastery",id:"critical",iconName:"critical_mastery",checked:!1},{name:"constants.rearMastery",id:"rear",iconName:"rear_mastery",checked:!1},{name:"constants.healingMastery",id:"healing",iconName:"healing_mastery",checked:!1}]),B=(f,ee)=>{f.ctrlKey&&P.value.forEach(x=>{x.id!==ee?x.checked=!1:x.checked=!0})};let j=!1;return Pe(b,()=>{if(b.value&&!j){let f=[{index:0,value:b.value.masteries.water},{index:1,value:b.value.masteries.air},{index:2,value:b.value.masteries.earth},{index:3,value:b.value.masteries.fire}].sort((ee,x)=>x.value-ee.value);P.value[f[0].index].checked=!0,P.value[4].checked=b.value.masteries.melee>0,P.value[5].checked=b.value.masteries.distance>0,P.value[6].checked=b.value.masteries.berserk>0,P.value[7].checked=b.value.masteries.critical>0,P.value[8].checked=b.value.masteries.rear>0,P.value[9].checked=b.value.masteries.healing>0,j=!0}},{immediate:!0}),(f,ee)=>{const x=E("p-image"),Q=E("p-checkbox"),K=E("tippy");return a(b)?(o(),d("div",Wt,[e("div",It,[e("div",Et,[e("div",qt,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",Pt,t(f.$t("constants.hp")),1)]),e("div",Tt,t(a(b).healthPoints),1)]),e("div",Mt,[e("div",Dt,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",Rt,t(f.$t("characterSheet.statsDisplay.ar")),1)]),e("div",Ut,t(a(b).armorPoints),1)]),e("div",Lt,[e("div",Ft,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",Ot,t(f.$t("constants.ap")),1)]),e("div",jt,t(a(b).actionPoints),1)]),e("div",Nt,[e("div",Ht,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Bt,t(f.$t("constants.mp")),1)]),e("div",zt,t(a(b).movementPoints),1)]),a(b).class===a(ze).huppermage.id?(o(),d("div",Gt,[e("div",Yt,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Jt,t(f.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Qt,t(a(b).quadrumentalBreeze),1)])):(o(),d("div",Xt,[e("div",Zt,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Kt,t(f.$t("constants.wp")),1)]),e("div",es,t(a(b).wakfuPoints),1)]))]),e("div",ts,[e("div",ss,t(f.$t("constants.elementalMasteries")),1),e("div",as,[e("div",ls,[e("div",is,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",ns,t(f.$t("characterSheet.statsDisplay.water")),1),os,e("span",null,t(a(b).masteries.water),1)]),e("div",cs,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",rs,t(f.$t("characterSheet.statsDisplay.air")),1),us,e("span",null,t(a(b).masteries.air),1)])]),e("div",ds,[e("div",ms,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",ps,t(f.$t("characterSheet.statsDisplay.earth")),1),hs,e("span",null,t(a(b).masteries.earth),1)]),e("div",vs,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",fs,t(f.$t("characterSheet.statsDisplay.fire")),1),gs,e("span",null,t(a(b).masteries.fire),1)])])]),e("div",_s,t(f.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",bs,[e("div",$s,[e("div",ys,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",ks,t(f.$t("characterSheet.statsDisplay.water")),1),Ss,e("span",null,t(a(F)(a(b).resistances.water))+"% ("+t(a(b).resistances.water)+")",1)]),e("div",xs,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ws,t(f.$t("characterSheet.statsDisplay.air")),1),Cs,e("span",null,t(a(F)(a(b).resistances.air))+"% ("+t(a(b).resistances.air)+")",1)])]),e("div",Vs,[e("div",As,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Ws,t(f.$t("characterSheet.statsDisplay.earth")),1),Is,e("span",null,t(a(F)(a(b).resistances.earth))+"% ("+t(a(b).resistances.earth)+")",1)]),e("div",Es,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",qs,t(f.$t("characterSheet.statsDisplay.fire")),1),Ps,e("span",null,t(a(F)(a(b).resistances.fire))+"% ("+t(a(b).resistances.fire)+")",1)])])]),e("div",Ts,[e("div",Ms,t(f.$t("characterSheet.statsDisplay.battle")),1),e("div",Ds,[e("div",Rs,[e("div",Us,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",Ls,t(f.$t("constants.damageInflicted")),1),Fs,e("span",null,t(a(b).stats.damageInflicted)+"%",1)]),e("div",Os,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",js,t(f.$t("characterSheet.statsDisplay.criticalHit")),1),Ns,e("span",null,t(a(b).stats.criticalHit)+"%",1)]),e("div",Hs,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Bs,t(f.$t("constants.initiative")),1),zs,e("span",null,t(a(b).stats.initiative),1)]),e("div",Gs,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ys,t(f.$t("constants.dodge")),1),Js,e("span",null,t(a(b).stats.dodge),1)]),e("div",Qs,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Xs,t(f.$t("constants.wisdom")),1),Zs,e("span",null,t(a(b).stats.wisdom),1)]),e("div",Ks,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",ea,t(f.$t("constants.control")),1),ta,e("span",null,t(a(b).stats.control),1)])]),e("div",sa,[e("div",aa,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",la,t(f.$t("constants.healsPerformed")),1),ia,e("span",null,t(a(b).stats.healsPerformed)+"%",1)]),e("div",na,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",oa,t(f.$t("characterSheet.statsDisplay.block")),1),ca,e("span",null,t(a(b).stats.block)+"%",1)]),e("div",ra,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",ua,t(f.$t("constants.range")),1),da,e("span",null,t(a(b).stats.range),1)]),e("div",ma,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",pa,t(f.$t("constants.lock")),1),ha,e("span",null,t(a(b).stats.lock),1)]),e("div",va,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",fa,t(f.$t("constants.prospecting")),1),ga,e("span",null,t(a(b).stats.prospecting),1)]),e("div",_a,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",ba,t(f.$t("constants.forceOfWill")),1),$a,e("span",null,t(a(b).stats.forceOfWill),1)])])])]),e("div",ya,[e("div",ka,t(f.$t("characterSheet.statsDisplay.secondary")),1),e("div",Sa,[e("div",xa,[e("div",wa,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",Ca,t(f.$t("constants.criticalMastery")),1),Va,e("span",null,t(a(b).masteries.critical),1)]),e("div",Aa,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",Wa,t(f.$t("constants.rearMastery")),1),Ia,e("span",null,t(a(b).masteries.rear),1)]),e("div",Ea,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",qa,t(f.$t("constants.meleeMastery")),1),Pa,e("span",null,t(a(b).masteries.melee),1)]),e("div",Ta,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",Ma,t(f.$t("constants.distanceMastery")),1),Da,e("span",null,t(a(b).masteries.distance),1)]),e("div",Ra,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",Ua,t(f.$t("constants.healingMastery")),1),La,e("span",null,t(a(b).masteries.healing),1)]),e("div",Fa,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Oa,t(f.$t("constants.berserkMastery")),1),ja,e("span",null,t(a(b).masteries.berserk),1)])]),e("div",Na,[e("div",Ha,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",Ba,t(f.$t("constants.criticalResistance")),1),za,e("span",null,t(a(b).resistances.critical),1)]),e("div",Ga,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Ya,t(f.$t("constants.rearResistance")),1),Ja,e("span",null,t(a(b).resistances.rear),1)]),e("div",Qa,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Xa,t(f.$t("constants.armorGiven")),1),Za,e("span",null,t(a(b).stats.armorGiven)+"%",1)]),e("div",Ka,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",el,t(f.$t("characterSheet.statsDisplay.armorReceived")),1),tl,e("span",null,t(a(b).stats.armorReceived)+"%",1)]),e("div",sl,[s(x,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",al,t(f.$t("characterSheet.statsDisplay.indirectDamage")),1),ll,e("span",null,t(a(b).stats.indirectDamage)+"%",1)])])])])]),e("div",il,[e("div",nl,t(f.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",ol,[e("div",cl,[e("div",rl,[e("div",ul,[(o(!0),d(Z,null,ce(P.value,A=>(o(),re(K,{key:A.id,duration:"0"},{content:u(()=>[e("div",ml,t(f.$t(A.name)),1)]),default:u(()=>[s(Q,{modelValue:A.checked,"onUpdate:modelValue":T=>A.checked=T,binary:!0,class:"mastery-checkbox",onChange:T=>B(T,A.id)},{icon:u(T=>[e("div",dl,[s(x,{class:ne(["checkbox-icon",{disabled:!T.checked}]),src:`https://tmktahu.github.io/WakfuAssets/statistics/${A.iconName}.png`,"image-style":"width: 20px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",pl,[s(x,{src:"https://tmktahu.github.io/WakfuAssets/characteristics/223.png",style:{height:"20px"},"image-style":"height: 20px"}),e("span",hl,t(f.$t("tooltips.totalMastery")),1),vl,e("span",null,t(a(l)(I.value)),1)])])]),e("div",fl,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",gl,t(f.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:f.$t("characterSheet.statsDisplay.water")})),1),_l,e("span",null,t(a(i)("water")),1)]),e("div",bl,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",$l,t(f.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:f.$t("characterSheet.statsDisplay.air")})),1),yl,e("span",null,t(a(i)("air")),1)]),e("div",kl,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",Sl,t(f.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:f.$t("characterSheet.statsDisplay.earth")})),1),xl,e("span",null,t(a(i)("earth")),1)]),e("div",wl,[s(x,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",Cl,t(f.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:f.$t("characterSheet.statsDisplay.fire")})),1),Vl,e("span",null,t(a(i)("fire")),1)])])])):X("",!0)}}},Wl=Se(Al,[["__scopeId","data-v-625c59f9"]]);const Il=m=>(xe("data-v-a7f58026"),m=m(),we(),m),El={class:"flex flex-column h-full"},ql={class:"text-xl font-bold",style:{"text-transform":"capitalize"}},Pl={class:"mt-1"},Tl={class:"mt-3"},Ml={class:"guide-name"},Dl=Il(()=>e("div",{class:"flex-grow-1"},null,-1)),Rl={class:"guide-language"},Ul={class:"guide-description"},Ll={__name:"GuidesTabContent",setup(m){const b=be("currentCharacter"),F=me(()=>bt[b.value.class]),l=i=>{window.open(i.url,"_blank").focus()};return(i,I)=>{const P=E("p-divider"),B=E("p-button");return o(),d("div",El,[e("div",ql,t(i.$t("characterSheet.guidesContent.classGuides",{class:a(b).class})),1),e("div",Pl,t(i.$t("characterSheet.guidesContent.doYouHaveAGuide")),1),e("div",Tl,[(o(!0),d(Z,null,ce(F.value,j=>(o(),d("div",{key:j.name,class:"guide-entry px-3 py-1 mb-2"},[e("div",Ml,t(j.name),1),Dl,s(P,{layout:"vertical"}),e("div",Rl,t((j.languages[0]?i.$t(j.languages[0]):"")+(j.languages[1]?", "+i.$t(j.languages[1]):"")+(j.languages[2]?", "+i.$t(j.languages[2]):"")),1),s(P,{layout:"vertical"}),e("div",Ul,t(j.description),1),s(B,{label:i.$t("characterSheet.guidesContent.openGuide"),class:"ml-2 py-1 px-3",style:{"min-width":"fit-content"},onClick:f=>l(j)},null,8,["label","onClick"])]))),128))]),s(P)])}}},Fl=Se(Ll,[["__scopeId","data-v-a7f58026"]]);const Ol=m=>(xe("data-v-c1799ab4"),m=m(),we(),m),jl={class:"flex align-items-center my-1"},Nl={class:"entry-label ml-2"},Hl=Ol(()=>e("div",{class:"flex-grow-1"},null,-1)),Bl={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(m){return(b,F)=>{const l=E("p-image"),i=E("p-inputNumber");return o(),d("div",jl,[s(l,{src:m.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",Nl,t(m.label),1),Hl,s(i,Ge(b.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(m.maxOverride,m.remainingPoints+b.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:m.updateFunction}),null,16,["max","onInput"])])}}},te=Se(Bl,[["__scopeId","data-v-c1799ab4"]]);const ke=m=>(xe("data-v-3a316642"),m=m(),we(),m),zl={class:"flex flex-column h-full"},Gl={class:"characteristic-panels flex pb-3"},Yl={class:"flex flex-column flex-grow-1 mr-1"},Jl={class:"characteristics-category-header px-2 py-2"},Ql=ke(()=>e("div",{class:"flex-grow-1"},null,-1)),Xl={class:"flex flex-column px-2 py-1"},Zl={class:"characteristics-category-header px-2 py-2"},Kl=ke(()=>e("div",{class:"flex-grow-1"},null,-1)),ei={class:"flex flex-column px-2 py-1"},ti={class:"characteristics-category-header px-2 py-2"},si=ke(()=>e("div",{class:"flex-grow-1"},null,-1)),ai={class:"flex flex-column px-2 py-1"},li={class:"flex flex-column flex-grow-1 ml-1"},ii={class:"characteristics-category-header px-2 py-2"},ni=ke(()=>e("div",{class:"flex-grow-1"},null,-1)),oi={class:"flex flex-column px-2 py-1"},ci={class:"characteristics-category-header px-2 py-2"},ri=ke(()=>e("div",{class:"flex-grow-1"},null,-1)),ui={class:"flex flex-column px-2 py-1"},di={class:"mt-1"},mi=ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),pi={class:"simple-tooltip"},hi={class:"flex mt-2"},vi={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},fi={key:0},gi=["onClick"],_i=ke(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),bi={class:"spell-tooltip"},$i={class:"spell-name px-2 py-1"},yi={class:"spell-description px-2 py-1"},ki=["innerHTML"],Si={key:0,class:"spell-unlock-number"},xi={class:"flex flex-wrap gap-1"},wi=["onClick"],Ci=ke(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Vi=ke(()=>e("div",{class:"disabled-mask"},null,-1)),Ai={key:0,class:"spell-unlock-number"},Wi={class:"spell-tooltip"},Ii={class:"spell-name px-2 py-1"},Ei={class:"spell-description px-2 py-1"},qi=["innerHTML"],Pi={class:"flex flex-wrap gap-1"},Ti=["onClick"],Mi=ke(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Di=ke(()=>e("div",{class:"disabled-mask"},null,-1)),Ri={key:0,class:"spell-unlock-number"},Ui={class:"spell-tooltip"},Li={class:"spell-name px-2 py-1"},Fi={class:"spell-description px-2 py-1"},Oi=["innerHTML"],ji={__name:"CharacteristicsTabContent",setup(m,{expose:b}){const F=be("masterData"),l=be("currentCharacter"),i=$(!1),I=me(()=>i.value?10:1);$t(()=>{document.addEventListener("keydown",c=>{P(c)}),document.addEventListener("keyup",c=>{P(c)})});const P=c=>{c.shiftKey?i.value=!0:i.value=!1},B=$(l.value.characteristics.intelligence.percentHealthPoints),j=$(l.value.characteristics.intelligence.elementalResistance),f=$(l.value.characteristics.intelligence.barrier),ee=$(l.value.characteristics.intelligence.percentHealsReceived),x=$(l.value.characteristics.intelligence.percentArmorHeathPoints),Q=$(l.value.characteristics.strength.elementalMastery),K=$(l.value.characteristics.strength.meleeMastery),A=$(l.value.characteristics.strength.distanceMastery),T=$(l.value.characteristics.strength.healthPoints),W=$(l.value.characteristics.agility.lock),G=$(l.value.characteristics.agility.dodge),w=$(l.value.characteristics.agility.initiative),V=$(l.value.characteristics.agility.lockAndDodge),oe=$(l.value.characteristics.agility.forceOfWill),M=$(l.value.characteristics.fortune.percentCriticalHit),R=$(l.value.characteristics.fortune.percentBlock),ue=$(l.value.characteristics.fortune.criticalMastery),Y=$(l.value.characteristics.fortune.rearMastery),k=$(l.value.characteristics.fortune.berserkMastery),D=$(l.value.characteristics.fortune.healingMastery),O=$(l.value.characteristics.fortune.rearResistance),le=$(l.value.characteristics.fortune.criticalResistance),_e=$(l.value.characteristics.major.actionPoints),se=$(l.value.characteristics.major.movementPointsAndDamage),ie=$(l.value.characteristics.major.rangeAndDamage),L=$(l.value.characteristics.major.wakfuPoints),pe=$(l.value.characteristics.major.controlAndDamage),he=$(l.value.characteristics.major.percentDamageInflicted),S=$(l.value.characteristics.major.elementalResistance),v=c=>{let p=0;return c==="intelligence"?p=B.value+j.value+f.value+ee.value+x.value:c==="strength"?p=Q.value+K.value+A.value+T.value:c==="agility"?p=W.value+G.value+w.value+V.value+oe.value:c==="fortune"?p=M.value+R.value+ue.value+Y.value+k.value+D.value+O.value+le.value:c==="major"&&(p=_e.value+se.value+ie.value+L.value+pe.value+he.value+S.value),l.value.characteristics.limits[c]-p},z=()=>{l.value.characteristics.intelligence.percentHealthPoints=B.value,l.value.characteristics.intelligence.elementalResistance=j.value,l.value.characteristics.intelligence.barrier=f.value,l.value.characteristics.intelligence.percentHealsReceived=ee.value,l.value.characteristics.intelligence.percentArmorHeathPoints=x.value,l.value.characteristics.strength.elementalMastery=Q.value,l.value.characteristics.strength.meleeMastery=K.value,l.value.characteristics.strength.distanceMastery=A.value,l.value.characteristics.strength.healthPoints=T.value,l.value.characteristics.agility.lock=W.value,l.value.characteristics.agility.dodge=G.value,l.value.characteristics.agility.initiative=w.value,l.value.characteristics.agility.lockAndDodge=V.value,l.value.characteristics.agility.forceOfWill=oe.value,l.value.characteristics.fortune.percentCriticalHit=M.value,l.value.characteristics.fortune.percentBlock=R.value,l.value.characteristics.fortune.criticalMastery=ue.value,l.value.characteristics.fortune.rearMastery=Y.value,l.value.characteristics.fortune.berserkMastery=k.value,l.value.characteristics.fortune.healingMastery=D.value,l.value.characteristics.fortune.rearResistance=O.value,l.value.characteristics.fortune.criticalResistance=le.value,l.value.characteristics.major.actionPoints=_e.value,l.value.characteristics.major.movementPointsAndDamage=se.value,l.value.characteristics.major.rangeAndDamage=ie.value,l.value.characteristics.major.wakfuPoints=L.value,l.value.characteristics.major.controlAndDamage=pe.value,l.value.characteristics.major.percentDamageInflicted=he.value,l.value.characteristics.major.elementalResistance=S.value};Pe(F,mt.debounce(()=>{B.value=l.value.characteristics.intelligence.percentHealthPoints,j.value=l.value.characteristics.intelligence.elementalResistance,f.value=l.value.characteristics.intelligence.barrier,ee.value=l.value.characteristics.intelligence.percentHealsReceived,x.value=l.value.characteristics.intelligence.percentArmorHeathPoints,Q.value=l.value.characteristics.strength.elementalMastery,K.value=l.value.characteristics.strength.meleeMastery,A.value=l.value.characteristics.strength.distanceMastery,T.value=l.value.characteristics.strength.healthPoints,W.value=l.value.characteristics.agility.lock,G.value=l.value.characteristics.agility.dodge,w.value=l.value.characteristics.agility.initiative,V.value=l.value.characteristics.agility.lockAndDodge,oe.value=l.value.characteristics.agility.forceOfWill,M.value=l.value.characteristics.fortune.percentCriticalHit,R.value=l.value.characteristics.fortune.percentBlock,ue.value=l.value.characteristics.fortune.criticalMastery,Y.value=l.value.characteristics.fortune.rearMastery,k.value=l.value.characteristics.fortune.berserkMastery,D.value=l.value.characteristics.fortune.healingMastery,O.value=l.value.characteristics.fortune.rearResistance,le.value=l.value.characteristics.fortune.criticalResistance,_e.value=l.value.characteristics.major.actionPoints,se.value=l.value.characteristics.major.movementPointsAndDamage,ie.value=l.value.characteristics.major.rangeAndDamage,L.value=l.value.characteristics.major.wakfuPoints,pe.value=l.value.characteristics.major.controlAndDamage,he.value=l.value.characteristics.major.percentDamageInflicted,S.value=l.value.characteristics.major.elementalResistance},100));const Me=me(()=>v("intelligence")<0||v("strength")<0||v("agility")<0||v("fortune")<0||v("major")<0),De=me(()=>v("intelligence")>0||v("strength")>0||v("agility")>0||v("fortune")>0||v("major")>0),{getClassPassiveSpells:r,getSpellHtml:h,getSpellLevel:U}=yt(l),q=me(()=>r(l.value.class).sort((n,C)=>{let J=Ee[n.id],de=Ee[C.id];return J-de})),ae=me(()=>r("all").sort((n,C)=>{let J=Ee[n.id],de=Ee[C.id];return J-de})),ve=c=>{c.category===Je.passive&&(Object.keys(l.value.spells).forEach(p=>{var n;p.includes(Je.passive)&&((n=l.value.spells[p])==null?void 0:n.id)===c.id&&(l.value.spells[p]=null)}),Object.keys(l.value.spells).some(p=>{if(p.includes(Je.passive)&&_(parseInt(p.replace("passiveSlot","")))&&l.value.spells[p]===null)return l.value.spells[p]=c,!0}))},Re=c=>{l.value.spells[c]=null},We=c=>{let p=!1;return Object.keys(l.value.spells).forEach(n=>{var C;((C=l.value.spells[n])==null?void 0:C.id)===c.id&&(p=!0)}),p},Ce=c=>{let p=Ee[c.id];return l.value.level>=p},_=c=>{let p=ct[c-1];return l.value.level>=p};return b({hasCharacteristicsError:Me,hasCharacteristicsPointsToSpend:De}),(c,p)=>{var J,de,Ve,Le,Fe,Oe,y,Ae,et,tt,st,at,lt,it,nt;const n=E("tippy"),C=E("p-image");return o(),d("div",zl,[e("div",Gl,[e("div",Yl,[e("div",{class:ne(["category-wrapper flex flex-column",{error:v("intelligence")<0}])},[e("div",Jl,[e("span",null,t(c.$t("characterSheet.characteristicsContent.intelligence")),1),Ql,e("span",null,t(v("intelligence"))+"/"+t((Ve=(de=(J=a(l))==null?void 0:J.characteristics)==null?void 0:de.limits)==null?void 0:Ve.intelligence)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Xl,[s(te,{modelValue:B.value,"onUpdate:modelValue":p[0]||(p[0]=g=>B.value=g),label:c.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":v("intelligence"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:j.value,"onUpdate:modelValue":p[1]||(p[1]=g=>j.value=g),label:c.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":v("intelligence"),"update-function":z,"max-override":10,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:f.value,"onUpdate:modelValue":p[2]||(p[2]=g=>f.value=g),label:c.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":v("intelligence"),"update-function":z,"max-override":10,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:ee.value,"onUpdate:modelValue":p[3]||(p[3]=g=>ee.value=g),label:c.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":v("intelligence"),"update-function":z,"max-override":5,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:x.value,"onUpdate:modelValue":p[4]||(p[4]=g=>x.value=g),label:c.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":v("intelligence"),"update-function":z,"max-override":10,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column mt-2",{error:v("strength")<0}])},[e("div",Zl,[e("span",null,t(c.$t("characterSheet.characteristicsContent.strength")),1),Kl,e("span",null,t(v("strength"))+"/"+t((Oe=(Fe=(Le=a(l))==null?void 0:Le.characteristics)==null?void 0:Fe.limits)==null?void 0:Oe.strength)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ei,[s(te,{modelValue:Q.value,"onUpdate:modelValue":p[5]||(p[5]=g=>Q.value=g),label:c.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":v("strength"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:K.value,"onUpdate:modelValue":p[6]||(p[6]=g=>K.value=g),label:c.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":v("strength"),"update-function":z,"max-override":40,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:A.value,"onUpdate:modelValue":p[7]||(p[7]=g=>A.value=g),label:c.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":v("strength"),"update-function":z,"max-override":40,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:T.value,"onUpdate:modelValue":p[8]||(p[8]=g=>T.value=g),label:c.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":v("strength"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column mt-2",{error:v("agility")<0}])},[e("div",ti,[e("span",null,t(c.$t("characterSheet.characteristicsContent.agility")),1),si,e("span",null,t(v("agility"))+"/"+t((et=(Ae=(y=a(l))==null?void 0:y.characteristics)==null?void 0:Ae.limits)==null?void 0:et.agility)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ai,[s(te,{modelValue:W.value,"onUpdate:modelValue":p[9]||(p[9]=g=>W.value=g),label:c.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":v("agility"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:G.value,"onUpdate:modelValue":p[10]||(p[10]=g=>G.value=g),label:c.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":v("agility"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:w.value,"onUpdate:modelValue":p[11]||(p[11]=g=>w.value=g),label:c.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":v("agility"),"update-function":z,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:V.value,"onUpdate:modelValue":p[12]||(p[12]=g=>V.value=g),label:c.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":v("agility"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:oe.value,"onUpdate:modelValue":p[13]||(p[13]=g=>oe.value=g),label:c.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":v("agility"),"update-function":z,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",li,[e("div",{class:ne(["category-wrapper flex flex-column flex-grow-1",{error:v("fortune")<0}])},[e("div",ii,[e("span",null,t(c.$t("characterSheet.characteristicsContent.fortune")),1),ni,e("span",null,t(v("fortune"))+"/"+t((at=(st=(tt=a(l))==null?void 0:tt.characteristics)==null?void 0:st.limits)==null?void 0:at.fortune)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",oi,[s(te,{modelValue:M.value,"onUpdate:modelValue":p[14]||(p[14]=g=>M.value=g),label:c.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":v("fortune"),"update-function":z,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:R.value,"onUpdate:modelValue":p[15]||(p[15]=g=>R.value=g),label:c.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":v("fortune"),"update-function":z,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:ue.value,"onUpdate:modelValue":p[16]||(p[16]=g=>ue.value=g),label:c.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":v("fortune"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:Y.value,"onUpdate:modelValue":p[17]||(p[17]=g=>Y.value=g),label:c.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":v("fortune"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:k.value,"onUpdate:modelValue":p[18]||(p[18]=g=>k.value=g),label:c.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":v("fortune"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:D.value,"onUpdate:modelValue":p[19]||(p[19]=g=>D.value=g),label:c.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":v("fortune"),"update-function":z,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:O.value,"onUpdate:modelValue":p[20]||(p[20]=g=>O.value=g),label:c.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":v("fortune"),"update-function":z,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:le.value,"onUpdate:modelValue":p[21]||(p[21]=g=>le.value=g),label:c.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":v("fortune"),"update-function":z,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ne(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:v("major")<0}])},[e("div",ci,[e("span",null,t(c.$t("characterSheet.characteristicsContent.major")),1),ri,e("span",null,t(v("major"))+"/"+t((nt=(it=(lt=a(l))==null?void 0:lt.characteristics)==null?void 0:it.limits)==null?void 0:nt.major)+" "+t(c.$t("characterSheet.characteristicsContent.points")),1)]),e("div",ui,[s(te,{modelValue:_e.value,"onUpdate:modelValue":p[22]||(p[22]=g=>_e.value=g),label:c.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":v("major"),"update-function":z,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:se.value,"onUpdate:modelValue":p[23]||(p[23]=g=>se.value=g),label:c.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":v("major"),"update-function":z,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:ie.value,"onUpdate:modelValue":p[24]||(p[24]=g=>ie.value=g),label:c.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":v("major"),"update-function":z,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:L.value,"onUpdate:modelValue":p[25]||(p[25]=g=>L.value=g),label:c.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":v("major"),"update-function":z,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:pe.value,"onUpdate:modelValue":p[26]||(p[26]=g=>pe.value=g),label:c.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":v("major"),"update-function":z,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:he.value,"onUpdate:modelValue":p[27]||(p[27]=g=>he.value=g),label:c.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":v("major"),"update-function":z,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:S.value,"onUpdate:modelValue":p[28]||(p[28]=g=>S.value=g),label:c.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":v("major"),"update-function":z,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2)])]),e("div",di,[s(n,{placement:"left"},{content:u(()=>[e("div",pi,t(c.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:u(()=>[mi]),_:1}),ge(" "+t(c.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",hi,[e("div",vi,[(o(),d(Z,null,ce(6,g=>(o(),d(Z,{key:g},[a(l).spells["passiveSlot"+g]!==null?(o(),d("div",fi,[s(n,{duration:"0"},{content:u(()=>[e("div",bi,[e("div",$i,t(a(l).spells["passiveSlot"+g].name)+" (Level "+t(a(U)(a(l).spells["passiveSlot"+g]))+") ",1),e("div",yi,t(a(l).spells["passiveSlot"+g].description),1),e("div",{class:"spell-details",innerHTML:a(h)(a(l).spells["passiveSlot"+g])},null,8,ki)])]),default:u(()=>[e("div",{class:"spell-button",onClick:ot=>Re("passiveSlot"+g)},[_i,s(C,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(l).spells["passiveSlot"+g].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,gi)]),_:2},1024)])):(o(),d("div",{key:1,class:ne(["spell-slot",{disabled:!_(g)}])},[s(C,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),_(g)?X("",!0):(o(),d("div",Si,t(a(ct)[g-1]),1))],2))],64))),64))]),e("div",xi,[(o(!0),d(Z,null,ce(q.value,g=>(o(),re(n,{key:g.id,duration:"0"},{content:u(()=>[e("div",Wi,[e("div",Ii,t(g.name)+" (Level "+t(a(U)(g))+")",1),e("div",Ei,t(g.description),1),e("div",{class:"spell-details",innerHTML:a(h)(g)},null,8,qi)])]),default:u(()=>[e("div",{class:ne(["spell-button",{disabled:We(g)||!Ce(g)}]),onClick:ot=>ve(g)},[Ci,Vi,s(C,{src:`https://tmktahu.github.io/WakfuAssets/spells/${g.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),Ce(g)?X("",!0):(o(),d("div",Ai,t(a(Ee)[g.id]),1))],10,wi)]),_:2},1024))),128))]),e("div",Pi,[(o(!0),d(Z,null,ce(ae.value,g=>(o(),re(n,{key:g.id,duration:"0"},{content:u(()=>[e("div",Ui,[e("div",Li,t(g.name)+" (Level "+t(a(U)(g))+")",1),e("div",Fi,t(g.description),1),e("div",{class:"spell-details",innerHTML:a(h)(g)},null,8,Oi)])]),default:u(()=>[e("div",{class:ne(["spell-button",{disabled:We(g)||!Ce(g)}]),onClick:ot=>ve(g)},[Mi,Di,s(C,{src:`https://tmktahu.github.io/WakfuAssets/spells/${g.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),Ce(g)?X("",!0):(o(),d("div",Ri,t(a(Ee)[g.id]),1))],10,Ti)]),_:2},1024))),128))])])])}}},Ni=Se(ji,[["__scopeId","data-v-3a316642"]]);const ft=m=>(xe("data-v-a7caaa62"),m=m(),we(),m),Hi={class:"flex align-items-center flex-wrap mt-3"},Bi={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},zi={class:"checkmarks-container flex gap-2"},Gi={class:"rarity-container mt-2"},Yi={class:"flex align-items-center mb-1"},Ji=ft(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Qi={class:"simple-tooltip"},Xi={class:"mr-2 ml-1"},Zi={class:"rarity-button-wrapper"},Ki={class:"flex justify-content-center align-items-center"},en={class:"simple-tooltip"},tn={class:"item-types-container mt-2"},sn={class:"flex align-items-center justify-content-center mb-1 w-full"},an=ft(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ln={class:"simple-tooltip"},nn={class:"mr-2 ml-1"},on={class:"simple-tooltip"},cn={class:"item-types-button-wrapper"},rn={class:"filter-category-wrapper"},un={class:"flex justify-content-center align-items-center"},dn={class:"simple-tooltip"},mn={class:"filter-category-wrapper"},pn={class:"flex justify-content-center align-items-center"},hn={class:"simple-tooltip"},vn={class:"filter-category-wrapper"},fn={class:"flex justify-content-center align-items-center"},gn={class:"simple-tooltip"},_n={class:"filter-list-wrapper mt-3"},bn={class:"px-2 py-1"},$n={class:"px-2 py-1"},yn={__name:"ItemFilters",setup(m){const b=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],l=[N.healthPoints.id,N.healingMastery.id,N.actionPoints.id,N.movementPoints.id,N.rearResistance.id,N.elementalResistance.id,N.fireResistance.id,N.waterResistance.id,N.earthResistance.id,N.airResistance.id,N.elementalMastery.id,N.fireMastery.id,N.earthMastery.id,N.waterMastery.id,N.airMastery.id,N.criticalMastery.id,N.criticalHit.id,N.range.id,N.prospecting.id,N.wisdom.id,N.initiative.id,N.lock.id,N.dodge.id,N.forceOfWill.id,N.rearMastery.id,N.control.id,N.wakfuPoints.id,N.percentBlock.id,N.criticalResistance.id,N.meleeMastery.id,N.distanceMastery.id,N.berserkMastery.id,N.randomElementalMasteries.id,N.randomElementalResistances.id,N.harvestingQuantity.id,N.armorGiven.id,N.armorReceived.id].map(k=>({value:k,text:N[k].text})),i=be("itemFilters"),I=$(""),P=$([i.startLevel,i.endLevel]),B=$([]),j=$(i.rarityFilters),f=$(i.itemTypeFilters),ee=$(!1),x=()=>{W()},Q=(k,D)=>{D==="min"&&(P.value[0]=k.value),D==="max"&&(P.value[1]=k.value),W()},K=()=>{W()},A=(k,D)=>{k.ctrlKey&&i.itemTypeFilters.forEach(O=>{O.id!==D?O.checked=!1:O.checked=!0}),W()},T=(k,D)=>{k.ctrlKey&&i.rarityFilters.forEach(O=>{O.id!==D?O.checked=!1:O.checked=!0}),W()},W=mt.debounce(k=>{var D;i.searchTerm=I.value,i.startLevel=P.value[0],i.endLevel=P.value[1],i.effectFilters=B.value,i.rarityFilters=j.value,k&&((D=k.rawIds)!=null&&D.length)?G(k):i.itemTypeFilters=f.value},100),G=k=>{k.rawIds.forEach(D=>{let O=f.value.find(le=>le.rawId===D);O.checked=k.checked})},w=()=>{let k={type:l[0],comparator:b[2],value:0};B.value.push(k),W()},V=k=>{let D=B.value.indexOf(k);B.value.splice(D,1),W()},oe=()=>{i.resetFilters(),I.value=i.searchTerm,P.value[0]=i.startLevel,P.value[1]=i.endLevel,B.value=i.effectFilters,j.value=i.rarityFilters,f.value=i.itemTypeFilters},M=()=>{i.rarityFilters.forEach(k=>{k.checked=!0}),W()},R=()=>{i.rarityFilters.forEach(k=>{k.checked=!1}),W()},ue=()=>{i.itemTypeFilters.forEach(k=>{k.checked=!0}),W()},Y=()=>{i.itemTypeFilters.forEach(k=>{k.checked=!1}),W()};return(k,D)=>{const O=E("p-inputText"),le=E("p-inputNumber"),_e=E("p-slider"),se=E("p-button"),ie=E("tippy"),L=E("p-image"),pe=E("p-checkbox"),he=E("p-dropdown");return o(),d(Z,null,[e("div",Hi,[s(O,{modelValue:I.value,"onUpdate:modelValue":D[0]||(D[0]=S=>I.value=S),placeholder:k.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:x},null,8,["modelValue","placeholder"]),e("div",Bi,[s(le,{modelValue:P.value[0],"onUpdate:modelValue":D[1]||(D[1]=S=>P.value[0]=S),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:D[2]||(D[2]=S=>Q(S,"min"))},null,8,["modelValue"]),s(_e,{modelValue:P.value,"onUpdate:modelValue":D[3]||(D[3]=S=>P.value=S),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:K},null,8,["modelValue"]),s(le,{modelValue:P.value[1],"onUpdate:modelValue":D[4]||(D[4]=S=>P.value[1]=S),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:D[5]||(D[5]=S=>Q(S,"max"))},null,8,["modelValue"])]),s(se,{class:"filter-button",label:k.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:oe},null,8,["label"])]),e("div",zi,[e("div",Gi,[e("div",Yi,[s(se,{class:"filter-button item-filter-action mr-2",label:k.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:M},null,8,["label"]),s(ie,{placement:"top"},{content:u(()=>[e("div",Qi,t(k.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:u(()=>[Ji]),_:1}),e("div",Xi,t(k.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(se,{class:"filter-button item-filter-action",label:k.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:R},null,8,["label"])]),e("div",Zi,[(o(!0),d(Z,null,ce(j.value,S=>(o(),re(ie,{key:S.id,duration:"0"},{content:u(()=>[e("div",en,t(k.$t(S.name)),1)]),default:u(()=>[s(pe,{modelValue:S.checked,"onUpdate:modelValue":v=>S.checked=v,binary:!0,class:"rarity-checkbox",onChange:v=>T(v,S.id)},{icon:u(v=>[e("div",Ki,[s(L,{class:ne({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${S.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",tn,[e("div",sn,[s(se,{class:"filter-button item-filter-action mr-2",label:k.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:ue},null,8,["label"]),s(ie,{placement:"top"},{content:u(()=>[e("div",ln,t(k.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:u(()=>[an]),_:1}),e("div",nn,t(k.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(ie,null,{content:u(()=>[e("div",on,t(k.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:u(()=>[s(pe,{modelValue:ee.value,"onUpdate:modelValue":D[6]||(D[6]=S=>ee.value=S),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(se,{class:"filter-button item-filter-action",label:k.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:Y},null,8,["label"])]),e("div",cn,[e("div",rn,[(o(!0),d(Z,null,ce(f.value.filter(S=>S.category==="armor"),S=>(o(),d(Z,{key:S.id},[!S.advanced||ee.value?(o(),re(ie,{key:0,duration:"0"},{content:u(()=>[e("div",dn,t(k.$t(S.name)),1)]),default:u(()=>[s(pe,{modelValue:S.checked,"onUpdate:modelValue":v=>S.checked=v,binary:!0,class:"item-type-checkbox",onChange:v=>A(v,S.id)},{icon:u(v=>[e("div",un,[S.rawId?(o(),re(L,{key:0,class:ne({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${S.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(L,{key:1,class:ne({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${S.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):X("",!0)],64))),128))]),e("div",mn,[(o(!0),d(Z,null,ce(f.value.filter(S=>S.category==="weapons"),S=>(o(),d(Z,{key:S.id},[!S.advanced||ee.value?(o(),re(ie,{key:0,duration:"0"},{content:u(()=>[e("div",hn,t(k.$t(S.name)),1)]),default:u(()=>[s(pe,{modelValue:S.checked,"onUpdate:modelValue":v=>S.checked=v,binary:!0,class:"item-type-checkbox",onChange:v=>a(W)(S)},{icon:u(v=>[e("div",pn,[S.rawId?(o(),re(L,{key:0,class:ne({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${S.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(L,{key:1,class:ne({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${S.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):X("",!0)],64))),128))]),e("div",vn,[(o(!0),d(Z,null,ce(f.value.filter(S=>S.category==="miscellaneous"),S=>(o(),d(Z,{key:S.id},[!S.advanced||ee.value?(o(),re(ie,{key:0,duration:"0"},{content:u(()=>[e("div",gn,t(k.$t(S.name)),1)]),default:u(()=>[s(pe,{modelValue:S.checked,"onUpdate:modelValue":v=>S.checked=v,binary:!0,class:"item-type-checkbox",onChange:a(W)},{icon:u(v=>[e("div",fn,[S.rawId?(o(),re(L,{key:0,class:ne({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${S.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(L,{key:1,class:ne({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${S.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):X("",!0)],64))),128))])])])]),e("div",_n,[s(se,{icon:"pi pi-plus",class:"filter-button",label:k.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:w},null,8,["label"]),(o(!0),d(Z,null,ce(B.value,S=>(o(),d("div",{key:S.id,class:"filter-entry"},[s(he,{modelValue:S.type,"onUpdate:modelValue":v=>S.type=v,class:"filter-type-dropdown",options:a(l),filter:"","auto-filter-focus":"","option-label":"text",onChange:a(W)},{value:u(v=>[ge(t(k.$t(v.value.text)),1)]),option:u(v=>[e("div",bn,t(k.$t(v.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(he,{modelValue:S.comparator,"onUpdate:modelValue":v=>S.comparator=v,class:"filter-comparator-dropdown",options:b,"option-label":"text",onChange:a(W)},{value:u(v=>[ge(t(v.value.symbol),1)]),option:u(v=>[e("div",$n,t(k.$t(v.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(le,{modelValue:S.value,"onUpdate:modelValue":v=>S.value=v,class:"filter-value-input","allow-empty":!1,onInput:a(W)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(se,{class:"remove-filter-button",icon:"pi pi-trash",onClick:v=>V(S)},null,8,["onClick"])]))),128))])],64)}}},kn=Se(yn,[["__scopeId","data-v-a7caaa62"]]);const gt=m=>(xe("data-v-adeaf884"),m=m(),we(),m),Sn={key:0,class:"item-card with-stats flex flex-column"},xn={class:"flex px-2 py-2 relative"},wn={class:"flex flex-column ml-1"},Cn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Vn={class:"flex"},An={key:0},Wn={key:1},In={key:2,class:"ml-1"},En=gt(()=>e("div",{class:"flex-grow-1"},null,-1)),qn={class:"flex flex-column gap-1"},Pn={class:"flex w-full",style:{"overflow-y":"auto"}},Tn={class:"item-card"},Mn={key:0,class:"slot-label text-center pt-1 pb-1"},Dn={class:"flex px-2 py-2 relative"},Rn={class:"flex flex-column ml-1"},Un={class:"flex align-items-center"},Ln={key:0,class:"text-sm"},Fn={key:1,class:"text-sm"},On={key:2,class:"ml-1"},jn=gt(()=>e("div",{class:"flex-grow-1"},null,-1)),Nn={class:"flex flex-column"},Hn={class:"simple-tooltip"},Bn={key:0,class:"flex ml-1"},zn={class:"simple-tooltip"},Gn={key:0,class:"item-card-tooltip"},Yn={key:0,class:"effect-header existing-item flex pt-2 px-1"},Jn={class:"flex flex-column ml-1"},Qn={class:"item-name mr-2"},Xn={class:"flex align-items-center"},Zn={key:0,class:"text-sm"},Kn={key:1,class:"text-sm"},eo={key:2,class:"ml-1"},to={class:"ml-1"},so={class:"effect-header flex pt-2 px-1"},ao={class:"flex flex-column ml-1"},lo={class:"item-name mr-2"},io={class:"flex"},no={key:0},oo={key:1},co={key:2,class:"ml-1"},ro={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1},withComparisons:{type:Boolean,default:!1},withExcludeButton:{type:Boolean,default:!1},withStats:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},emits:["excludeItem"],setup(m,{emit:b}){let F=b,l=m,i=document;const I=Ze(),P=be("currentCharacter"),{getItemEncyclopediaUrl:B}=Vt(),{equipItem:j}=Ye(P),f=me(()=>{var G,w,V;let T=l.item.type.validSlots[0],W=(G=P==null?void 0:P.value)==null?void 0:G.equipment[T];return W&&((w=W.item)==null?void 0:w.id)!==((V=l.item)==null?void 0:V.id)?W.item:null}),ee=(A,T)=>{j(A,T,I)},x=A=>{F("excludeItem",A)},Q=A=>{let T=B(A);window.open(T,"_blank")},K=A=>pt.find(T=>T.id===A).color;return(A,T)=>{const W=E("p-image"),G=E("p-button"),w=E("tippy");return m.withStats?(o(),d("div",Sn,[e("div",xn,[e("div",{class:"rarity-background-color",style:Qe(`background-color: ${K(m.item.rarity)}`)},null,4),s(W,{src:`https://tmktahu.github.io/WakfuAssets/items/${m.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",wn,[e("div",Cn,t(A.$t(`items.${m.item.id}`)),1),e("div",Vn,[s(W,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(W,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${m.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(He).includes(m.item.type.id)?(o(),d("div",An,t(A.$t("characterSheet.equipmentContent.itemLevel"))+": "+t(m.item.id===12237?"25":"50"),1)):(o(),d("div",Wn,"Lvl: "+t(m.item.level),1)),m.item.type.validSlots[0]===a(ye).FIRST_WEAPON.id?(o(),d("div",In,t(m.item.type.disabledSlots.includes(a(ye).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):X("",!0)])]),En,e("div",qn,[s(G,{icon:"pi pi-plus",class:"equip-button",onClick:T[0]||(T[0]=V=>ee(m.item,V))}),s(G,{icon:"pi pi-question-circle",class:"equip-button",onClick:T[1]||(T[1]=V=>Q(m.item))})])]),e("div",Pn,[s(qe,{"card-mode":"",item:m.item,"with-totals":m.withTotals,"with-comparisons":m.withComparisons,class:"w-full"},null,8,["item","with-totals","with-comparisons"])])])):(o(),re(je,{key:1,delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>a(i).body,sticky:m.sticky,"max-width":500,inline:""},{trigger:u(()=>[e("div",Tn,[m.withSlotLabel?(o(),d("div",Mn,t(m.item.type.validSlots[0]==="LEFT_HAND"?"Ring":A.$t(a(ye)[m.item.type.validSlots[0]].name))+" Slot ",1)):X("",!0),e("div",Dn,[e("div",{class:"rarity-background-color",style:Qe(`background-color: ${K(m.item.rarity)}`)},null,4),s(W,{src:`https://tmktahu.github.io/WakfuAssets/items/${m.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Rn,[e("div",{class:"item-name mr-2 truncate",style:Qe(`max-width: ${m.withExcludeButton?"116px":"15ch"}`)},t(A.$t(`items.${m.item.id}`)),5),e("div",Un,[s(W,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(W,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${m.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(He).includes(m.item.type.id)?(o(),d("div",Ln,t(A.$t("tooltips.itemLevel"))+": "+t(m.item.id===12237?"25":"50"),1)):(o(),d("div",Fn,"Lvl: "+t(m.item.level),1)),m.item.type.validSlots[0]===a(ye).FIRST_WEAPON.id?(o(),d("div",On,t(m.item.type.disabledSlots.includes(a(ye).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):X("",!0)])]),jn,e("div",Nn,[s(G,{icon:"pi pi-plus",class:"action-button mb-1",onClick:T[2]||(T[2]=V=>ee(m.item,V))}),s(w,{placement:"left"},{content:u(()=>[e("div",Hn,t(A.$t("tooltips.openEncyclopediaPage")),1)]),default:u(()=>[s(G,{icon:"pi pi-question-circle",class:"action-button",onClick:T[3]||(T[3]=V=>Q(m.item))})]),_:1})]),m.withExcludeButton?(o(),d("div",Bn,[s(w,{placement:"left"},{content:u(()=>[e("div",zn,t(A.$t("tooltips.excludeItem")),1)]),default:u(()=>[s(G,{icon:"pi pi-ban",class:"exclude-button",onClick:T[4]||(T[4]=V=>x(m.item))})]),_:1})])):X("",!0)])])]),content:u(()=>[m.item?(o(),d("div",Gn,[f.value&&m.withComparisons?(o(),d("div",Yn,[s(W,{src:`https://tmktahu.github.io/WakfuAssets/items/${f.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Jn,[e("div",Qn,t(A.$t(`items.${f.value.id}`)),1),e("div",Xn,[s(W,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${f.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(W,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${f.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(He).includes(f.value.type.id)?(o(),d("div",Zn,t(A.$t("tooltips.itemLevel"))+": "+t(f.value.id===12237?"25":"50"),1)):(o(),d("div",Kn,"Lvl: "+t(f.value.level),1)),f.value.type.validSlots[0]===a(ye).FIRST_WEAPON.id?(o(),d("div",eo,t(f.value.type.disabledSlots.includes(a(ye).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):X("",!0),e("div",to,"("+t(A.$t("tooltips.equipped"))+")",1)])])])):X("",!0),s(qe,{item:m.item,"with-comparisons":m.withComparisons,"with-totals":m.withTotals},null,8,["item","with-comparisons","with-totals"]),e("div",so,[s(W,{src:`https://tmktahu.github.io/WakfuAssets/items/${m.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ao,[e("div",lo,t(A.$t(`items.${m.item.id}`)),1),e("div",io,[s(W,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(W,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${m.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(He).includes(m.item.type.id)?(o(),d("div",no,t(A.$t("tooltips.itemLevel"))+": "+t(m.item.id===12237?"25":"50"),1)):(o(),d("div",oo,"Lvl: "+t(m.item.level),1)),m.item.type.validSlots[0]===a(ye).FIRST_WEAPON.id?(o(),d("div",co,t(m.item.type.disabledSlots.includes(a(ye).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):X("",!0)])])])])):X("",!0)]),_:1},8,["append-to","sticky"]))}}},_t=Se(ro,[["__scopeId","data-v-adeaf884"]]),uo={class:"flex align-items-center"},mo={class:"mx-2"},po=e("i",{class:"mdi mdi-information-outline"},null,-1),ho={class:"simple-tooltip"},fe={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(m){return(b,F)=>{const l=E("p-checkbox"),i=E("tippy");return o(),d("div",uo,[s(l,Ge(b.$attrs,{binary:!0}),null,16),e("div",mo,t(m.label),1),m.tooltipText?(o(),re(i,{key:0,placement:"left",duration:"0"},{content:u(()=>[e("div",ho,t(m.tooltipText),1)]),default:u(()=>[po]),_:1})):X("",!0)])}}};const vo=m=>(xe("data-v-ebdb1ac0"),m=m(),we(),m),fo={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},go={class:"flex"},_o={class:"flex flex-wrap gap-2"},bo={class:"px-2 py-1"},$o={class:"px-2 py-1"},yo={class:"flex align-items-center gap-4 mt-2"},ko=vo(()=>e("div",{class:"flex-grow-1"},null,-1)),So={class:"ml-2"},xo={key:0,class:"flex"},wo={key:1},Co={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Vo={class:"text-center mt-2"},Ao={class:"flex justify-content-center"},Wo={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Io={__name:"EquipmentTabContent",setup(m,{expose:b}){Ze(),Ke();const F=be("currentCharacter"),l=be("currentItemList"),i=be("itemListLoading"),I=be("itemFilters"),P=$(null),B=$(4),{getNumTotalItems:j}=Ye(),f=()=>{B.value=Math.floor((P.value.clientWidth-16)/(Q.value?310+5:230+5))};window.addEventListener("resize",f);let ee=me(()=>{let w=[],V=[];return l.value.forEach(oe=>{V.length===B.value?(w.push(V),V=[oe]):V.push(oe)}),V.length>0&&w.push(V),w.length===0&&w.push([]),w});const x=$(!1),Q=$(!1),K=$(!1),A=$(!1),T=()=>{x.value=!0,Ue(()=>{f()})};Pe(Q,()=>{Ue(()=>{x.value=!1,Ue(()=>{x.value=!0,Ue(()=>{f()})})})});const W=()=>{let w={sortBy:rt[0],sortOrder:ut[0]};I.sortingParams.push(w)},G=w=>{let V=I.sortingParams.indexOf(w);I.sortingParams.splice(V,1)};return b({showList:T}),(w,V)=>{const oe=E("p-divider"),M=E("p-button"),R=E("p-dropdown"),ue=E("p-virtualScroller"),Y=E("p-progressSpinner");return o(),d("div",fo,[s(vt,{character:a(F),"with-totals":K.value,"with-default-elem-selector":""},null,8,["character","with-totals"]),s(kn),s(oe,{class:"mt-2 mb-2"}),e("div",go,[e("div",_o,[s(M,{icon:"pi pi-plus",class:"filter-button",label:w.$t("characterSheet.equipmentContent.newSort"),onClick:W},null,8,["label"]),(o(!0),d(Z,null,ce(a(I).sortingParams,(k,D)=>(o(),d("div",{key:D,class:"filter-entry"},[s(R,{modelValue:k.sortBy,"onUpdate:modelValue":O=>k.sortBy=O,class:"filter-type-dropdown","option-label":"label",filter:"","auto-filter-focus":"",options:a(rt)},{value:u(O=>[ge(t(w.$t(O.value.label)),1)]),option:u(O=>[e("div",bo,t(w.$t(O.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(R,{modelValue:k.sortOrder,"onUpdate:modelValue":O=>k.sortOrder=O,class:"filter-comparator-dropdown","option-label":"label",options:a(ut)},{value:u(O=>[ge(t(w.$t(O.value.label)),1)]),option:u(O=>[e("div",$o,t(w.$t(O.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(M,{class:"remove-filter-button",icon:"pi pi-trash",onClick:O=>G(k)},null,8,["onClick"])]))),128))])]),s(oe,{class:"mt-2 mb-2"}),e("div",yo,[s(fe,{modelValue:Q.value,"onUpdate:modelValue":V[0]||(V[0]=k=>Q.value=k),label:w.$t("characterSheet.equipmentContent.displayStats")},null,8,["modelValue","label"]),s(fe,{modelValue:K.value,"onUpdate:modelValue":V[1]||(V[1]=k=>K.value=k),label:w.$t("characterSheet.equipmentContent.displayTotals")},null,8,["modelValue","label"]),s(fe,{modelValue:A.value,"onUpdate:modelValue":V[2]||(V[2]=k=>A.value=k),label:w.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"]),ko,e("div",So,t(a(l).length)+" "+t(w.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(a(j)())+" "+t(w.$t("characterSheet.equipmentContent.itemsTotal")),1)]),x.value&&!a(i)?(o(),d("div",{key:0,ref_key:"itemResultsWrapper",ref:P,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(ue,{items:a(ee),"item-size":[Q.value?215:65,Q.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:u(({item:k})=>[a(ee)[0].length>0?(o(),d("div",xo,[(o(!0),d(Z,null,ce(k,(D,O)=>(o(),re(_t,{key:O,item:D,"with-totals":K.value,"with-comparisons":A.value,"with-stats":Q.value},null,8,["item","with-totals","with-comparisons","with-stats"]))),128))])):(o(),d("div",wo,t(w.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(o(),d("div",Co,[e("div",Vo,t(w.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Ao,[e("div",Wo,[s(Y,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(Y,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},Eo=Se(Io,[["__scopeId","data-v-ebdb1ac0"]]);const qo={class:"flex align-items-center"},Po={class:"mx-2"},To=e("i",{class:"mdi mdi-information-outline"},null,-1),Mo={class:"simple-tooltip"},Be={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(m){return(b,F)=>{const l=E("p-inputNumber"),i=E("tippy");return o(),d("div",qo,[s(l,Ge(b.$attrs,{class:"number-input"}),null,16),e("div",Po,t(m.label),1),s(i,{placement:"left",duration:"0"},{content:u(()=>[e("div",Mo,t(m.tooltipText),1)]),default:u(()=>[To]),_:1})])}}};const Te=m=>(xe("data-v-1e5353c0"),m=m(),we(),m),Do={class:"flex flex-column h-full pr-2",style:{"overflow-y":"auto"}},Ro={class:"flex flex-column mt-4"},Uo={class:"flex"},Lo={class:"flex flex-wrap gap-3 mt-3"},Fo={class:"setting-group flex flex-column gap-2"},Oo=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),jo={class:"simple-tooltip"},No={class:"setting-group flex flex-column"},Ho={class:"flex flex-column gap-2"},Bo=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),zo={class:"simple-tooltip"},Go={class:"flex align-items-center"},Yo={class:"mr-2"},Jo={class:"px-2 py-1"},Qo={class:"flex align-items-center"},Xo={class:"mr-2"},Zo={class:"px-2 py-1"},Ko={class:"flex align-items-center"},ec={class:"mr-2"},tc={class:"px-2 py-1"},sc={class:"flex align-items-center"},ac={class:"mr-2"},lc={class:"px-2 py-1"},ic={class:"flex align-items-center"},nc={class:"mr-2"},oc={class:"px-2 py-1"},cc={class:"flex flex-column"},rc={class:"rarity-container"},uc={class:"flex align-items-center mb-1"},dc=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),mc={class:"simple-tooltip"},pc={class:"mr-2 ml-1"},hc={class:"rarity-button-wrapper"},vc={class:"flex justify-content-center align-items-center"},fc={class:"simple-tooltip"},gc={class:"setting-group flex flex-column gap-2 mt-2"},_c=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),bc={class:"simple-tooltip"},$c={class:"flex flex-column"},yc={class:"setting-group flex flex-column gap-2"},kc=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Sc={class:"simple-tooltip"},xc={key:0,class:"warning-message mt-2 py-1 px-2"},wc={key:0,class:"setting-group flex flex-column gap-2 mt-2"},Cc=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Vc={class:"simple-tooltip"},Ac={class:"flex gap-1"},Wc={class:"mr-2"},Ic={class:"simple-tooltip"},Ec={class:"flex align-items-center mt-3"},qc=Te(()=>e("div",{class:"flex-grow-1"},null,-1)),Pc=["innerHTML"],Tc={class:"flex align-items-center gap-4 mt-2"},Mc={key:1,class:"results-display flex flex-column flex-grow-1 mt-2"},Dc={key:0,class:"error-state px-3 py-3"},Rc={key:0,class:"mt-1"},Uc={key:1},Lc={class:"mt-3"},Fc={key:0,class:"mt-2"},Oc={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},jc={key:1},Nc={class:"flex flex-wrap gap-1 mt-2"},Hc={key:2,class:"loading-state px-3 py-3"},Bc={class:"mt-2"},zc={key:2,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Gc={class:"text-center mt-2"},Yc={class:"text-center mb-5 mt-2"},Jc={class:"flex justify-content-center"},Qc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Xc={__name:"ItemSolverTabContent",setup(m){const{t:b}=Ke(),F=Ze(),l=be("currentCharacter"),{equipItem:i}=Ye(l),{runCalculations:I,autoBuilderIsReady:P,itemSet:B,builderLoading:j,builderError:f}=kt(),{createBuildCode:ee}=ht(),x=$(!1),Q=$(!1),K=$(!1),A=$([]),T=me(()=>{if(x.value)return B.value;{let _=Object.keys(l.value.equipment).map(c=>{if(l.value.equipment[c].item)return l.value.equipment[c].item.id}).filter(c=>c!==void 0);return B.value?B.value.filter(c=>!_.includes(c.id)):[]}}),W=$(l.value.actionPoints),G=$(l.value.movementPoints),w=$(l.value.stats.range),V=$(l.value.wakfuPoints),oe=$(!1),M=$(!1),R=$(!1),ue=$(!1),Y=$(!0),k=$(!0),D=$(!0),O=$(!0),le=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],_e=[...le,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],se=$(le[0]),ie=$(le[0]),L=$(le[0]),pe=$(le[0]),he=$(le[0]),S=$(!0),v=$(pt.map(_=>({..._,checked:!0}))),z=$(!0);Pe(P,()=>{z.value=!1});const Me=_=>{A.value.includes(_)||A.value.push(_)},De=_=>{if(A.value.includes(_)){let c=A.value.indexOf(_);A.value.splice(c,1)}},r=()=>{v.value.forEach(_=>{_.checked=!0})},h=()=>{v.value.forEach(_=>{_.checked=!1})},U=me(()=>P.value),q=me(()=>ee(l.value)),ae=$(null);Pe([W,G,w,V],()=>{ae.value=null,W.value-l.value.actionPoints>=6?ae.value=b("characterSheet.itemSolverContent.apWarning"):w.value-l.value.stats.range>5?ae.value=b("characterSheet.itemSolverContent.rangeImpossibleWarning"):l.value.level<35?w.value-l.value.stats.range>0&&(ae.value=b("characterSheet.itemSolverContent.rangeForLevelWarning")):l.value.level<50?w.value-l.value.stats.range>1?ae.value=b("characterSheet.itemSolverContent.rangeForLevelWarning"):W.value-l.value.actionPoints+G.value-l.value.movementPoints>4&&(ae.value=b("characterSheet.itemSolverContent.combinedApMpWarning")):l.value.level<80&&w.value-l.value.stats.range>3&&(ae.value=b("characterSheet.itemSolverContent.rangeForLevelWarning"))});const ve=async()=>{let _=v.value.filter(p=>p.checked).map(p=>p.id),c={buildCode:q.value,meleeMasteryPriority:se.value,distanceMasteryPriority:ie.value,healingMasteryPriority:L.value,rearMasteryPriority:pe.value,berserkMasteryPriority:he.value,fireMastery:oe.value,earthMastery:M.value,waterMastery:R.value,airMastery:ue.value,noArchmonsters:!Y.value,noHordes:!k.value,noBattlefields:!D.value,noUltimateBosses:!O.value,targetApAmount:W.value||0,targetMpAmount:G.value||0,targetRangeAmount:w.value||0,targetWpAmount:V.value||0,selectedRarityIds:_,excludedItems:A.value.map(p=>p.id),ignoreEquippedItems:!S.value};I(c)},Re=_=>{F.require({group:"popup",target:_.currentTarget,message:b("confirms.willReplaceItems"),accept:()=>{B.value.forEach(c=>{i(c)})}})},We=(_,c)=>{_.ctrlKey&&v.value.forEach(p=>{p.id!==c?p.checked=!1:p.checked=!0})},Ce=()=>'<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>';return(_,c)=>{var Le,Fe,Oe;const p=E("tippy"),n=E("p-dropdown"),C=E("p-button"),J=E("p-image"),de=E("p-checkbox"),Ve=E("p-progressSpinner");return o(),d("div",Do,[s(vt,{character:a(l)},null,8,["character"]),e("div",Ro,[e("div",Uo,[s(fe,{modelValue:S.value,"onUpdate:modelValue":c[0]||(c[0]=y=>S.value=y),label:_.$t("characterSheet.itemSolverContent.considerCurrentItems"),"tooltip-text":_.$t("characterSheet.itemSolverContent.considerCurrentItemsTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",Lo,[e("div",Fo,[e("div",null,[s(p,{placement:"top",duration:"0"},{content:u(()=>[e("div",jo,t(_.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:u(()=>[Oo]),_:1}),ge(" "+t(_.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Be,{modelValue:W.value,"onUpdate:modelValue":c[1]||(c[1]=y=>W.value=y),label:_.$t("constants.actionPoints"),"tooltip-text":_.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Be,{modelValue:G.value,"onUpdate:modelValue":c[2]||(c[2]=y=>G.value=y),label:_.$t("constants.movementPoints"),"tooltip-text":_.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Be,{modelValue:w.value,"onUpdate:modelValue":c[3]||(c[3]=y=>w.value=y),label:_.$t("constants.range"),"tooltip-text":_.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Be,{modelValue:V.value,"onUpdate:modelValue":c[4]||(c[4]=y=>V.value=y),label:_.$t("constants.wakfuPoints"),"tooltip-text":_.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",No,[e("div",Ho,[e("div",null,[s(p,{placement:"top",duration:"0"},{content:u(()=>[e("div",zo,t(_.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:u(()=>[Bo]),_:1}),ge(" "+t(_.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",Go,[e("div",Yo,t(_.$t("constants.meleeMastery")),1),s(n,{modelValue:se.value,"onUpdate:modelValue":c[5]||(c[5]=y=>se.value=y),class:"condensed-dropdown","option-label":"label",options:le},{value:u(y=>[ge(t(_.$t(y.value.label)),1)]),option:u(y=>[e("div",Jo,t(_.$t(y.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Qo,[e("div",Xo,t(_.$t("constants.distanceMastery")),1),s(n,{modelValue:ie.value,"onUpdate:modelValue":c[6]||(c[6]=y=>ie.value=y),class:"condensed-dropdown","option-label":"label",options:le},{value:u(y=>[ge(t(_.$t(y.value.label)),1)]),option:u(y=>[e("div",Zo,t(_.$t(y.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Ko,[e("div",ec,t(_.$t("constants.healingMastery")),1),s(n,{modelValue:L.value,"onUpdate:modelValue":c[7]||(c[7]=y=>L.value=y),class:"condensed-dropdown","option-label":"label",options:le},{value:u(y=>[ge(t(_.$t(y.value.label)),1)]),option:u(y=>[e("div",tc,t(_.$t(y.option.label)),1)]),_:1},8,["modelValue"])]),e("div",sc,[e("div",ac,t(_.$t("constants.rearMastery")),1),s(n,{modelValue:pe.value,"onUpdate:modelValue":c[8]||(c[8]=y=>pe.value=y),class:"condensed-dropdown","option-label":"label",options:_e},{value:u(y=>[ge(t(_.$t(y.value.label)),1)]),option:u(y=>[e("div",lc,t(_.$t(y.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ic,[e("div",nc,t(_.$t("constants.berserkMastery")),1),s(n,{modelValue:he.value,"onUpdate:modelValue":c[9]||(c[9]=y=>he.value=y),class:"condensed-dropdown","option-label":"label",options:_e},{value:u(y=>[ge(t(_.$t(y.value.label)),1)]),option:u(y=>[e("div",oc,t(_.$t(y.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",cc,[e("div",rc,[e("div",uc,[s(C,{class:"filter-button item-filter-action mr-2",label:_.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:r},null,8,["label"]),s(p,{placement:"top"},{content:u(()=>[e("div",mc,t(_.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:u(()=>[dc]),_:1}),e("div",pc,t(_.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(C,{class:"filter-button item-filter-action",label:_.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:h},null,8,["label"])]),e("div",hc,[(o(!0),d(Z,null,ce(v.value,y=>(o(),re(p,{key:y.id,duration:"0"},{content:u(()=>[e("div",fc,t(_.$t(y.name)),1)]),default:u(()=>[s(de,{modelValue:y.checked,"onUpdate:modelValue":Ae=>y.checked=Ae,binary:!0,class:"rarity-checkbox",onChange:Ae=>We(Ae,y.id)},{icon:u(Ae=>[e("div",vc,[s(J,{class:ne({disabled:!Ae.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${y.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",gc,[e("div",null,[s(p,{placement:"top",duration:"0"},{content:u(()=>[e("div",bc,t(_.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:u(()=>[_c]),_:1}),ge(" "+t(_.$t("constants.elementalMasteries")),1)]),s(fe,{modelValue:oe.value,"onUpdate:modelValue":c[10]||(c[10]=y=>oe.value=y),label:_.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(fe,{modelValue:M.value,"onUpdate:modelValue":c[11]||(c[11]=y=>M.value=y),label:_.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(fe,{modelValue:R.value,"onUpdate:modelValue":c[12]||(c[12]=y=>R.value=y),label:_.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(fe,{modelValue:ue.value,"onUpdate:modelValue":c[13]||(c[13]=y=>ue.value=y),label:_.$t("constants.airMastery")},null,8,["modelValue","label"])])]),e("div",$c,[e("div",yc,[e("div",null,[s(p,{placement:"top",duration:"0"},{content:u(()=>[e("div",Sc,t(_.$t("characterSheet.itemSolverContent.itemSourcesInfo")),1)]),default:u(()=>[kc]),_:1}),ge(" "+t(_.$t("characterSheet.itemSolverContent.itemSources")),1)]),s(fe,{modelValue:Y.value,"onUpdate:modelValue":c[14]||(c[14]=y=>Y.value=y),label:_.$t("characterSheet.itemSolverContent.archmonsters")},null,8,["modelValue","label"]),s(fe,{modelValue:k.value,"onUpdate:modelValue":c[15]||(c[15]=y=>k.value=y),label:_.$t("characterSheet.itemSolverContent.hordes")},null,8,["modelValue","label"]),s(fe,{modelValue:D.value,"onUpdate:modelValue":c[16]||(c[16]=y=>D.value=y),label:_.$t("characterSheet.itemSolverContent.battlefields")},null,8,["modelValue","label"]),s(fe,{modelValue:O.value,"onUpdate:modelValue":c[17]||(c[17]=y=>O.value=y),label:_.$t("characterSheet.itemSolverContent.ultimateBosses")},null,8,["modelValue","label"])])])]),ae.value!==null?(o(),d("div",xc,t(ae.value),1)):X("",!0)]),A.value.length>0?(o(),d("div",wc,[e("div",null,[s(p,{placement:"top",duration:"0"},{content:u(()=>[e("div",Vc,t(_.$t("characterSheet.itemSolverContent.excludedItemsInfo")),1)]),default:u(()=>[Cc]),_:1}),ge(" "+t(_.$t("characterSheet.itemSolverContent.excludedItems")),1)]),e("div",Ac,[(o(!0),d(Z,null,ce(A.value,y=>(o(),d("div",{key:y.id,class:"excluded-item-card px-2 py-1"},[e("span",Wc,t(y.name),1),s(p,{placement:"top",duration:"0"},{content:u(()=>[e("div",Ic,t(_.$t("tooltips.allowItem")),1)]),default:u(()=>[s(C,{class:"allow-button",icon:"pi pi-check-circle",onClick:Ae=>De(y)},null,8,["onClick"])]),_:2},1024)]))),128))])])):X("",!0),e("div",Ec,[s(C,{class:"py-2 px-3 mr-2",disabled:!U.value,label:(Le=T.value)!=null&&Le.length?_.$t("characterSheet.itemSolverContent.regenerateItemSet"):_.$t("characterSheet.itemSolverContent.generateItemSet"),onClick:ve},null,8,["disabled","label"]),s(C,{class:"py-2 px-3 mr-2",disabled:!((Fe=T.value)!=null&&Fe.length),label:_.$t("characterSheet.itemSolverContent.equipAllItems"),onClick:c[18]||(c[18]=y=>Re(y))},null,8,["disabled","label"]),qc,e("div",{innerHTML:_.$t("characterSheet.itemSolverContent.poweredBy",{credit:Ce()})},null,8,Pc)]),e("div",Tc,[s(fe,{modelValue:x.value,"onUpdate:modelValue":c[19]||(c[19]=y=>x.value=y),label:_.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),s(fe,{modelValue:Q.value,"onUpdate:modelValue":c[20]||(c[20]=y=>Q.value=y),label:_.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),s(fe,{modelValue:K.value,"onUpdate:modelValue":c[21]||(c[21]=y=>K.value=y),label:_.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),a(j)?(o(),d("div",zc,[e("div",Gc,t(_.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Yc,t(_.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",Jc,[e("div",Qc,[s(Ve,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(Ve,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(o(),d("div",Mc,[a(f)?(o(),d("div",Dc,[a(f).debug?(o(),d("div",Rc,t(_.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(o(),d("div",Uc,t(_.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Lc,[e("div",null,"Error Code: "+t(a(f).message),1),a(f).debug?(o(),d("div",Fc,[e("div",Oc,"Debug Code: "+t(a(f).debug),1)])):X("",!0)])])):(Oe=T.value)!=null&&Oe.length?(o(),d("div",jc,[e("div",Nc,[(o(!0),d(Z,null,ce(T.value,y=>(o(),d("div",{key:y.id,class:"item-card-wrapper"},[s(_t,{item:y,"with-slot-label":"","with-comparisons":K.value,"with-totals":Q.value,"with-exclude-button":"",onExcludeItem:Me},null,8,["item","with-comparisons","with-totals"])]))),128))])])):(o(),d("div",Hc,[e("div",null,t(_.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Bc,t(_.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},Zc=Se(Xc,[["__scopeId","data-v-1e5353c0"]]);const Ie=m=>(xe("data-v-672a3eb6"),m=m(),we(),m),Kc={class:"flex h-full"},er={class:"flex flex-column"},tr={class:"mb-2"},sr={class:"flex"},ar={class:"mr-2"},lr=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ir={class:"simple-tooltip flex flex-column"},nr={class:"mb-1"},or={class:"mb-1"},cr={class:"mb-1"},rr={class:"mb-1"},ur={class:"mb-1"},dr={class:"mb-1"},mr={key:0,class:"item-runes-section flex align-items-center mb-2"},pr=["onClick"],hr=["onClick","onDrop","onContextmenu","onDragstart"],vr={class:"rune-image"},fr={class:"rune-level"},gr={class:"simple-tooltip"},_r=["onDrop"],br={class:"rune-image"},$r=["onDrop","onClick"],yr={key:0,class:"sublimation-entry flex align-items-center px-2"},kr={class:"ml-1"},Sr=Ie(()=>e("i",{class:"pi pi-trash"},null,-1)),xr={key:0,class:"item-card-tooltip"},wr={class:"effect-header flex pt-2 px-1"},Cr={class:"flex flex-column ml-1"},Vr={class:"item-name mr-2"},Ar={class:"rune-requirements flex justify-content-left gap-1 py-1"},Wr=["onDrop","onClick"],Ir={class:"px-2",style:{opacity:"0.5"}},Er={class:"flex mb-2"},qr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Pr={class:"ml-1"},Tr={key:1,class:"flex align-items-center px-2 py-2"},Mr={class:"ml-1"},Dr=Ie(()=>e("i",{class:"pi pi-trash"},null,-1)),Rr={key:0,class:"item-card-tooltip"},Ur={class:"effect-header flex pt-2 px-1"},Lr={class:"flex flex-column ml-1"},Fr={class:"item-name mr-2"},Or={class:"flex justify-content-left py-1 text-xs"},jr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Nr={class:"ml-1"},Hr={key:1,class:"flex align-items-center px-2 py-2"},Br={class:"ml-1"},zr=Ie(()=>e("i",{class:"pi pi-trash"},null,-1)),Gr={key:0,class:"item-card-tooltip"},Yr={class:"effect-header flex pt-2 px-1"},Jr={class:"flex flex-column ml-1"},Qr={class:"item-name mr-2"},Xr={class:"flex justify-content-left py-1 text-xs"},Zr={class:"stats-summary"},Kr={class:"text-lg my-1 pl-2"},eu={class:"stats-summary-list flex flex-column"},tu={key:0,class:"summary-entry px-2 py-1"},su={class:"ml-2"},au={class:"flex px-2 py-1"},lu={class:"flex ml-2"},iu={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},nu=Ie(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),ou={class:"flex flex-column mr-3"},cu={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},ru={class:"flex align-items-center justify-content-center"},uu=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),du={class:"simple-tooltip"},mu={class:"mx-2"},pu={class:"rune-options flex flex-column mt-2"},hu=["onDragstart","onClick"],vu={class:"ml-2 py-1"},fu=Ie(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),gu={class:"ml-3 mt-2"},_u={key:0,class:"flex flex-column",style:{"min-width":"300px"}},bu={class:"flex mt-2"},$u={class:"mx-2"},yu=Ie(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ku={class:"simple-tooltip"},Su=["onDragstart","onClick"],xu={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},wu={class:"effect-header flex pt-2 px-1"},Cu={class:"flex flex-column ml-1"},Vu={class:"item-name"},Au={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},Wu={class:"flex mt-2"},Iu={class:"mx-2"},Eu={class:"mx-2"},qu=["onClick","onDragstart"],Pu={class:"ml-1"},Tu={class:"effect-header flex pt-2 px-1"},Mu={class:"flex flex-column ml-1"},Du={class:"item-name"},Ru={class:"flex justify-content-left py-1 text-xs"},Uu={key:0,class:"flex flex-column px-4 py-2"},Lu={class:"mb-2"},Fu={class:"ml-2"},Ou={__name:"RunesSubsTabContent",setup(m,{expose:b}){const{t:F}=Ke();let l=document;const i=be("currentCharacter"),{getRuneValue:I}=dt(),{getRunes:P,getSublimations:B,canSublimationFit:j}=Ye(),f=me(()=>P().sort((r,h)=>r.shardsParameters.color-h.shardsParameters.color)),ee=me(()=>B().filter(r=>{var h;return r.sublimationParameters.slotColorPattern.length>0&&F(`items.${r.id}`).toLowerCase().includes((h=Q.value)==null?void 0:h.toLowerCase())}).sort((r,h)=>F(`items.${r.id}`).localeCompare(F(`items.${h.id}`))).sort((r,h)=>{if(w.value&&A.value){let U=j(i.value.equipment[w.value],r)?1:0;return(j(i.value.equipment[w.value],h)?1:0)-U}else return 0})),x=me(()=>B().filter(r=>{var h;return De(r)&&F(`items.${r.id}`).toLowerCase().includes((h=K.value)==null?void 0:h.toLowerCase())&&(r.sublimationParameters.isEpic?T.value:!0)&&(r.sublimationParameters.isRelic?W.value:!0)})),Q=$(""),K=$(""),A=$(!0),T=$(!0),W=$(!0),G=$(1),w=$(null),V=$(null),oe=$(null),M=$([{label:F("constants.level"),levelSlider:!0},{label:F("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{V.value&&(i.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].color===0?i.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].color=i.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].rune.shardsParameters.color:i.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].color=0)}},{label:F("constants.remove"),command:()=>{i.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey]=null}}]),R=$(!1),ue=()=>{R.value=!1,Ue(()=>{R.value=!0})},Y=me(()=>{let r={};return Object.keys(i.value.equipment).forEach(h=>{let U=i.value.equipment[h].runes;if(U){for(let ae=1;ae<=4;ae++){let ve=U[`runeSlot${ae}`];ve&&(r[ve.rune.id]||(r[ve.rune.id]={totalValue:0,rune:ve}),r[ve.rune.id].totalValue+=I(ve.rune,ve.level,h))}let q=i.value.equipment[h].sub;q&&(r[q.equipEffects[0].values[0]]||(r[q.equipEffects[0].values[0]]={totalValue:0,sublimation:q}),r[q.equipEffects[0].values[0]].totalValue+=q.equipEffects[0].values[2])}}),i.value.epicSubSlot&&(r[i.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:i.value.epicSubSlot}),i.value.relicSubSlot&&(r[i.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:i.value.relicSubSlot}),r}),k=(r,h)=>{r.stopPropagation(),w.value===h?w.value=null:w.value=h},D=(r,h,U)=>{r.shiftKey&&(i.value.equipment[h].runes[U].color===0?i.value.equipment[h].runes[U].color=i.value.equipment[h].runes[U].rune.shardsParameters.color:i.value.equipment[h].runes[U].color=0),r.ctrlKey&&(oe.value.hide(),i.value.equipment[h].runes[U]=null)},O=(r,h,U)=>{i.value.equipment[h].runes[U]&&(V.value={itemSlotKey:h,runeSlotKey:U},oe.value.show(r))},le=(r,h)=>{if(w.value){let U=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let q in U)if(i.value.equipment[w.value].runes[U[q]]===null||i.value.equipment[w.value].runes[U[q]]===void 0){i.value.equipment[w.value].runes[U[q]]={rune:h,color:h.shardsParameters.color,level:G.value};break}}},_e=(r,h)=>{w.value&&(i.value.equipment[w.value].sub=h)},se=(r,h,U,q)=>{r.dataTransfer.dropEffect="move",r.dataTransfer.effectAllowed="move",r.dataTransfer.setData("type",h),h==="rune"&&(r.dataTransfer.setData("rune",JSON.stringify(U)),q&&r.dataTransfer.setData("level",q)),h==="sublimation"&&r.dataTransfer.setData("sublimation",JSON.stringify(U))},ie=(r,h,U)=>{try{let q=r.dataTransfer.getData("type");if(q==="rune"&&U.includes("rune")){let ae=JSON.parse(r.dataTransfer.getData("rune")),ve=r.dataTransfer.getData("level");i.value.equipment[h].runes[U]={rune:ae,color:ae.shardsParameters.color,level:ve||G.value}}if(q==="sublimation"){let ae=JSON.parse(r.dataTransfer.getData("sublimation"));De(ae)?ae.sublimationParameters.isEpic&&U==="epicSubSlot"?i.value.epicSubSlot=ae:ae.sublimationParameters.isRelic&&U==="relicSubSlot"&&(i.value.relicSubSlot=ae):i.value.equipment[h].sub=ae}}catch(q){console.error(q)}},L=()=>{let r=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(i.value.equipment).forEach(h=>{r.forEach(U=>{i.value.equipment[h].runes[U]=void 0}),i.value.equipment[h].sub=null})},pe=(r,h,U)=>{i.value[U]=h},he=r=>{r==="epicSubSlot"?i.value.epicSubSlot=null:r==="relicSubSlot"?i.value.relicSubSlot=null:i.value.equipment[r].sub=null},S=r=>{if(r)switch(r){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},v=r=>{if(r)switch(r){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},z=r=>Object.keys(ye).find(h=>ye[h].rawId===r),Me=me(()=>{let r=1;return St.some((h,U)=>h<=i.value.level?(r=U+1,!1):!0),r}),De=r=>r.sublimationParameters.isRelic||r.sublimationParameters.isEpic;return Pe(()=>i.value.level,()=>{G.value=Me.value},{immediate:!0}),b({showLists:ue}),(r,h)=>{const U=E("tippy"),q=E("p-image"),ae=E("p-inputNumber"),ve=E("p-button"),Re=E("p-inputText"),We=E("p-checkbox"),Ce=E("p-virtualScroller"),_=E("p-slider"),c=E("p-contextMenu"),p=xt("ripple");return o(),d("div",Kc,[e("div",er,[e("div",tr,[s(U,{placement:"left",duration:"0"},{content:u(()=>[e("div",ir,[e("div",nr,t(r.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",or,t(r.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",cr,t(r.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",rr,t(r.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",ur,t(r.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",dr,t(r.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:u(()=>[e("div",sr,[e("div",ar,t(r.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),lr])]),_:1})]),(o(!0),d(Z,null,ce(Object.keys(a(i).equipment),n=>(o(),d(Z,{key:n},[n!=="ACCESSORY"&&n!=="PET"&&n!=="MOUNT"&&n!=="SECOND_WEAPON"?(o(),d(Z,{key:0},[n!=="undefined"?(o(),d("div",mr,[e("div",{class:ne(["slot-image",{highlighted:w.value===n}]),onClick:C=>k(C,n)},[s(q,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${n}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,pr),(o(),d(Z,null,ce(4,C=>(o(),d(Z,{key:C},[a(i).equipment[n].runes[`runeSlot${C}`]?(o(),re(U,{key:0,duration:"0"},{content:u(()=>[e("div",gr," +"+t(a(I)(a(i).equipment[n].runes[`runeSlot${C}`].rune,a(i).equipment[n].runes[`runeSlot${C}`].level,n))+" "+t(r.$t(`items.${a(i).equipment[n].runes[`runeSlot${C}`].rune.id}`)),1)]),default:u(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:J=>D(J,n,`runeSlot${C}`),onDragover:h[0]||(h[0]=$e(()=>{},["prevent"])),onDragenter:h[1]||(h[1]=$e(()=>{},["prevent"])),onDrop:J=>ie(J,n,`runeSlot${C}`),onContextmenu:J=>O(J,n,`runeSlot${C}`),onDragstart:J=>se(J,"rune",a(i).equipment[n].runes[`runeSlot${C}`].rune,a(i).equipment[n].runes[`runeSlot${C}`].level)},[e("div",vr,[s(q,{src:v(a(i).equipment[n].runes[`runeSlot${C}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",fr,t(a(i).equipment[n].runes[`runeSlot${C}`].level),1)],40,hr)]),_:2},1024)):(o(),d("div",{key:1,class:"rune-drop-zone ml-2",onDragover:h[2]||(h[2]=$e(()=>{},["prevent"])),onDragenter:h[3]||(h[3]=$e(()=>{},["prevent"])),onDrop:J=>ie(J,n,`runeSlot${C}`)},[e("div",br,[s(q,{src:S(null),"image-style":"width: 26px"},null,8,["src"])])],40,_r))],64))),64)),a(i).equipment[n].sub?(o(),re(je,{key:0,"append-to":()=>a(l).body,offset:[0,-2],style:{height:"100%"},inline:""},{trigger:u(()=>[e("div",{class:ne(["sublimation-drop-zone ml-2",{invalid:!a(j)(a(i).equipment[n],a(i).equipment[n].sub)}]),onDragover:h[4]||(h[4]=$e(()=>{},["prevent"])),onDragenter:h[5]||(h[5]=$e(()=>{},["prevent"])),onDrop:C=>ie(C,n,"sub"),onClick:C=>he(n)},[a(i).equipment[n].sub?(o(),d("div",yr,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(i).equipment[n].sub.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",kr,t(r.$t(`items.${a(i).equipment[n].sub.id}`)),1)])):X("",!0),Sr],42,$r)]),content:u(()=>[a(i).equipment[n].sub?(o(),d("div",xr,[e("div",wr,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(i).equipment[n].sub.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Cr,[e("div",Vr,t(r.$t(`items.${a(i).equipment[n].sub.id}`)),1),e("div",Ar,[(o(!0),d(Z,null,ce(a(i).equipment[n].sub.sublimationParameters.slotColorPattern,(C,J)=>(o(),d("div",{key:J,class:"flex align-items-center"},[s(q,{src:v(C),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),s(qe,{item:a(i).equipment[n].sub},null,8,["item"])])):X("",!0)]),_:2},1032,["append-to"])):(o(),d("div",{key:1,class:ne(["sublimation-drop-zone ml-2",{invalid:!a(j)(a(i).equipment[n],a(i).equipment[n].sub)}]),onDragover:h[6]||(h[6]=$e(()=>{},["prevent"])),onDragenter:h[7]||(h[7]=$e(()=>{},["prevent"])),onDrop:C=>ie(C,n,"sub"),onClick:C=>he(n)},[e("div",Ir,[s(q,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,Wr))])):X("",!0)],64)):X("",!0)],64))),128)),e("div",Er,[s(U,{duration:"0",class:"flex h-full"},{content:u(()=>[a(i).epicSubSlot?(o(),d("div",Rr,[e("div",Ur,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(i).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Lr,[e("div",Fr,t(r.$t(`items.${a(i).epicSubSlot.id}`)),1),e("div",Or,t(a(i).epicSubSlot.sublimationParameters.isEpic?`${r.$t("constants.epicSublimation")}`:"")+" "+t(a(i).epicSubSlot.sublimationParameters.isRelic?`${r.$t("constants.relicSublimation")}`:""),1)])]),s(qe,{item:a(i).epicSubSlot},null,8,["item"])])):X("",!0)]),default:u(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:h[8]||(h[8]=$e(()=>{},["prevent"])),onDragenter:h[9]||(h[9]=$e(()=>{},["prevent"])),onDrop:h[10]||(h[10]=n=>ie(n,null,"epicSubSlot")),onClick:h[11]||(h[11]=n=>he("epicSubSlot"))},[a(i).epicSubSlot?(o(),d("div",qr,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(i).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Pr,t(r.$t(`items.${a(i).epicSubSlot.id}`)),1)])):(o(),d("div",Tr,[s(q,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Mr,t(r.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),Dr],32)]),_:1}),s(U,{duration:"0",class:"flex h-full"},{content:u(()=>[a(i).relicSubSlot?(o(),d("div",Gr,[e("div",Yr,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(i).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Jr,[e("div",Qr,t(r.$t(`items.${a(i).relicSubSlot.id}`)),1),e("div",Xr,t(a(i).relicSubSlot.sublimationParameters.isEpic?`${r.$t("constants.epicSublimation")}`:"")+" "+t(a(i).relicSubSlot.sublimationParameters.isRelic?`${r.$t("constants.relicSublimation")}`:""),1)])]),s(qe,{item:a(i).relicSubSlot},null,8,["item"])])):X("",!0)]),default:u(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:h[12]||(h[12]=$e(()=>{},["prevent"])),onDragenter:h[13]||(h[13]=$e(()=>{},["prevent"])),onDrop:h[14]||(h[14]=n=>ie(n,null,"relicSubSlot")),onClick:h[15]||(h[15]=n=>he("relicSubSlot"))},[a(i).relicSubSlot?(o(),d("div",jr,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(i).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Nr,t(r.$t(`items.${a(i).relicSubSlot.id}`)),1)])):(o(),d("div",Hr,[s(q,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Br,t(r.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),zr],32)]),_:1})]),e("div",Zr,[e("div",Kr,t(r.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",eu,[(o(!0),d(Z,null,ce(Object.keys(Y.value),n=>(o(),d(Z,{key:n},[Y.value[n].rune?(o(),d("div",tu,[s(q,{src:v(Y.value[n].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",su,"+"+t(Y.value[n].totalValue)+" "+t(r.$t(`items.${Y.value[n].rune.rune.id}`)),1)])):Y.value[n].sublimation?(o(),d("div",{key:1,class:ne(["summary-entry flex-column align-items-start",{warning:Y.value[n].totalValue>a(Xe)[Y.value[n].sublimation.equipEffects[0].values[0]]}])},[e("div",au,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${Y.value[n].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",lu,[e("span",null,t(r.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:Y.value[n].totalValue})),1),s(je,{"append-to":()=>a(l).body,offset:[0,-2],"state-id":`${Y.value[n].sublimation.equipEffects[0].values[0]}`,"current-level":Y.value[n].totalValue,inline:""},null,8,["append-to","state-id","current-level"])])]),Y.value[n].totalValue>a(Xe)[Y.value[n].sublimation.equipEffects[0].values[0]]?(o(),d("div",iu,[nu,e("span",null,t(r.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:a(Xe)[Y.value[n].sublimation.equipEffects[0].values[0]]})),1)])):X("",!0)],2)):X("",!0)],64))),128))])])]),e("div",ou,[e("div",cu,[e("div",ru,[s(U,{placement:"left",duration:"0"},{content:u(()=>[e("div",du,t(r.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:u(()=>[uu]),_:1}),e("span",mu,t(r.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(ae,{modelValue:G.value,"onUpdate:modelValue":h[16]||(h[16]=n=>G.value=n),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:Me.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",pu,[(o(!0),d(Z,null,ce(f.value,n=>(o(),d("div",{key:n.id,class:ne(["rune-draggable mb-1 px-2",{highlighted:w.value&&n.shardsParameters.doubleBonusPosition.includes(a(ye)[w.value].rawId)}]),draggable:"true",onDragstart:C=>se(C,"rune",n),onClick:C=>le(C,n)},[s(q,{class:"rune-image",src:S(n.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",vu,"+"+t(a(I)(n,G.value))+" "+t(r.$t(`items.${n.id}`)),1),fu,(o(!0),d(Z,null,ce(n.shardsParameters.doubleBonusPosition,C=>(o(),d("div",{key:C,class:"ml-1"},[s(q,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${z(C)}.png`,class:ne({disabled:!a(i).equipment[z(C)]}),onClick:J=>k(J,z(C))},null,8,["src","class","onClick"])]))),128))],42,hu))),128))])]),e("div",gu,[s(ve,{label:r.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:L},null,8,["label"])])]),R.value?(o(),d("div",_u,[s(Re,{modelValue:Q.value,"onUpdate:modelValue":h[17]||(h[17]=n=>Q.value=n),class:"py-2 px-2",placeholder:r.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",bu,[s(We,{modelValue:A.value,"onUpdate:modelValue":h[18]||(h[18]=n=>A.value=n),binary:!0},null,8,["modelValue"]),e("div",$u,t(r.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),s(U,{placement:"top"},{content:u(()=>[e("div",ku,t(r.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:u(()=>[yu]),_:1})]),ee.value?(o(),re(Ce,{key:0,items:ee.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:u(({item:n})=>[s(je,{"append-to":()=>a(l).body,offset:[0,-2],placement:"left",inline:""},{trigger:u(()=>{var C,J;return[e("div",{class:ne(["sublimation-option py-1 px-2 mb-1",{highlighted:a(j)(a(i).equipment[w.value],n)}]),draggable:"true",onDragstart:de=>se(de,"sublimation",n),onClick:de=>_e(de,n)},[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${n.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(J=(C=n.sublimationParameters)==null?void 0:C.slotColorPattern)!=null&&J.length?(o(),d("div",xu,[(o(!0),d(Z,null,ce(n.sublimationParameters.slotColorPattern,(de,Ve)=>(o(),d("div",{key:Ve,class:"flex align-items-center"},[s(q,{src:v(de),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):X("",!0),e("div",null,t(r.$t(`items.${n.id}`)),1)],42,Su)]}),content:u(()=>{var C,J;return[e("div",wu,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${n.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Cu,[e("div",Vu,t(r.$t(`items.${n.id}`)),1),(J=(C=n.sublimationParameters)==null?void 0:C.slotColorPattern)!=null&&J.length?(o(),d("div",Au,[(o(!0),d(Z,null,ce(n.sublimationParameters.slotColorPattern,(de,Ve)=>(o(),d("div",{key:Ve,class:"flex align-items-center"},[s(q,{src:v(de),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):X("",!0)])]),s(qe,{item:n},null,8,["item"])]}),_:2},1032,["append-to"])]),_:1},8,["items"])):X("",!0),s(Re,{modelValue:K.value,"onUpdate:modelValue":h[19]||(h[19]=n=>K.value=n),class:"py-2 px-2",placeholder:r.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",Wu,[s(We,{modelValue:T.value,"onUpdate:modelValue":h[20]||(h[20]=n=>T.value=n),binary:!0},null,8,["modelValue"]),e("div",Iu,t(r.$t("constants.epic")),1),s(We,{modelValue:W.value,"onUpdate:modelValue":h[21]||(h[21]=n=>W.value=n),binary:!0},null,8,["modelValue"]),e("div",Eu,t(r.$t("constants.relic")),1)]),x.value?(o(),re(Ce,{key:1,items:x.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:u(({item:n})=>[s(je,{"append-to":()=>a(l).body,offset:[0,-2],placement:"left",inline:""},{trigger:u(()=>{var C,J;return[e("div",{class:ne(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((C=a(i).epicSubSlot)==null?void 0:C.id)===n.id,"relic-highlighted":((J=a(i).relicSubSlot)==null?void 0:J.id)===n.id}]),draggable:"true",onClick:de=>pe(de,n,n.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:de=>se(de,"sublimation",n)},[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${n.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",Pu,t(r.$t(`items.${n.id}`))+" "+t(n.sublimationParameters.isEpic?`(${r.$t("constants.epic")})`:"")+" "+t(n.sublimationParameters.isRelic?`(${r.$t("constants.relic")})`:""),1)],42,qu)]}),content:u(()=>[e("div",Tu,[s(q,{src:`https://tmktahu.github.io/WakfuAssets/items/${n.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Mu,[e("div",Du,t(r.$t(`items.${n.id}`)),1),e("div",Ru,t(n.sublimationParameters.isEpic?`${r.$t("constants.epicSublimation")}`:"")+" "+t(n.sublimationParameters.isRelic?`${r.$t("constants.relicSublimation")}`:""),1)])]),s(qe,{item:n},null,8,["item"])]),_:2},1032,["append-to"])]),_:1},8,["items"])):X("",!0)])):X("",!0),s(c,{ref_key:"runeContextMenu",ref:oe,model:M.value},{item:u(({item:n,props:C})=>[n.levelSlider?(o(),d("div",Uu,[e("div",Lu,t(r.$t("constants.level"))+": "+t(a(i).equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].level),1),s(_,{modelValue:a(i).equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].level,"onUpdate:modelValue":h[22]||(h[22]=J=>a(i).equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].level=J),min:1,max:11},null,8,["modelValue"])])):wt((o(),d("a",Ge({key:1,class:"flex align-items-center"},C.action),[e("span",Fu,t(n.label),1)],16)),[[p]])]),_:1},8,["model"])])}}},ju=Se(Ou,[["__scopeId","data-v-672a3eb6"]]);const Ne=m=>(xe("data-v-a796c2d3"),m=m(),we(),m),Nu={class:"top-bar py-3 px-3"},Hu={key:0,class:"flex align-items-center pl-2"},Bu={class:"py-2"},zu={key:1,class:"flex align-items-center"},Gu={class:"py-2"},Yu={class:"flex align-items-center"},Ju={class:"capitalize"},Qu={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},Xu={class:"mr-2"},Zu={class:"flex-grow-1"},Ku=Ne(()=>e("div",{class:"flex-grow-1"},null,-1)),ed={class:"build-code flex align-items-center ml-2 mr-3"},td=Ne(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),sd={class:"simple-tooltip"},ad={class:"ml-2"},ld={class:"code-disclaimer"},id=Ne(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),nd={class:"simple-tooltip"},od={class:"ml-1"},cd={class:"flex flex-grow-1",style:{overflow:"auto"}},rd={class:"stats-area"},ud={class:"flex flex-column flex-grow-1"},dd={class:"tab-header"},md=Ne(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-1",style:{"font-size":"20px"}},null,-1)),pd=Ne(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-1",style:{"font-size":"20px"}},null,-1)),hd={class:"tab-header"},vd={class:"tab-header"},fd={class:"tab-header"},gd={key:1,class:"px-5 mt-5"},_d={__name:"CharacterSheet",setup(m){var w,V,oe;const b=Ct(),F=be("currentCharacter"),l=$(null),i=$(null),I=$(null),P=$((w=F.value)==null?void 0:w.name),B=$((V=F.value)==null?void 0:V.level),j=$(ze[(oe=F.value)==null?void 0:oe.class]),f=Object.entries(ze).map(([M,R])=>R),{createBuildCode:ee}=ht(),x=me(()=>ee(F.value));Pe(F,()=>{Q()});const Q=()=>{var M,R,ue;P.value=(M=F.value)==null?void 0:M.name,B.value=(R=F.value)==null?void 0:R.level,j.value=ze[(ue=F.value)==null?void 0:ue.class]},K=(M,R)=>{R==="name"?F.value.name=M.target.value:R==="levelText"?F.value.level=M.value:R==="levelSlider"?F.value.level=M:R==="class"&&(F.value.class=M.value.id),Q()},A=()=>{Ue(()=>{l.value.showList(),I.value.showLists()})},T=me(()=>{var M;return(M=i.value)==null?void 0:M.hasCharacteristicsError}),W=me(()=>{var M;return(M=i.value)==null?void 0:M.hasCharacteristicsPointsToSpend}),G=()=>{navigator.clipboard.writeText(x.value),b.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(M,R)=>{const ue=E("p-inputText"),Y=E("p-image"),k=E("p-dropdown"),D=E("p-inputNumber"),O=E("p-slider"),le=E("tippy"),_e=E("p-button"),se=E("p-tabPanel"),ie=E("p-tabView");return a(F)?(o(),d("div",{key:a(F).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",Nu,[s(ue,{modelValue:P.value,"onUpdate:modelValue":R[0]||(R[0]=L=>P.value=L),class:"mr-2 py-2 px-2",onInput:R[1]||(R[1]=L=>K(L,"name"))},null,8,["modelValue"]),s(k,{modelValue:j.value,"onUpdate:modelValue":R[2]||(R[2]=L=>j.value=L),options:a(f),placeholder:M.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:R[3]||(R[3]=L=>K(L,"class"))},{value:u(L=>[L.value?(o(),d("div",Hu,[s(Y,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${L.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",Bu,t(M.$t(L.value.name)),1)])):(o(),d("span",zu,[s(Y,{class:"class-image mx-2",src:a(At),"image-style":"width: 28px"},null,8,["src"]),e("div",Gu,t(L.placeholder),1)]))]),option:u(L=>[e("div",Yu,[e("div",Ju,t(M.$t(L.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",Qu,[e("span",Xu,t(M.$t("characterSheet.level")),1),s(D,{modelValue:B.value,"onUpdate:modelValue":R[4]||(R[4]=L=>B.value=L),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:R[5]||(R[5]=L=>K(L,"levelText"))},null,8,["modelValue"]),e("div",Zu,[s(O,{modelValue:B.value,"onUpdate:modelValue":R[6]||(R[6]=L=>B.value=L),min:1,max:230,onChange:R[7]||(R[7]=L=>K(L,"levelSlider"))},null,8,["modelValue"])])]),Ku,e("div",ed,[s(le,{placement:"left",duration:"0"},{content:u(()=>[e("div",sd,t(M.$t("characterSheet.buildCopyPaste")),1)]),default:u(()=>[td]),_:1}),e("div",ad,t(M.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:G},[e("span",null,t(x.value),1)]),s(_e,{class:"py-1 ml-2 px-2",label:M.$t("characterSheet.copy"),onClick:G},null,8,["label"]),e("div",ld,[s(le,{placement:"bottom",duration:"0"},{content:u(()=>[e("div",nd,t(M.$t("characterSheet.codeInfo")),1)]),default:u(()=>[id]),_:1}),e("div",od,t(M.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",cd,[e("div",rd,[s(Wl)]),e("div",ud,[s(ie,{class:"main-tab-view",onTabChange:A},{default:u(()=>[s(se,null,{header:u(()=>[e("div",dd,[e("span",null,t(M.$t("sidebar.guidesTab")),1)])]),default:u(()=>[s(Fl)]),_:1}),s(se,null,{header:u(()=>[e("div",{class:ne(["tab-header characteristics-tab-header",{error:T.value,"points-to-spend":W.value&&!T.value}])},[e("span",null,t(M.$t("characterSheet.characteristicsAndSpells")),1),md,pd],2)]),default:u(()=>[s(Ni,{ref_key:"characteristicsTabContent",ref:i},null,512)]),_:1}),s(se,null,{header:u(()=>[e("div",hd,[e("span",null,t(M.$t("characterSheet.equipment")),1)])]),default:u(()=>[s(Eo,{ref_key:"equipmentTabContent",ref:l},null,512)]),_:1}),s(se,null,{header:u(()=>[e("div",vd,[e("span",null,t(M.$t("characterSheet.autoItemSolver")),1)])]),default:u(()=>[s(Zc)]),_:1}),s(se,null,{header:u(()=>[e("div",fd,[e("span",null,t(M.$t("characterSheet.runesAndSubs")),1)])]),default:u(()=>[s(ju,{ref_key:"runesAndSubsTabContent",ref:I},null,512)]),_:1})]),_:1})])])])):(o(),d("div",gd," No Character data found for the given ID. "))}}},yd=Se(_d,[["__scopeId","data-v-a796c2d3"]]);export{yd as default};
