import{_ as $e,i as _e,f as pe,r as y,y as qe,g as W,q as a,o,h as r,j as e,k as s,t,z as Ne,F as X,m as ne,n as re,w as m,A as ie,l as ae,B as Ke,s as ye,x as ke,D as ot,E as Oe,G as ct,H as et,I as Y,J as ve,a as ze,K as je,L as se,M as Fe,b as Ge,N as Te,O as Qe,P as Xe,Q as Ve,R as Ze,S as rt,T as He,U as ut,d as tt,V as dt,W as pt,X as mt,p as he,Y as Be,Z as ht,u as vt}from"./index-c5cd2c26.js";import{I as We,M as De,u as st,E as at,a as _t}from"./addCompanion-be595027.js";const J=v=>(ye("data-v-c6cd1cd2"),v=v(),ke(),v),ft={key:0,class:"py-3",style:{overflow:"auto"}},gt={class:"flex justify-content-between w-full px-2"},bt={class:"main-stat-box"},$t={class:"flex align-items-center my-1"},yt={class:"ml-1"},kt={class:"stat-value py-1"},St={class:"main-stat-box"},xt={class:"flex align-items-center my-1"},wt={class:"ml-1"},Ct={class:"stat-value py-1"},At={class:"main-stat-box"},Vt={class:"flex align-items-center my-1"},Wt={class:"ml-1"},qt={class:"stat-value py-1"},Et={class:"main-stat-box"},It={class:"flex align-items-center my-1"},Pt={class:"ml-1"},Tt={class:"stat-value py-1"},Dt={key:0,class:"main-stat-box"},Mt={class:"flex align-items-center my-1"},Rt={class:"ml-1"},Lt={class:"stat-value py-1"},Ut={key:1,class:"main-stat-box"},Nt={class:"flex align-items-center my-1"},Ft={class:"ml-1"},Ot={class:"stat-value py-1"},jt={class:"main-stat-area flex flex-column mt-2 pb-2"},Ht={class:"section-header py-1 mb-1"},Bt={class:"flex pl-1"},zt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Gt={class:"stat-block pr-2"},Yt={class:"ml-1"},Jt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Qt={class:"stat-block pr-2"},Xt={class:"ml-1"},Zt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Kt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},es={class:"stat-block pr-2"},ts={class:"ml-1"},ss=J(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"stat-block pr-2"},ls={class:"ml-1"},is=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ns={class:"section-header py-1 mb-1"},os={class:"flex pl-1"},cs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},rs={class:"stat-block pr-2"},us={class:"ml-1"},ds=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ps={class:"stat-block pr-2"},ms={class:"ml-1"},hs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),vs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},_s={class:"stat-block pr-2"},fs={class:"ml-1"},gs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),bs={class:"stat-block pr-2"},$s={class:"ml-1"},ys=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ks={class:"lex flex-column"},Ss={class:"section-header py-1 mb-1"},xs={class:"flex pl-1"},ws={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Cs={class:"stat-block pr-2"},As={class:"ml-1"},Vs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ws={class:"stat-block pr-2"},qs={class:"ml-1"},Es=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Is={class:"stat-block pr-2"},Ps={class:"ml-1"},Ts=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ds={class:"stat-block pr-2"},Ms={class:"ml-1"},Rs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ls={class:"stat-block pr-2"},Us={class:"ml-1"},Ns=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Fs={class:"stat-block pr-2"},Os={class:"ml-1"},js=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Hs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Bs={class:"stat-block pr-2"},zs={class:"ml-1"},Gs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ys={class:"stat-block pr-2"},Js={class:"ml-1"},Qs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Xs={class:"stat-block pr-2"},Zs={class:"ml-1"},Ks=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ea={class:"stat-block pr-2"},ta={class:"ml-1"},sa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),aa={class:"stat-block pr-2"},la={class:"ml-1"},ia=J(()=>e("div",{class:"flex-grow-1"},null,-1)),na={class:"stat-block pr-2"},oa={class:"ml-1"},ca=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ra={class:"flex flex-column"},ua={class:"section-header py-1 mb-1"},da={class:"flex pl-1"},pa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ma={class:"stat-block pr-2"},ha={class:"ml-1"},va=J(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={class:"stat-block pr-2"},fa={class:"ml-1"},ga=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ba={class:"stat-block pr-2"},$a={class:"ml-1"},ya=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ka={class:"stat-block pr-2"},Sa={class:"ml-1"},xa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),wa={class:"stat-block pr-2"},Ca={class:"ml-1"},Aa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Va={class:"stat-block pr-2"},Wa={class:"ml-1"},qa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ea={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ia={class:"stat-block pr-2"},Pa={class:"ml-1"},Ta=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Da={class:"stat-block pr-2"},Ma={class:"ml-1"},Ra=J(()=>e("div",{class:"flex-grow-1"},null,-1)),La={class:"stat-block pr-2"},Ua={class:"ml-1"},Na=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Fa={class:"stat-block pr-2"},Oa={class:"ml-1"},ja=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ha={class:"stat-block pr-2"},Ba={class:"ml-1"},za=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ga={class:"flex flex-column"},Ya={class:"section-header py-1 mb-1"},Ja={class:"stat-block mr-1"},Qa={class:"flex flex-column px-1 py-1 w-full",style:{border:"1px solid var(--primary-40)","border-radius":"8px"}},Xa={class:"mastery-container flex gap-2 w-full"},Za={class:"mastery-button-wrapper"},Ka={class:"flex justify-content-center align-items-center"},el={class:"simple-tooltip"},tl={class:"flex w-full mt-1"},sl={class:"ml-1"},al=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ll={class:"stat-block pr-2 ml-1"},il={class:"ml-1"},nl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ol={class:"stat-block pr-2 ml-1"},cl={class:"ml-1"},rl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ul={class:"stat-block pr-2 ml-1"},dl={class:"ml-1"},pl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ml={class:"stat-block pr-2 ml-1"},hl={class:"ml-1"},vl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),_l={__name:"StatDisplay",setup(v){const p=_e("currentCharacter"),{calcElemResistancePercentage:N,calcTotalMastery:n,calcEffectiveHp:l}=Ke(p),q=pe(()=>U.value.filter(g=>g.checked).map(g=>g.id)),U=y([{name:"constants.waterMastery",id:"water",iconName:"water_coin",checked:!1},{name:"constants.airMastery",id:"air",iconName:"air_coin",checked:!1},{name:"constants.earthMastery",id:"earth",iconName:"earth_coin",checked:!1},{name:"constants.fireMastery",id:"fire",iconName:"fire_coin",checked:!1},{name:"constants.meleeMastery",id:"melee",iconName:"melee_mastery",checked:!1},{name:"constants.distanceMastery",id:"distance",iconName:"distance_mastery",checked:!1},{name:"constants.berserkMastery",id:"berserk",iconName:"berserk_mastery",checked:!1},{name:"constants.criticalMastery",id:"critical",iconName:"critical_mastery",checked:!1},{name:"constants.rearMastery",id:"rear",iconName:"rear_mastery",checked:!1},{name:"constants.healingMastery",id:"healing",iconName:"healing_mastery",checked:!1}]),D=(g,B)=>{g.ctrlKey&&U.value.forEach(b=>{b.id!==B?b.checked=!1:b.checked=!0})};let O=!1;return qe(p,()=>{if(p.value&&!O){let g=[{index:0,value:p.value.masteries.water},{index:1,value:p.value.masteries.air},{index:2,value:p.value.masteries.earth},{index:3,value:p.value.masteries.fire}].sort((B,b)=>b.value-B.value);U.value[g[0].index].checked=!0,U.value[4].checked=p.value.masteries.melee>0,U.value[5].checked=p.value.masteries.distance>0,U.value[6].checked=p.value.masteries.berserk>0,U.value[7].checked=p.value.masteries.critical>0,U.value[8].checked=p.value.masteries.rear>0,U.value[9].checked=p.value.masteries.healing>0,O=!0}},{immediate:!0}),(g,B)=>{const b=W("p-image"),A=W("p-checkbox"),I=W("tippy");return a(p)?(o(),r("div",ft,[e("div",gt,[e("div",bt,[e("div",$t,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",yt,t(g.$t("constants.hp")),1)]),e("div",kt,t(a(p).healthPoints),1)]),e("div",St,[e("div",xt,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",wt,t(g.$t("characterSheet.statsDisplay.ar")),1)]),e("div",Ct,t(a(p).armorPoints),1)]),e("div",At,[e("div",Vt,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",Wt,t(g.$t("constants.ap")),1)]),e("div",qt,t(a(p).actionPoints),1)]),e("div",Et,[e("div",It,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Pt,t(g.$t("constants.mp")),1)]),e("div",Tt,t(a(p).movementPoints),1)]),a(p).class===a(Ne).huppermage.id?(o(),r("div",Dt,[e("div",Mt,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Rt,t(g.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Lt,t(a(p).quadrumentalBreeze),1)])):(o(),r("div",Ut,[e("div",Nt,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Ft,t(g.$t("constants.wp")),1)]),e("div",Ot,t(a(p).wakfuPoints),1)]))]),e("div",jt,[e("div",Ht,t(g.$t("constants.elementalMasteries")),1),e("div",Bt,[e("div",zt,[e("div",Gt,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Yt,t(g.$t("characterSheet.statsDisplay.water")),1),Jt,e("span",null,t(a(p).masteries.water),1)]),e("div",Qt,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Xt,t(g.$t("characterSheet.statsDisplay.air")),1),Zt,e("span",null,t(a(p).masteries.air),1)])]),e("div",Kt,[e("div",es,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",ts,t(g.$t("characterSheet.statsDisplay.earth")),1),ss,e("span",null,t(a(p).masteries.earth),1)]),e("div",as,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ls,t(g.$t("characterSheet.statsDisplay.fire")),1),is,e("span",null,t(a(p).masteries.fire),1)])])]),e("div",ns,t(g.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",os,[e("div",cs,[e("div",rs,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",us,t(g.$t("characterSheet.statsDisplay.water")),1),ds,e("span",null,t(a(N)(a(p).resistances.water))+"% ("+t(a(p).resistances.water)+")",1)]),e("div",ps,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ms,t(g.$t("characterSheet.statsDisplay.air")),1),hs,e("span",null,t(a(N)(a(p).resistances.air))+"% ("+t(a(p).resistances.air)+")",1)])]),e("div",vs,[e("div",_s,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",fs,t(g.$t("characterSheet.statsDisplay.earth")),1),gs,e("span",null,t(a(N)(a(p).resistances.earth))+"% ("+t(a(p).resistances.earth)+")",1)]),e("div",bs,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",$s,t(g.$t("characterSheet.statsDisplay.fire")),1),ys,e("span",null,t(a(N)(a(p).resistances.fire))+"% ("+t(a(p).resistances.fire)+")",1)])])]),e("div",ks,[e("div",Ss,t(g.$t("characterSheet.statsDisplay.battle")),1),e("div",xs,[e("div",ws,[e("div",Cs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",As,t(g.$t("constants.damageInflicted")),1),Vs,e("span",null,t(a(p).stats.damageInflicted)+"%",1)]),e("div",Ws,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",qs,t(g.$t("characterSheet.statsDisplay.criticalHit")),1),Es,e("span",null,t(a(p).stats.criticalHit)+"%",1)]),e("div",Is,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Ps,t(g.$t("constants.initiative")),1),Ts,e("span",null,t(a(p).stats.initiative),1)]),e("div",Ds,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ms,t(g.$t("constants.dodge")),1),Rs,e("span",null,t(a(p).stats.dodge),1)]),e("div",Ls,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Us,t(g.$t("constants.wisdom")),1),Ns,e("span",null,t(a(p).stats.wisdom),1)]),e("div",Fs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Os,t(g.$t("constants.control")),1),js,e("span",null,t(a(p).stats.control),1)])]),e("div",Hs,[e("div",Bs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",zs,t(g.$t("constants.healsPerformed")),1),Gs,e("span",null,t(a(p).stats.healsPerformed)+"%",1)]),e("div",Ys,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Js,t(g.$t("characterSheet.statsDisplay.block")),1),Qs,e("span",null,t(a(p).stats.block)+"%",1)]),e("div",Xs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Zs,t(g.$t("constants.range")),1),Ks,e("span",null,t(a(p).stats.range),1)]),e("div",ea,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",ta,t(g.$t("constants.lock")),1),sa,e("span",null,t(a(p).stats.lock),1)]),e("div",aa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",la,t(g.$t("constants.prospecting")),1),ia,e("span",null,t(a(p).stats.prospecting),1)]),e("div",na,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",oa,t(g.$t("constants.forceOfWill")),1),ca,e("span",null,t(a(p).stats.forceOfWill),1)])])])]),e("div",ra,[e("div",ua,t(g.$t("characterSheet.statsDisplay.secondary")),1),e("div",da,[e("div",pa,[e("div",ma,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",ha,t(g.$t("constants.criticalMastery")),1),va,e("span",null,t(a(p).masteries.critical),1)]),e("div",_a,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",fa,t(g.$t("constants.rearMastery")),1),ga,e("span",null,t(a(p).masteries.rear),1)]),e("div",ba,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",$a,t(g.$t("constants.meleeMastery")),1),ya,e("span",null,t(a(p).masteries.melee),1)]),e("div",ka,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",Sa,t(g.$t("constants.distanceMastery")),1),xa,e("span",null,t(a(p).masteries.distance),1)]),e("div",wa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",Ca,t(g.$t("constants.healingMastery")),1),Aa,e("span",null,t(a(p).masteries.healing),1)]),e("div",Va,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Wa,t(g.$t("constants.berserkMastery")),1),qa,e("span",null,t(a(p).masteries.berserk),1)])]),e("div",Ea,[e("div",Ia,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",Pa,t(g.$t("constants.criticalResistance")),1),Ta,e("span",null,t(a(p).resistances.critical),1)]),e("div",Da,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Ma,t(g.$t("constants.rearResistance")),1),Ra,e("span",null,t(a(p).resistances.rear),1)]),e("div",La,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Ua,t(g.$t("constants.armorGiven")),1),Na,e("span",null,t(a(p).stats.armorGiven)+"%",1)]),e("div",Fa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Oa,t(g.$t("characterSheet.statsDisplay.armorReceived")),1),ja,e("span",null,t(a(p).stats.armorReceived)+"%",1)]),e("div",Ha,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Ba,t(g.$t("characterSheet.statsDisplay.indirectDamage")),1),za,e("span",null,t(a(p).stats.indirectDamage)+"%",1)])])])])]),e("div",Ga,[e("div",Ya,t(g.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",Ja,[e("div",Qa,[e("div",Xa,[e("div",Za,[(o(!0),r(X,null,ne(U.value,R=>(o(),re(I,{key:R.id,duration:"0"},{content:m(()=>[e("div",el,t(g.$t(R.name)),1)]),default:m(()=>[s(A,{modelValue:R.checked,"onUpdate:modelValue":P=>R.checked=P,binary:!0,class:"mastery-checkbox",onChange:P=>D(P,R.id)},{icon:m(P=>[e("div",Ka,[s(b,{class:ie(["checkbox-icon",{disabled:!P.checked}]),src:`https://tmktahu.github.io/WakfuAssets/statistics/${R.iconName}.png`,"image-style":"width: 20px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",tl,[s(b,{src:"https://tmktahu.github.io/WakfuAssets/characteristics/223.png",style:{height:"20px"},"image-style":"height: 20px"}),e("span",sl,t(g.$t("characterSheet.statsDisplay.totalMastery")),1),al,e("span",null,t(a(n)(q.value)),1)])])]),e("div",ll,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",il,t(g.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Water"})),1),nl,e("span",null,t(a(l)("water")),1)]),e("div",ol,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",cl,t(g.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Air"})),1),rl,e("span",null,t(a(l)("air")),1)]),e("div",ul,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",dl,t(g.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Earth"})),1),pl,e("span",null,t(a(l)("earth")),1)]),e("div",ml,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",hl,t(g.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Fire"})),1),vl,e("span",null,t(a(l)("fire")),1)])])])):ae("",!0)}}},fl=$e(_l,[["__scopeId","data-v-c6cd1cd2"]]);const gl=v=>(ye("data-v-a7f58026"),v=v(),ke(),v),bl={class:"flex flex-column h-full"},$l={class:"text-xl font-bold",style:{"text-transform":"capitalize"}},yl={class:"mt-1"},kl={class:"mt-3"},Sl={class:"guide-name"},xl=gl(()=>e("div",{class:"flex-grow-1"},null,-1)),wl={class:"guide-language"},Cl={class:"guide-description"},Al={__name:"GuidesTabContent",setup(v){const p=_e("currentCharacter"),N=pe(()=>ot[p.value.class]),n=l=>{window.open(l.url,"_blank").focus()};return(l,q)=>{const U=W("p-divider"),D=W("p-button");return o(),r("div",bl,[e("div",$l,t(l.$t("characterSheet.guidesContent.classGuides",{class:a(p).class})),1),e("div",yl,t(l.$t("characterSheet.guidesContent.doYouHaveAGuide")),1),e("div",kl,[(o(!0),r(X,null,ne(N.value,O=>(o(),r("div",{key:O.name,class:"guide-entry px-3 py-1 mb-2"},[e("div",Sl,t(O.name),1),xl,s(U,{layout:"vertical"}),e("div",wl,t((O.languages[0]?l.$t(O.languages[0]):"")+(O.languages[1]?", "+l.$t(O.languages[1]):"")+(O.languages[2]?", "+l.$t(O.languages[2]):"")),1),s(U,{layout:"vertical"}),e("div",Cl,t(O.description),1),s(D,{label:l.$t("characterSheet.guidesContent.openGuide"),class:"ml-2 py-1 px-3",style:{"min-width":"fit-content"},onClick:g=>n(O)},null,8,["label","onClick"])]))),128))]),s(U)])}}},Vl=$e(Al,[["__scopeId","data-v-a7f58026"]]);const Wl=v=>(ye("data-v-c1799ab4"),v=v(),ke(),v),ql={class:"flex align-items-center my-1"},El={class:"entry-label ml-2"},Il=Wl(()=>e("div",{class:"flex-grow-1"},null,-1)),Pl={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(v){return(p,N)=>{const n=W("p-image"),l=W("p-inputNumber");return o(),r("div",ql,[s(n,{src:v.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",El,t(v.label),1),Il,s(l,Oe(p.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(v.maxOverride,v.remainingPoints+p.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:v.updateFunction}),null,16,["max","onInput"])])}}},le=$e(Pl,[["__scopeId","data-v-c1799ab4"]]);const Me=v=>(ye("data-v-500c2792"),v=v(),ke(),v),Tl={class:"flex flex-column h-full"},Dl={class:"characteristic-panels flex pb-3"},Ml={class:"flex flex-column flex-grow-1 mr-1"},Rl={class:"characteristics-category-header px-2 py-2"},Ll=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Ul={class:"flex flex-column px-2 py-1"},Nl={class:"characteristics-category-header px-2 py-2"},Fl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Ol={class:"flex flex-column px-2 py-1"},jl={class:"characteristics-category-header px-2 py-2"},Hl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Bl={class:"flex flex-column px-2 py-1"},zl={class:"flex flex-column flex-grow-1 ml-1"},Gl={class:"characteristics-category-header px-2 py-2"},Yl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Jl={class:"flex flex-column px-2 py-1"},Ql={class:"characteristics-category-header px-2 py-2"},Xl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Zl={class:"flex flex-column px-2 py-1"},Kl={__name:"CharacteristicsTabContent",setup(v,{expose:p}){const N=_e("masterData"),n=_e("currentCharacter"),l=y(!1),q=pe(()=>l.value?10:1);ct(()=>{document.addEventListener("keydown",i=>{U(i)}),document.addEventListener("keyup",i=>{U(i)})});const U=i=>{i.shiftKey?l.value=!0:l.value=!1},D=y(n.value.characteristics.intelligence.percentHealthPoints),O=y(n.value.characteristics.intelligence.elementalResistance),g=y(n.value.characteristics.intelligence.barrier),B=y(n.value.characteristics.intelligence.percentHealsReceived),b=y(n.value.characteristics.intelligence.percentArmorHeathPoints),A=y(n.value.characteristics.strength.elementalMastery),I=y(n.value.characteristics.strength.meleeMastery),R=y(n.value.characteristics.strength.distanceMastery),P=y(n.value.characteristics.strength.healthPoints),$=y(n.value.characteristics.agility.lock),G=y(n.value.characteristics.agility.dodge),ee=y(n.value.characteristics.agility.initiative),Q=y(n.value.characteristics.agility.lockAndDodge),ue=y(n.value.characteristics.agility.forceOfWill),L=y(n.value.characteristics.fortune.percentCriticalHit),F=y(n.value.characteristics.fortune.percentBlock),S=y(n.value.characteristics.fortune.criticalMastery),M=y(n.value.characteristics.fortune.rearMastery),x=y(n.value.characteristics.fortune.berserkMastery),E=y(n.value.characteristics.fortune.healingMastery),Z=y(n.value.characteristics.fortune.rearResistance),te=y(n.value.characteristics.fortune.criticalResistance),oe=y(n.value.characteristics.major.actionPoints),j=y(n.value.characteristics.major.movementPointsAndDamage),z=y(n.value.characteristics.major.rangeAndDamage),C=y(n.value.characteristics.major.wakfuPoints),K=y(n.value.characteristics.major.controlAndDamage),ce=y(n.value.characteristics.major.percentDamageInflicted),k=y(n.value.characteristics.major.elementalResistance),f=i=>{let d=0;return i==="intelligence"?d=D.value+O.value+g.value+B.value+b.value:i==="strength"?d=A.value+I.value+R.value+P.value:i==="agility"?d=$.value+G.value+ee.value+Q.value+ue.value:i==="fortune"?d=L.value+F.value+S.value+M.value+x.value+E.value+Z.value+te.value:i==="major"&&(d=oe.value+j.value+z.value+C.value+K.value+ce.value+k.value),n.value.characteristics.limits[i]-d},H=()=>{n.value.characteristics.intelligence.percentHealthPoints=D.value,n.value.characteristics.intelligence.elementalResistance=O.value,n.value.characteristics.intelligence.barrier=g.value,n.value.characteristics.intelligence.percentHealsReceived=B.value,n.value.characteristics.intelligence.percentArmorHeathPoints=b.value,n.value.characteristics.strength.elementalMastery=A.value,n.value.characteristics.strength.meleeMastery=I.value,n.value.characteristics.strength.distanceMastery=R.value,n.value.characteristics.strength.healthPoints=P.value,n.value.characteristics.agility.lock=$.value,n.value.characteristics.agility.dodge=G.value,n.value.characteristics.agility.initiative=ee.value,n.value.characteristics.agility.lockAndDodge=Q.value,n.value.characteristics.agility.forceOfWill=ue.value,n.value.characteristics.fortune.percentCriticalHit=L.value,n.value.characteristics.fortune.percentBlock=F.value,n.value.characteristics.fortune.criticalMastery=S.value,n.value.characteristics.fortune.rearMastery=M.value,n.value.characteristics.fortune.berserkMastery=x.value,n.value.characteristics.fortune.healingMastery=E.value,n.value.characteristics.fortune.rearResistance=Z.value,n.value.characteristics.fortune.criticalResistance=te.value,n.value.characteristics.major.actionPoints=oe.value,n.value.characteristics.major.movementPointsAndDamage=j.value,n.value.characteristics.major.rangeAndDamage=z.value,n.value.characteristics.major.wakfuPoints=C.value,n.value.characteristics.major.controlAndDamage=K.value,n.value.characteristics.major.percentDamageInflicted=ce.value,n.value.characteristics.major.elementalResistance=k.value};qe(N,et.debounce(()=>{D.value=n.value.characteristics.intelligence.percentHealthPoints,O.value=n.value.characteristics.intelligence.elementalResistance,g.value=n.value.characteristics.intelligence.barrier,B.value=n.value.characteristics.intelligence.percentHealsReceived,b.value=n.value.characteristics.intelligence.percentArmorHeathPoints,A.value=n.value.characteristics.strength.elementalMastery,I.value=n.value.characteristics.strength.meleeMastery,R.value=n.value.characteristics.strength.distanceMastery,P.value=n.value.characteristics.strength.healthPoints,$.value=n.value.characteristics.agility.lock,G.value=n.value.characteristics.agility.dodge,ee.value=n.value.characteristics.agility.initiative,Q.value=n.value.characteristics.agility.lockAndDodge,ue.value=n.value.characteristics.agility.forceOfWill,L.value=n.value.characteristics.fortune.percentCriticalHit,F.value=n.value.characteristics.fortune.percentBlock,S.value=n.value.characteristics.fortune.criticalMastery,M.value=n.value.characteristics.fortune.rearMastery,x.value=n.value.characteristics.fortune.berserkMastery,E.value=n.value.characteristics.fortune.healingMastery,Z.value=n.value.characteristics.fortune.rearResistance,te.value=n.value.characteristics.fortune.criticalResistance,oe.value=n.value.characteristics.major.actionPoints,j.value=n.value.characteristics.major.movementPointsAndDamage,z.value=n.value.characteristics.major.rangeAndDamage,C.value=n.value.characteristics.major.wakfuPoints,K.value=n.value.characteristics.major.controlAndDamage,ce.value=n.value.characteristics.major.percentDamageInflicted,k.value=n.value.characteristics.major.elementalResistance},100));const Ee=pe(()=>f("intelligence")<0||f("strength")<0||f("agility")<0||f("fortune")<0||f("major")<0),u=pe(()=>f("intelligence")>0||f("strength")>0||f("agility")>0||f("fortune")>0||f("major")>0);return p({hasCharacteristicsError:Ee,hasCharacteristicsPointsToSpend:u}),(i,d)=>{var h,w,de,fe,ge,we,Ie,Ce,Ae,c,T,_,me,Pe,Je;return o(),r("div",Tl,[e("div",Dl,[e("div",Ml,[e("div",{class:ie(["category-wrapper flex flex-column",{error:f("intelligence")<0}])},[e("div",Rl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.intelligence")),1),Ll,e("span",null,t(f("intelligence"))+"/"+t((de=(w=(h=a(n))==null?void 0:h.characteristics)==null?void 0:w.limits)==null?void 0:de.intelligence)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ul,[s(le,{modelValue:D.value,"onUpdate:modelValue":d[0]||(d[0]=V=>D.value=V),label:i.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":f("intelligence"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:O.value,"onUpdate:modelValue":d[1]||(d[1]=V=>O.value=V),label:i.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":f("intelligence"),"update-function":H,"max-override":10,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:g.value,"onUpdate:modelValue":d[2]||(d[2]=V=>g.value=V),label:i.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":f("intelligence"),"update-function":H,"max-override":10,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:B.value,"onUpdate:modelValue":d[3]||(d[3]=V=>B.value=V),label:i.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":f("intelligence"),"update-function":H,"max-override":5,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:b.value,"onUpdate:modelValue":d[4]||(d[4]=V=>b.value=V),label:i.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":f("intelligence"),"update-function":H,"max-override":10,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column mt-2",{error:f("strength")<0}])},[e("div",Nl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.strength")),1),Fl,e("span",null,t(f("strength"))+"/"+t((we=(ge=(fe=a(n))==null?void 0:fe.characteristics)==null?void 0:ge.limits)==null?void 0:we.strength)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ol,[s(le,{modelValue:A.value,"onUpdate:modelValue":d[5]||(d[5]=V=>A.value=V),label:i.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":f("strength"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:I.value,"onUpdate:modelValue":d[6]||(d[6]=V=>I.value=V),label:i.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":f("strength"),"update-function":H,"max-override":40,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:R.value,"onUpdate:modelValue":d[7]||(d[7]=V=>R.value=V),label:i.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":f("strength"),"update-function":H,"max-override":40,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:P.value,"onUpdate:modelValue":d[8]||(d[8]=V=>P.value=V),label:i.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":f("strength"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column mt-2",{error:f("agility")<0}])},[e("div",jl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.agility")),1),Hl,e("span",null,t(f("agility"))+"/"+t((Ae=(Ce=(Ie=a(n))==null?void 0:Ie.characteristics)==null?void 0:Ce.limits)==null?void 0:Ae.agility)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Bl,[s(le,{modelValue:$.value,"onUpdate:modelValue":d[9]||(d[9]=V=>$.value=V),label:i.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":f("agility"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:G.value,"onUpdate:modelValue":d[10]||(d[10]=V=>G.value=V),label:i.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":f("agility"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:ee.value,"onUpdate:modelValue":d[11]||(d[11]=V=>ee.value=V),label:i.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":f("agility"),"update-function":H,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:Q.value,"onUpdate:modelValue":d[12]||(d[12]=V=>Q.value=V),label:i.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":f("agility"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:ue.value,"onUpdate:modelValue":d[13]||(d[13]=V=>ue.value=V),label:i.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":f("agility"),"update-function":H,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",zl,[e("div",{class:ie(["category-wrapper flex flex-column flex-grow-1",{error:f("fortune")<0}])},[e("div",Gl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.fortune")),1),Yl,e("span",null,t(f("fortune"))+"/"+t((_=(T=(c=a(n))==null?void 0:c.characteristics)==null?void 0:T.limits)==null?void 0:_.fortune)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Jl,[s(le,{modelValue:L.value,"onUpdate:modelValue":d[14]||(d[14]=V=>L.value=V),label:i.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":f("fortune"),"update-function":H,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:F.value,"onUpdate:modelValue":d[15]||(d[15]=V=>F.value=V),label:i.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":f("fortune"),"update-function":H,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:S.value,"onUpdate:modelValue":d[16]||(d[16]=V=>S.value=V),label:i.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":f("fortune"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:M.value,"onUpdate:modelValue":d[17]||(d[17]=V=>M.value=V),label:i.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":f("fortune"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:x.value,"onUpdate:modelValue":d[18]||(d[18]=V=>x.value=V),label:i.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":f("fortune"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:E.value,"onUpdate:modelValue":d[19]||(d[19]=V=>E.value=V),label:i.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":f("fortune"),"update-function":H,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:Z.value,"onUpdate:modelValue":d[20]||(d[20]=V=>Z.value=V),label:i.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":f("fortune"),"update-function":H,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:te.value,"onUpdate:modelValue":d[21]||(d[21]=V=>te.value=V),label:i.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":f("fortune"),"update-function":H,"max-override":20,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:f("major")<0}])},[e("div",Ql,[e("span",null,t(i.$t("characterSheet.characteristicsContent.major")),1),Xl,e("span",null,t(f("major"))+"/"+t((Je=(Pe=(me=a(n))==null?void 0:me.characteristics)==null?void 0:Pe.limits)==null?void 0:Je.major)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Zl,[s(le,{modelValue:oe.value,"onUpdate:modelValue":d[22]||(d[22]=V=>oe.value=V),label:i.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":f("major"),"update-function":H,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:j.value,"onUpdate:modelValue":d[23]||(d[23]=V=>j.value=V),label:i.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":f("major"),"update-function":H,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:z.value,"onUpdate:modelValue":d[24]||(d[24]=V=>z.value=V),label:i.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":f("major"),"update-function":H,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:C.value,"onUpdate:modelValue":d[25]||(d[25]=V=>C.value=V),label:i.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":f("major"),"update-function":H,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:K.value,"onUpdate:modelValue":d[26]||(d[26]=V=>K.value=V),label:i.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":f("major"),"update-function":H,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:ce.value,"onUpdate:modelValue":d[27]||(d[27]=V=>ce.value=V),label:i.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":f("major"),"update-function":H,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:k.value,"onUpdate:modelValue":d[28]||(d[28]=V=>k.value=V),label:i.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":f("major"),"update-function":H,"max-override":1,step:q.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},ei=$e(Kl,[["__scopeId","data-v-500c2792"]]);const lt=v=>(ye("data-v-f164a490"),v=v(),ke(),v),ti={class:"flex align-items-center flex-wrap mt-3"},si={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},ai={class:"checkmarks-container flex gap-2"},li={class:"rarity-container mt-2"},ii={class:"flex align-items-center mb-1"},ni=lt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),oi={class:"simple-tooltip"},ci={class:"mr-2 ml-1"},ri={class:"rarity-button-wrapper"},ui={class:"flex justify-content-center align-items-center"},di={class:"simple-tooltip"},pi={class:"item-types-container mt-2"},mi={class:"flex align-items-center justify-content-center mb-1 w-full"},hi=lt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),vi={class:"simple-tooltip"},_i={class:"mr-2 ml-1"},fi={class:"simple-tooltip"},gi={class:"item-types-button-wrapper"},bi={class:"filter-category-wrapper"},$i={class:"flex justify-content-center align-items-center"},yi={class:"simple-tooltip"},ki={class:"filter-category-wrapper"},Si={class:"flex justify-content-center align-items-center"},xi={class:"simple-tooltip"},wi={class:"filter-category-wrapper"},Ci={class:"flex justify-content-center align-items-center"},Ai={class:"simple-tooltip"},Vi={class:"filter-list-wrapper mt-3"},Wi={class:"px-2 py-1"},qi={class:"px-2 py-1"},Ei={__name:"ItemFilters",setup(v){const p=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],n=[Y.healthPoints.id,Y.healingMastery.id,Y.actionPoints.id,Y.movementPoints.id,Y.rearResistance.id,Y.elementalResistance.id,Y.fireResistance.id,Y.waterResistance.id,Y.earthResistance.id,Y.airResistance.id,Y.elementalMastery.id,Y.fireMastery.id,Y.earthMastery.id,Y.waterMastery.id,Y.airMastery.id,Y.criticalMastery.id,Y.criticalHit.id,Y.range.id,Y.prospecting.id,Y.wisdom.id,Y.initiative.id,Y.lock.id,Y.dodge.id,Y.forceOfWill.id,Y.rearMastery.id,Y.control.id,Y.wakfuPoints.id,Y.percentBlock.id,Y.criticalResistance.id,Y.meleeMastery.id,Y.distanceMastery.id,Y.berserkMastery.id,Y.randomElementalMasteries.id,Y.randomElementalResistances.id,Y.harvestingQuantity.id].map(x=>({value:x,text:Y[x].text})),l=_e("itemFilters"),q=y(""),U=y([l.startLevel,l.endLevel]),D=y([]),O=y(l.rarityFilters),g=y(l.itemTypeFilters),B=y(!1),b=()=>{$()},A=(x,E)=>{E==="min"&&(U.value[0]=x.value),E==="max"&&(U.value[1]=x.value),$()},I=()=>{$()},R=(x,E)=>{x.ctrlKey&&l.itemTypeFilters.forEach(Z=>{Z.id!==E?Z.checked=!1:Z.checked=!0}),$()},P=(x,E)=>{x.ctrlKey&&l.rarityFilters.forEach(Z=>{Z.id!==E?Z.checked=!1:Z.checked=!0}),$()},$=et.debounce(x=>{var E;l.searchTerm=q.value,l.startLevel=U.value[0],l.endLevel=U.value[1],l.effectFilters=D.value,l.rarityFilters=O.value,x&&((E=x.rawIds)!=null&&E.length)?G(x):l.itemTypeFilters=g.value},100),G=x=>{x.rawIds.forEach(E=>{let Z=g.value.find(te=>te.rawId===E);Z.checked=x.checked})},ee=()=>{let x={type:n[0],comparator:p[2],value:0};D.value.push(x),$()},Q=x=>{let E=D.value.indexOf(x);D.value.splice(E,1),$()},ue=()=>{l.resetFilters(),q.value=l.searchTerm,U.value[0]=l.startLevel,U.value[1]=l.endLevel,D.value=l.effectFilters,O.value=l.rarityFilters,g.value=l.itemTypeFilters},L=()=>{l.rarityFilters.forEach(x=>{x.checked=!0}),$()},F=()=>{l.rarityFilters.forEach(x=>{x.checked=!1}),$()},S=()=>{l.itemTypeFilters.forEach(x=>{x.checked=!0}),$()},M=()=>{l.itemTypeFilters.forEach(x=>{x.checked=!1}),$()};return(x,E)=>{const Z=W("p-inputText"),te=W("p-inputNumber"),oe=W("p-slider"),j=W("p-button"),z=W("tippy"),C=W("p-image"),K=W("p-checkbox"),ce=W("p-dropdown");return o(),r(X,null,[e("div",ti,[s(Z,{modelValue:q.value,"onUpdate:modelValue":E[0]||(E[0]=k=>q.value=k),placeholder:x.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:b},null,8,["modelValue","placeholder"]),e("div",si,[s(te,{modelValue:U.value[0],"onUpdate:modelValue":E[1]||(E[1]=k=>U.value[0]=k),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:E[2]||(E[2]=k=>A(k,"min"))},null,8,["modelValue"]),s(oe,{modelValue:U.value,"onUpdate:modelValue":E[3]||(E[3]=k=>U.value=k),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:I},null,8,["modelValue"]),s(te,{modelValue:U.value[1],"onUpdate:modelValue":E[4]||(E[4]=k=>U.value[1]=k),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:E[5]||(E[5]=k=>A(k,"max"))},null,8,["modelValue"])]),s(j,{class:"filter-button",label:x.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:ue},null,8,["label"])]),e("div",ai,[e("div",li,[e("div",ii,[s(j,{class:"filter-button item-filter-action mr-2",label:x.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:L},null,8,["label"]),s(z,{placement:"top"},{content:m(()=>[e("div",oi,t(x.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:m(()=>[ni]),_:1}),e("div",ci,t(x.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(j,{class:"filter-button item-filter-action",label:x.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:F},null,8,["label"])]),e("div",ri,[(o(!0),r(X,null,ne(O.value,k=>(o(),re(z,{key:k.id,duration:"0"},{content:m(()=>[e("div",di,t(x.$t(k.name)),1)]),default:m(()=>[s(K,{modelValue:k.checked,"onUpdate:modelValue":f=>k.checked=f,binary:!0,class:"rarity-checkbox",onChange:f=>P(f,k.id)},{icon:m(f=>[e("div",ui,[s(C,{class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${k.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",pi,[e("div",mi,[s(j,{class:"filter-button item-filter-action mr-2",label:x.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:S},null,8,["label"]),s(z,{placement:"top"},{content:m(()=>[e("div",vi,t(x.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:m(()=>[hi]),_:1}),e("div",_i,t(x.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(z,null,{content:m(()=>[e("div",fi,t(x.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:m(()=>[s(K,{modelValue:B.value,"onUpdate:modelValue":E[6]||(E[6]=k=>B.value=k),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(j,{class:"filter-button item-filter-action",label:x.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:M},null,8,["label"])]),e("div",gi,[e("div",bi,[(o(!0),r(X,null,ne(g.value.filter(k=>k.category==="armor"),k=>(o(),r(X,{key:k.id},[!k.advanced||B.value?(o(),re(z,{key:0,duration:"0"},{content:m(()=>[e("div",yi,t(x.$t(k.name)),1)]),default:m(()=>[s(K,{modelValue:k.checked,"onUpdate:modelValue":f=>k.checked=f,binary:!0,class:"item-type-checkbox",onChange:f=>R(f,k.id)},{icon:m(f=>[e("div",$i,[k.rawId?(o(),re(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))]),e("div",ki,[(o(!0),r(X,null,ne(g.value.filter(k=>k.category==="weapons"),k=>(o(),r(X,{key:k.id},[!k.advanced||B.value?(o(),re(z,{key:0,duration:"0"},{content:m(()=>[e("div",xi,t(x.$t(k.name)),1)]),default:m(()=>[s(K,{modelValue:k.checked,"onUpdate:modelValue":f=>k.checked=f,binary:!0,class:"item-type-checkbox",onChange:f=>a($)(k)},{icon:m(f=>[e("div",Si,[k.rawId?(o(),re(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))]),e("div",wi,[(o(!0),r(X,null,ne(g.value.filter(k=>k.category==="miscellaneous"),k=>(o(),r(X,{key:k.id},[!k.advanced||B.value?(o(),re(z,{key:0,duration:"0"},{content:m(()=>[e("div",Ai,t(x.$t(k.name)),1)]),default:m(()=>[s(K,{modelValue:k.checked,"onUpdate:modelValue":f=>k.checked=f,binary:!0,class:"item-type-checkbox",onChange:a($)},{icon:m(f=>[e("div",Ci,[k.rawId?(o(),re(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),re(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${k.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))])])])]),e("div",Vi,[s(j,{icon:"pi pi-plus",class:"filter-button",label:x.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:ee},null,8,["label"]),(o(!0),r(X,null,ne(D.value,k=>(o(),r("div",{key:k.id,class:"filter-entry"},[s(ce,{modelValue:k.type,"onUpdate:modelValue":f=>k.type=f,class:"filter-type-dropdown",options:a(n),filter:"","auto-filter-focus":"","option-label":"text",onChange:a($)},{value:m(f=>[ve(t(x.$t(f.value.text)),1)]),option:m(f=>[e("div",Wi,t(x.$t(f.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(ce,{modelValue:k.comparator,"onUpdate:modelValue":f=>k.comparator=f,class:"filter-comparator-dropdown",options:p,"option-label":"text",onChange:a($)},{value:m(f=>[ve(t(f.value.symbol),1)]),option:m(f=>[e("div",qi,t(x.$t(f.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(te,{modelValue:k.value,"onUpdate:modelValue":f=>k.value=f,class:"filter-value-input","allow-empty":!1,onInput:a($)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(j,{class:"remove-filter-button",icon:"pi pi-trash",onClick:f=>Q(k)},null,8,["onClick"])]))),128))])],64)}}},Ii=$e(Ei,[["__scopeId","data-v-f164a490"]]);const Ye=v=>(ye("data-v-fc9729a1"),v=v(),ke(),v),Pi={class:"item-card"},Ti={key:0,class:"slot-label text-center pt-1 pb-1"},Di={class:"flex px-2 pt-2"},Mi={class:"flex flex-column ml-1"},Ri={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Li={class:"flex"},Ui={key:0},Ni={key:1},Fi={key:2,class:"ml-1"},Oi=Ye(()=>e("div",{class:"flex-grow-1"},null,-1)),ji={class:"flex flex-column"},Hi=Ye(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),Bi={key:0,class:"item-card-tooltip"},zi={key:0,class:"effect-header existing-item flex pt-2 px-1"},Gi={class:"flex flex-column ml-1"},Yi={class:"item-name mr-2"},Ji={class:"flex"},Qi={key:0},Xi={key:1},Zi={key:2,class:"ml-1"},Ki=Ye(()=>e("div",{class:"ml-1"},"(equipped)",-1)),en={class:"effect-header flex pt-2 px-1"},tn={class:"flex flex-column ml-1"},sn={class:"item-name mr-2"},an={class:"flex"},ln={key:0},nn={key:1},on={key:2,class:"ml-1"},cn={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1},withComparisons:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},setup(v){let p=v,N=document;const n=ze(),l=_e("currentCharacter"),{getItemEncyclopediaUrl:q}=st(),{equipItem:U}=je(l),D=pe(()=>{var A,I;let b=p.item.type.validSlots[0];return((A=l.value.equipment[b])==null?void 0:A.id)!==((I=p.item)==null?void 0:I.id)?l.value.equipment[b]:null}),O=(B,b)=>{U(B,b,n)},g=B=>{let b=q(B);window.open(b,"_blank")};return(B,b)=>{const A=W("p-image"),I=W("p-button"),R=W("tippy");return o(),re(De,{delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>a(N).body,sticky:v.sticky,"max-width":500},{trigger:m(()=>[e("div",Pi,[v.withSlotLabel?(o(),r("div",Ti,t(v.item.type.validSlots[0]==="LEFT_HAND"?"Ring":B.$t(a(se)[v.item.type.validSlots[0]].name))+" Slot ",1)):ae("",!0),e("div",Di,[s(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Mi,[e("div",Ri,t(B.$t(`items.${v.item.id}`)),1),e("div",Li,[s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(v.item.type.id)?(o(),r("div",Ui,"Item Level: "+t(v.item.id===12237?"25":"50"),1)):(o(),r("div",Ni,"Lvl: "+t(v.item.level),1)),v.item.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Fi,t(v.item.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),Oi,e("div",ji,[s(I,{icon:"pi pi-plus",class:"action-button mb-1",onClick:b[0]||(b[0]=P=>O(v.item,P))}),s(R,{placement:"left"},{content:m(()=>[Hi]),default:m(()=>[s(I,{icon:"pi pi-question-circle",class:"action-button",onClick:b[1]||(b[1]=P=>g(v.item))})]),_:1})])])])]),content:m(()=>[v.item?(o(),r("div",Bi,[D.value&&v.withComparisons?(o(),r("div",zi,[s(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${D.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Gi,[e("div",Yi,t(B.$t(`items.${D.value.id}`)),1),e("div",Ji,[s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${D.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${D.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(D.value.type.id)?(o(),r("div",Qi,"Item Level: "+t(D.value.id===12237?"25":"50"),1)):(o(),r("div",Xi,"Lvl: "+t(D.value.level),1)),D.value.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Zi,t(D.value.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0),Ki])])])):ae("",!0),s(We,{item:v.item,"with-comparisons":v.withComparisons,"with-totals":v.withTotals},null,8,["item","with-comparisons","with-totals"]),e("div",en,[s(A,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",tn,[e("div",sn,t(B.$t(`items.${v.item.id}`)),1),e("div",an,[s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(A,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(v.item.type.id)?(o(),r("div",ln,"Item Level: "+t(v.item.id===12237?"25":"50"),1)):(o(),r("div",nn,"Lvl: "+t(v.item.level),1)),v.item.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",on,t(v.item.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])])])])):ae("",!0)]),_:1},8,["append-to","sticky"])}}},it=$e(cn,[["__scopeId","data-v-fc9729a1"]]),rn={class:"flex align-items-center"},un={class:"mx-2"},dn=e("i",{class:"mdi mdi-information-outline"},null,-1),pn={class:"simple-tooltip"},be={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(v){return(p,N)=>{const n=W("p-checkbox"),l=W("tippy");return o(),r("div",rn,[s(n,Oe(p.$attrs,{binary:!0}),null,16),e("div",un,t(v.label),1),v.tooltipText?(o(),re(l,{key:0,placement:"left",duration:"0"},{content:m(()=>[e("div",pn,t(v.tooltipText),1)]),default:m(()=>[dn]),_:1})):ae("",!0)])}}};const nt=v=>(ye("data-v-c3488015"),v=v(),ke(),v),mn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},hn={class:"flex"},vn={class:"flex flex-wrap gap-2"},_n={class:"px-2 py-1"},fn={class:"px-2 py-1"},gn={class:"flex align-items-center gap-4 mt-2"},bn=nt(()=>e("div",{class:"flex-grow-1"},null,-1)),$n={class:"ml-2"},yn={key:0,class:"flex"},kn={key:0,class:"item-card with-stats"},Sn={class:"flex px-2 pt-2"},xn={class:"flex flex-column ml-1"},wn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Cn={class:"flex"},An={key:0},Vn={key:1},Wn={key:2,class:"ml-1"},qn=nt(()=>e("div",{class:"flex-grow-1"},null,-1)),En={class:"flex flex-column gap-1"},In={key:1},Pn={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Tn={class:"text-center mt-2"},Dn={class:"flex justify-content-center"},Mn={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Rn={__name:"EquipmentTabContent",setup(v,{expose:p}){const N=ze(),{t:n}=Ge(),l=_e("currentCharacter"),q=_e("currentItemList"),U=_e("itemListLoading"),D=_e("itemFilters"),O=y(null),g=y(4),{getNumTotalItems:B}=je(),{getItemEncyclopediaUrl:b}=st(),A=()=>{g.value=Math.floor((O.value.clientWidth-16)/(P.value?310+5:230+5))};window.addEventListener("resize",A);let I=pe(()=>{let S=[],M=[];return q.value.forEach(x=>{M.length===g.value?(S.push(M),M=[x]):M.push(x)}),M.length>0&&S.push(M),S.length===0&&S.push([]),S});const R=y(!1),P=y(!1),$=y(!1),G=y(!1),ee=()=>{R.value=!0,Te(()=>{A()})};qe(P,()=>{Te(()=>{R.value=!1,Te(()=>{R.value=!0,Te(()=>{A()})})})});const Q=(S,M)=>{let x=S.type.validSlots.includes(se.LEFT_HAND.id)||S.type.validSlots.includes(se.RIGHT_HAND.id),E=S.type.disabledSlots.includes(se.SECOND_WEAPON.id)&&l.value.equipment[se.SECOND_WEAPON.id]!==null,Z=S.type.validSlots[0]===se.SECOND_WEAPON.id&&l.value.equipment[se.FIRST_WEAPON.id]!==null&&l.value.equipment[se.FIRST_WEAPON.id].type.disabledSlots.includes(se.SECOND_WEAPON.id),te=!1,oe=null,j=!1,z=null;Object.keys(l.value.equipment).forEach(ce=>{S.rarity===5&&l.value.equipment[ce]!==null&&l.value.equipment[ce].rarity===5&&(te=!0,oe=ce),S.rarity===7&&l.value.equipment[ce]!==null&&l.value.equipment[ce].rarity===7&&(j=!0,z=ce)});let C=null;te&&(C=n("characterSheet.equipmentContent.hasRelicWarning")),j&&(C=n("characterSheet.equipmentContent.hasEpicWarning")),E&&(C=n("characterSheet.equipmentContent.twoHandedWeaponWarning")),Z&&(C=n("characterSheet.equipmentContent.secondWeaponWarning")),te&&E&&(C=n("characterSheet.equipmentContent.relicAndTwoHandedWarning")),te&&Z&&(C=n("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),j&&E&&(C=n("characterSheet.equipmentContent.epicAndTwoHandedWarning")),j&&Z&&(C=n("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),E||Z||te||j?N.require({group:"popup",target:M.currentTarget,message:C,accept:()=>{x&&(l.value.equipment[se.LEFT_HAND.id]===null?l.value.equipment[se.LEFT_HAND.id]=S:l.value.equipment[se.RIGHT_HAND.id]=S),E&&(l.value.equipment[se.FIRST_WEAPON.id]=S,l.value.equipment[se.SECOND_WEAPON.id]=null),Z&&(l.value.equipment[se.FIRST_WEAPON.id]=null,l.value.equipment[se.SECOND_WEAPON.id]=S),te&&(l.value.equipment[oe]=null,l.value.equipment[S.type.validSlots[0]]=S),j&&(l.value.equipment[z]=null,l.value.equipment[S.type.validSlots[0]]=S)}}):x?l.value.equipment[se.LEFT_HAND.id]===null?l.value.equipment[se.LEFT_HAND.id]=S:l.value.equipment[se.RIGHT_HAND.id]=S:S.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",S.type):l.value.equipment[S.type.validSlots[0]]=S},ue=S=>{let M=b(S);window.open(M,"_blank")},L=()=>{let S={sortBy:Qe[0],sortOrder:Xe[0]};D.sortingParams.push(S)},F=S=>{let M=D.sortingParams.indexOf(S);D.sortingParams.splice(M,1)};return p({showList:ee}),(S,M)=>{const x=W("p-divider"),E=W("p-button"),Z=W("p-dropdown"),te=W("p-image"),oe=W("p-virtualScroller"),j=W("p-progressSpinner");return o(),r("div",mn,[s(at,{character:a(l),"with-totals":$.value},null,8,["character","with-totals"]),s(Ii),s(x,{class:"mt-2 mb-2"}),e("div",hn,[e("div",vn,[s(E,{icon:"pi pi-plus",class:"filter-button",label:S.$t("characterSheet.equipmentContent.newSort"),onClick:L},null,8,["label"]),(o(!0),r(X,null,ne(a(D).sortingParams,(z,C)=>(o(),r("div",{key:C,class:"filter-entry"},[s(Z,{modelValue:z.sortBy,"onUpdate:modelValue":K=>z.sortBy=K,class:"filter-type-dropdown","option-label":"label",filter:"","auto-filter-focus":"",options:a(Qe)},{value:m(K=>[ve(t(S.$t(K.value.label)),1)]),option:m(K=>[e("div",_n,t(S.$t(K.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(Z,{modelValue:z.sortOrder,"onUpdate:modelValue":K=>z.sortOrder=K,class:"filter-comparator-dropdown","option-label":"label",options:a(Xe)},{value:m(K=>[ve(t(S.$t(K.value.label)),1)]),option:m(K=>[e("div",fn,t(S.$t(K.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(E,{class:"remove-filter-button",icon:"pi pi-trash",onClick:K=>F(z)},null,8,["onClick"])]))),128))])]),s(x,{class:"mt-2 mb-2"}),e("div",gn,[s(be,{modelValue:P.value,"onUpdate:modelValue":M[0]||(M[0]=z=>P.value=z),label:S.$t("characterSheet.equipmentContent.displayStats")},null,8,["modelValue","label"]),s(be,{modelValue:$.value,"onUpdate:modelValue":M[1]||(M[1]=z=>$.value=z),label:S.$t("characterSheet.equipmentContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:G.value,"onUpdate:modelValue":M[2]||(M[2]=z=>G.value=z),label:S.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"]),bn,e("div",$n,t(a(q).length)+" "+t(S.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(a(B)())+" "+t(S.$t("characterSheet.equipmentContent.itemsTotal")),1)]),R.value&&!a(U)?(o(),r("div",{key:0,ref_key:"itemResultsWrapper",ref:O,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(oe,{items:a(I),"item-size":[P.value?215:65,P.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:m(({item:z})=>[a(I)[0].length>0?(o(),r("div",yn,[(o(!0),r(X,null,ne(z,(C,K)=>(o(),r(X,{key:K},[P.value&&C?(o(),r("div",kn,[e("div",Sn,[s(te,{src:`https://tmktahu.github.io/WakfuAssets/items/${C.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",xn,[e("div",wn,t(S.$t(`items.${C.id}`)),1),e("div",Cn,[s(te,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${C.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(te,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${C.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Fe).includes(C.type.id)?(o(),r("div",An,t(S.$t("characterSheet.equipmentContent.itemLevel"))+": "+t(C.id===12237?"25":"50"),1)):(o(),r("div",Vn,"Lvl: "+t(C.level),1)),C.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Wn,t(C.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),qn,e("div",En,[s(E,{icon:"pi pi-plus",class:"equip-button",onClick:ce=>Q(C,ce)},null,8,["onClick"]),s(E,{icon:"pi pi-question-circle",class:"equip-button",onClick:ce=>ue(C)},null,8,["onClick"])])]),s(We,{"card-mode":"",item:C,"with-totals":$.value,"with-comparisons":G.value},null,8,["item","with-totals","with-comparisons"])])):(o(),re(it,{key:1,item:C,"with-totals":$.value,"with-comparisons":G.value},null,8,["item","with-totals","with-comparisons"]))],64))),128))])):(o(),r("div",In,t(S.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(o(),r("div",Pn,[e("div",Tn,t(S.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Dn,[e("div",Mn,[s(j,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(j,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},Ln=$e(Rn,[["__scopeId","data-v-c3488015"]]);const Se=v=>(ye("data-v-22a133ae"),v=v(),ke(),v),Un={class:"w-full h-full"},Nn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Fn={class:"simple-tooltip"},On={class:"flex mt-2"},jn={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},Hn={class:"disabled-mask"},Bn=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),zn={key:1,class:"spell-button disabled"},Gn={class:"disabled-mask"},Yn={class:"mt-3"},Jn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Qn={class:"simple-tooltip"},Xn={class:"flex mt-2"},Zn={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},Kn={key:0},eo=["onClick"],to=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),so={class:"spell-tooltip"},ao={class:"spell-name px-2 py-1"},lo={class:"spell-description px-2 py-1"},io=["innerHTML"],no={key:0,class:"spell-unlock-number"},oo={class:"flex flex-wrap gap-1"},co=["onClick"],ro=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),uo=Se(()=>e("div",{class:"disabled-mask"},null,-1)),po={key:0,class:"spell-unlock-number"},mo={class:"spell-tooltip"},ho={class:"spell-name px-2 py-1"},vo={class:"spell-description px-2 py-1"},_o=["innerHTML"],fo={class:"flex flex-wrap gap-1"},go=["onClick"],bo=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),$o=Se(()=>e("div",{class:"disabled-mask"},null,-1)),yo={key:0,class:"spell-unlock-number"},ko={class:"spell-tooltip"},So={class:"spell-name px-2 py-1"},xo={class:"spell-description px-2 py-1"},wo=["innerHTML"],Co={__name:"SpellTabContent",setup(v){const p=_e("currentCharacter"),{getClassPassiveSpells:N,getSpellHtml:n,getSpellLevel:l}=rt(p),q=pe(()=>N(p.value.class).sort((R,P)=>{let $=Ve[R.id],G=Ve[P.id];return $-G})),U=pe(()=>N("all").sort((R,P)=>{let $=Ve[R.id],G=Ve[P.id];return $-G})),D=A=>{A.category===He.passive&&(Object.keys(p.value.spells).forEach(I=>{var R;I.includes(He.passive)&&((R=p.value.spells[I])==null?void 0:R.id)===A.id&&(p.value.spells[I]=null)}),Object.keys(p.value.spells).some(I=>{if(I.includes(He.passive)&&b(parseInt(I.replace("passiveSlot","")))&&p.value.spells[I]===null)return p.value.spells[I]=A,!0}))},O=A=>{p.value.spells[A]=null},g=A=>{let I=!1;return Object.keys(p.value.spells).forEach(R=>{var P;((P=p.value.spells[R])==null?void 0:P.id)===A.id&&(I=!0)}),I},B=A=>{let I=Ve[A.id];return p.value.level>=I},b=A=>{let I=Ze[A-1];return p.value.level>=I};return(A,I)=>{const R=W("tippy"),P=W("p-image");return o(),r("div",Un,[e("div",null,[s(R,{placement:"left"},{content:m(()=>[e("div",Fn,t(A.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:m(()=>[Nn]),_:1}),ve(" "+t(A.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",On,[e("div",jn,[(o(),r(X,null,ne(12,$=>(o(),r(X,{key:$},[a(p).spells["activeSlot"+$]!==null?(o(),r("div",{key:0,class:"spell-button disabled",onClick:I[0]||(I[0]=G=>O(A.spell))},[e("div",Hn,t(),1),Bn,s(P,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(p).spells["activeSlot"+$].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(o(),r("div",zn,[s(P,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",Gn,t(),1)]))],64))),64))])]),e("div",Yn,[s(R,{placement:"left"},{content:m(()=>[e("div",Qn,t(A.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:m(()=>[Jn]),_:1}),ve(" "+t(A.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",Xn,[e("div",Zn,[(o(),r(X,null,ne(6,$=>(o(),r(X,{key:$},[a(p).spells["passiveSlot"+$]!==null?(o(),r("div",Kn,[s(R,{duration:"0"},{content:m(()=>[e("div",so,[e("div",ao,t(a(p).spells["passiveSlot"+$].name)+" (Level "+t(a(l)(a(p).spells["passiveSlot"+$]))+") ",1),e("div",lo,t(a(p).spells["passiveSlot"+$].description),1),e("div",{class:"spell-details",innerHTML:a(n)(a(p).spells["passiveSlot"+$])},null,8,io)])]),default:m(()=>[e("div",{class:"spell-button",onClick:G=>O("passiveSlot"+$)},[to,s(P,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(p).spells["passiveSlot"+$].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,eo)]),_:2},1024)])):(o(),r("div",{key:1,class:ie(["spell-slot",{disabled:!b($)}])},[s(P,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),b($)?ae("",!0):(o(),r("div",no,t(a(Ze)[$-1]),1))],2))],64))),64))]),e("div",oo,[(o(!0),r(X,null,ne(q.value,$=>(o(),re(R,{key:$.id,duration:"0"},{content:m(()=>[e("div",mo,[e("div",ho,t($.name)+" (Level "+t(a(l)($))+")",1),e("div",vo,t($.description),1),e("div",{class:"spell-details",innerHTML:a(n)($)},null,8,_o)])]),default:m(()=>[e("div",{class:ie(["spell-button",{disabled:g($)||!B($)}]),onClick:G=>D($)},[ro,uo,s(P,{src:`https://tmktahu.github.io/WakfuAssets/spells/${$.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),B($)?ae("",!0):(o(),r("div",po,t(a(Ve)[$.id]),1))],10,co)]),_:2},1024))),128))]),e("div",fo,[(o(!0),r(X,null,ne(U.value,$=>(o(),re(R,{key:$.id,duration:"0"},{content:m(()=>[e("div",ko,[e("div",So,t($.name)+" (Level "+t(a(l)($))+")",1),e("div",xo,t($.description),1),e("div",{class:"spell-details",innerHTML:a(n)($)},null,8,wo)])]),default:m(()=>[e("div",{class:ie(["spell-button",{disabled:g($)||!B($)}]),onClick:G=>D($)},[bo,$o,s(P,{src:`https://tmktahu.github.io/WakfuAssets/spells/${$.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),B($)?ae("",!0):(o(),r("div",yo,t(a(Ve)[$.id]),1))],10,go)]),_:2},1024))),128))])])])}}},Ao=$e(Co,[["__scopeId","data-v-22a133ae"]]),Vo={class:"flex align-items-center"},Wo={class:"mx-2"},qo=e("i",{class:"mdi mdi-information-outline"},null,-1),Eo={class:"simple-tooltip"},Ue={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(v){return(p,N)=>{const n=W("p-inputNumber"),l=W("tippy");return o(),r("div",Vo,[s(n,Oe(p.$attrs,{class:"number-input"}),null,16),e("div",Wo,t(v.label),1),s(l,{placement:"left",duration:"0"},{content:m(()=>[e("div",Eo,t(v.tooltipText),1)]),default:m(()=>[qo]),_:1})])}}};const Re=v=>(ye("data-v-385dc262"),v=v(),ke(),v),Io={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Po={class:"flex flex-column mt-4"},To={class:"flex"},Do={class:"flex mt-3"},Mo={class:"setting-group flex flex-column mr-3 gap-2"},Ro={class:"mb-2"},Lo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Uo={class:"simple-tooltip"},No={class:"setting-group flex flex-column mr-3"},Fo={class:"flex flex-column gap-2"},Oo={class:"mb-2"},jo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ho={class:"simple-tooltip"},Bo={class:"flex align-items-center"},zo={class:"mr-2"},Go={class:"px-2 py-1"},Yo={class:"flex align-items-center"},Jo={class:"mr-2"},Qo={class:"px-2 py-1"},Xo={class:"flex align-items-center"},Zo={class:"mr-2"},Ko={class:"px-2 py-1"},ec={class:"flex align-items-center"},tc={class:"mr-2"},sc={class:"px-2 py-1"},ac={class:"flex align-items-center"},lc={class:"mr-2"},ic={class:"px-2 py-1"},nc={class:"flex flex-column"},oc={class:"rarity-container"},cc={class:"flex align-items-center mb-1"},rc=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),uc={class:"simple-tooltip"},dc={class:"mr-2 ml-1"},pc={class:"rarity-button-wrapper"},mc={class:"flex justify-content-center align-items-center"},hc={class:"simple-tooltip"},vc={class:"setting-group flex flex-column gap-2 mt-2"},_c={class:"mb-2"},fc=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),gc={class:"simple-tooltip"},bc={key:0,class:"warning-message mt-2 py-1 px-2"},$c={class:"flex align-items-center mt-3"},yc=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),kc=["innerHTML"],Sc={class:"flex align-items-center gap-4 mt-2"},xc={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},wc={key:0,class:"error-state px-3 py-3"},Cc={key:0,class:"mt-1"},Ac={key:1},Vc={class:"mt-3"},Wc={key:0,class:"mt-2"},qc={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Ec={key:1},Ic={class:"flex flex-wrap gap-1 mt-2"},Pc={key:2,class:"loading-state px-3 py-3"},Tc={class:"mt-2"},Dc={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Mc={class:"text-center mt-2"},Rc={class:"text-center mb-5 mt-2"},Lc={class:"flex justify-content-center"},Uc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Nc={__name:"ItemSolverTabContent",setup(v){const{t:p}=Ge(),N=ze(),n=_e("currentCharacter"),{equipItem:l}=je(n),{runCalculations:q,autoBuilderIsReady:U,itemSet:D,builderLoading:O,builderError:g}=ut(),{createBuildCode:B}=tt(),b=y(!1),A=y(!1),I=y(!1),R=pe(()=>{if(b.value)return D.value;{let h=Object.keys(n.value.equipment).map(w=>{if(n.value.equipment[w])return n.value.equipment[w].id}).filter(w=>w!==void 0);return D.value?D.value.filter(w=>!h.includes(w.id)):[]}}),P=y(n.value.actionPoints),$=y(n.value.movementPoints),G=y(n.value.stats.range),ee=y(n.value.wakfuPoints),Q=y(!1),ue=y(!1),L=y(!1),F=y(!1),S=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],M=[...S,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],x=y(S[0]),E=y(S[0]),Z=y(S[0]),te=y(S[0]),oe=y(S[0]),j=y(!0),z=y(dt.map(h=>({...h,checked:!0}))),C=y(!0);qe(U,()=>{C.value=!1});const K=()=>{z.value.forEach(h=>{h.checked=!0})},ce=()=>{z.value.forEach(h=>{h.checked=!1})},k=pe(()=>U.value),f=pe(()=>B(n.value)),H=y(null);qe([P,$,G,ee],()=>{H.value=null,P.value-n.value.actionPoints>=6?H.value=p("characterSheet.itemSolverContent.apWarning"):G.value-n.value.stats.range>5?H.value=p("characterSheet.itemSolverContent.rangeImpossibleWarning"):n.value.level<35?G.value-n.value.stats.range>0&&(H.value=p("characterSheet.itemSolverContent.rangeForLevelWarning")):n.value.level<50?G.value-n.value.stats.range>1?H.value=p("characterSheet.itemSolverContent.rangeForLevelWarning"):P.value-n.value.actionPoints+$.value-n.value.movementPoints>4&&(H.value=p("characterSheet.itemSolverContent.combinedApMpWarning")):n.value.level<80&&G.value-n.value.stats.range>3&&(H.value=p("characterSheet.itemSolverContent.rangeForLevelWarning"))});const Ee=async()=>{let h=z.value.filter(de=>de.checked).map(de=>de.id),w={buildCode:f.value,meleeMasteryPriority:x.value,distanceMasteryPriority:E.value,healingMasteryPriority:Z.value,rearMasteryPriority:te.value,berserkMasteryPriority:oe.value,fireMastery:Q.value,earthMastery:ue.value,waterMastery:L.value,airMastery:F.value,targetApAmount:P.value||0,targetMpAmount:$.value||0,targetRangeAmount:G.value||0,targetWpAmount:ee.value||0,selectedRarityIds:h,ignoreEquippedItems:!j.value};q(w)},u=h=>{N.require({group:"popup",target:h.currentTarget,message:p("confirms.willReplaceItems"),accept:()=>{D.value.forEach(w=>{l(w)})}})},i=(h,w)=>{h.ctrlKey&&z.value.forEach(de=>{de.id!==w?de.checked=!1:de.checked=!0})},d=()=>`<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>'s`;return(h,w)=>{var Ae,c,T;const de=W("tippy"),fe=W("p-dropdown"),ge=W("p-button"),we=W("p-image"),Ie=W("p-checkbox"),Ce=W("p-progressSpinner");return o(),r("div",Io,[s(at,{character:a(n)},null,8,["character"]),e("div",Po,[e("div",To,[s(be,{modelValue:j.value,"onUpdate:modelValue":w[0]||(w[0]=_=>j.value=_),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",Do,[e("div",Mo,[e("div",Ro,[s(de,{placement:"top",duration:"0"},{content:m(()=>[e("div",Uo,t(h.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:m(()=>[Lo]),_:1}),ve(" "+t(h.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Ue,{modelValue:P.value,"onUpdate:modelValue":w[1]||(w[1]=_=>P.value=_),label:h.$t("constants.actionPoints"),"tooltip-text":h.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:$.value,"onUpdate:modelValue":w[2]||(w[2]=_=>$.value=_),label:h.$t("constants.movementPoints"),"tooltip-text":h.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:G.value,"onUpdate:modelValue":w[3]||(w[3]=_=>G.value=_),label:h.$t("constants.range"),"tooltip-text":h.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:ee.value,"onUpdate:modelValue":w[4]||(w[4]=_=>ee.value=_),label:h.$t("constants.wakfuPoints"),"tooltip-text":h.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",No,[e("div",Fo,[e("div",Oo,[s(de,{placement:"top",duration:"0"},{content:m(()=>[e("div",Ho,t(h.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:m(()=>[jo]),_:1}),ve(" "+t(h.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",Bo,[e("div",zo,t(h.$t("constants.meleeMastery")),1),s(fe,{modelValue:x.value,"onUpdate:modelValue":w[5]||(w[5]=_=>x.value=_),class:"condensed-dropdown","option-label":"label",options:S},{value:m(_=>[ve(t(h.$t(_.value.label)),1)]),option:m(_=>[e("div",Go,t(h.$t(_.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Yo,[e("div",Jo,t(h.$t("constants.distanceMastery")),1),s(fe,{modelValue:E.value,"onUpdate:modelValue":w[6]||(w[6]=_=>E.value=_),class:"condensed-dropdown","option-label":"label",options:S},{value:m(_=>[ve(t(h.$t(_.value.label)),1)]),option:m(_=>[e("div",Qo,t(h.$t(_.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Xo,[e("div",Zo,t(h.$t("constants.healingMastery")),1),s(fe,{modelValue:Z.value,"onUpdate:modelValue":w[7]||(w[7]=_=>Z.value=_),class:"condensed-dropdown","option-label":"label",options:S},{value:m(_=>[ve(t(h.$t(_.value.label)),1)]),option:m(_=>[e("div",Ko,t(h.$t(_.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ec,[e("div",tc,t(h.$t("constants.rearMastery")),1),s(fe,{modelValue:te.value,"onUpdate:modelValue":w[8]||(w[8]=_=>te.value=_),class:"condensed-dropdown","option-label":"label",options:M},{value:m(_=>[ve(t(h.$t(_.value.label)),1)]),option:m(_=>[e("div",sc,t(h.$t(_.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ac,[e("div",lc,t(h.$t("constants.berserkMastery")),1),s(fe,{modelValue:oe.value,"onUpdate:modelValue":w[9]||(w[9]=_=>oe.value=_),class:"condensed-dropdown","option-label":"label",options:M},{value:m(_=>[ve(t(h.$t(_.value.label)),1)]),option:m(_=>[e("div",ic,t(h.$t(_.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",nc,[e("div",oc,[e("div",cc,[s(ge,{class:"filter-button item-filter-action mr-2",label:h.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:K},null,8,["label"]),s(de,{placement:"top"},{content:m(()=>[e("div",uc,t(h.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:m(()=>[rc]),_:1}),e("div",dc,t(h.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(ge,{class:"filter-button item-filter-action",label:h.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:ce},null,8,["label"])]),e("div",pc,[(o(!0),r(X,null,ne(z.value,_=>(o(),re(de,{key:_.id,duration:"0"},{content:m(()=>[e("div",hc,t(h.$t(_.name)),1)]),default:m(()=>[s(Ie,{modelValue:_.checked,"onUpdate:modelValue":me=>_.checked=me,binary:!0,class:"rarity-checkbox",onChange:me=>i(me,_.id)},{icon:m(me=>[e("div",mc,[s(we,{class:ie({disabled:!me.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",vc,[e("div",_c,[s(de,{placement:"top",duration:"0"},{content:m(()=>[e("div",gc,t(h.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:m(()=>[fc]),_:1}),ve(" "+t(h.$t("constants.elementalMasteries")),1)]),s(be,{modelValue:Q.value,"onUpdate:modelValue":w[10]||(w[10]=_=>Q.value=_),label:h.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(be,{modelValue:ue.value,"onUpdate:modelValue":w[11]||(w[11]=_=>ue.value=_),label:h.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(be,{modelValue:L.value,"onUpdate:modelValue":w[12]||(w[12]=_=>L.value=_),label:h.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(be,{modelValue:F.value,"onUpdate:modelValue":w[13]||(w[13]=_=>F.value=_),label:h.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),H.value!==null?(o(),r("div",bc,t(H.value),1)):ae("",!0)]),e("div",$c,[s(ge,{class:"py-2 px-3 mr-2",disabled:!k.value,label:(Ae=R.value)!=null&&Ae.length?"Re-Generate Item Set":"Generate Item Set",onClick:Ee},null,8,["disabled","label"]),s(ge,{class:"py-2 px-3 mr-2",disabled:!((c=R.value)!=null&&c.length),label:"Equip All Items",onClick:w[14]||(w[14]=_=>u(_))},null,8,["disabled"]),yc,e("div",{innerHTML:h.$t("characterSheet.itemSolverContent.poweredBy",{credit:d()})},null,8,kc)]),e("div",Sc,[s(be,{modelValue:b.value,"onUpdate:modelValue":w[15]||(w[15]=_=>b.value=_),label:h.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),s(be,{modelValue:A.value,"onUpdate:modelValue":w[16]||(w[16]=_=>A.value=_),label:h.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:I.value,"onUpdate:modelValue":w[17]||(w[17]=_=>I.value=_),label:h.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),a(O)?(o(),r("div",Dc,[e("div",Mc,t(h.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Rc,t(h.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",Lc,[e("div",Uc,[s(Ce,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(Ce,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(o(),r("div",xc,[a(g)?(o(),r("div",wc,[a(g).debug?(o(),r("div",Cc,t(h.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(o(),r("div",Ac,t(h.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Vc,[e("div",null,"Error Code: "+t(a(g).message),1),a(g).debug?(o(),r("div",Wc,[e("div",qc,"Debug Code: "+t(a(g).debug),1)])):ae("",!0)])])):(T=R.value)!=null&&T.length?(o(),r("div",Ec,[e("div",Ic,[(o(!0),r(X,null,ne(R.value,_=>(o(),r("div",{key:_.id,class:"item-card-wrapper"},[s(it,{item:_,"with-slot-label":"","with-comparisons":I.value,"with-totals":A.value},null,8,["item","with-comparisons","with-totals"])]))),128))])])):(o(),r("div",Pc,[e("div",null,t(h.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Tc,t(h.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},Fc=$e(Nc,[["__scopeId","data-v-385dc262"]]);const xe=v=>(ye("data-v-5b428d31"),v=v(),ke(),v),Oc={class:"flex h-full"},jc={class:"flex flex-column"},Hc={class:"mb-2"},Bc={class:"flex"},zc={class:"mr-2"},Gc=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Yc={class:"simple-tooltip flex flex-column"},Jc={class:"mb-1"},Qc={class:"mb-1"},Xc={class:"mb-1"},Zc={class:"mb-1"},Kc={class:"mb-1"},er={class:"mb-1"},tr={key:0,class:"item-runes-section flex align-items-center mb-2"},sr=["onClick"],ar=["onClick","onDrop","onContextmenu","onDragstart"],lr={class:"rune-image"},ir={class:"rune-level"},nr={class:"simple-tooltip"},or=["onDrop"],cr={class:"rune-image"},rr=["onDrop","onClick"],ur={key:0,class:"sublimation-entry flex align-items-center px-2"},dr={class:"ml-1"},pr=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),mr={key:0,class:"item-card-tooltip"},hr={class:"effect-header flex pt-2 px-1"},vr={class:"flex flex-column ml-1"},_r={class:"item-name mr-2"},fr={class:"rune-requirements flex justify-content-left gap-1 py-1"},gr=["onDrop","onClick"],br={class:"px-2",style:{opacity:"0.5"}},$r={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},yr={class:"slot-image"},kr=["onDrop"],Sr={class:"info-text"},xr={class:"flex mb-2"},wr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Cr={class:"ml-1"},Ar={key:1,class:"flex align-items-center px-2 py-2"},Vr={class:"ml-1"},Wr=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),qr={key:0,class:"item-card-tooltip"},Er={class:"effect-header flex pt-2 px-1"},Ir={class:"flex flex-column ml-1"},Pr={class:"item-name mr-2"},Tr={class:"flex justify-content-left py-1 text-xs"},Dr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Mr={class:"ml-1"},Rr={key:1,class:"flex align-items-center px-2 py-2"},Lr={class:"ml-1"},Ur=xe(()=>e("i",{class:"pi pi-trash"},null,-1)),Nr={key:0,class:"item-card-tooltip"},Fr={class:"effect-header flex pt-2 px-1"},Or={class:"flex flex-column ml-1"},jr={class:"item-name mr-2"},Hr={class:"flex justify-content-left py-1 text-xs"},Br={class:"stats-summary"},zr={class:"text-lg my-1 pl-2"},Gr={class:"stats-summary-list flex flex-column"},Yr={key:0,class:"summary-entry px-2 py-1"},Jr={class:"ml-2"},Qr={class:"flex px-2 py-1"},Xr={class:"flex ml-2"},Zr={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},Kr=xe(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),eu={class:"flex flex-column mr-3"},tu={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},su={class:"flex align-items-center justify-content-center"},au=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),lu={class:"simple-tooltip"},iu={class:"mx-2"},nu={class:"rune-options flex flex-column mt-2"},ou=["onDragstart","onClick"],cu={class:"ml-2"},ru=xe(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),uu={class:"ml-3 mt-2"},du={key:0,class:"flex flex-column",style:{"min-width":"300px"}},pu={class:"flex mt-2"},mu={class:"mx-2"},hu=xe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),vu={class:"simple-tooltip"},_u=["onDragstart"],fu={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},gu={class:"effect-header flex pt-2 px-1"},bu={class:"flex flex-column ml-1"},$u={class:"item-name"},yu={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},ku={class:"flex mt-2"},Su={class:"mx-2"},xu={class:"mx-2"},wu=["onClick","onDragstart"],Cu={class:"ml-1"},Au={class:"effect-header flex pt-2 px-1"},Vu={class:"flex flex-column ml-1"},Wu={class:"item-name"},qu={class:"flex justify-content-left py-1 text-xs"},Eu={key:0,class:"flex flex-column px-4 py-2"},Iu={class:"mb-2"},Pu={class:"ml-2"},Tu={__name:"RunesSubsTabContent",setup(v,{expose:p}){const{t:N}=Ge();let n=document;const l=_e("currentCharacter"),{getRuneValue:q}=Ke(),{getRunes:U,getSublimations:D,canSublimationFit:O}=je(),g=pe(()=>U().sort((u,i)=>u.shardsParameters.color-i.shardsParameters.color)),B=pe(()=>D().filter(u=>{var i;return u.sublimationParameters.slotColorPattern.length>0&&N(`items.${u.id}`).toLowerCase().includes((i=A.value)==null?void 0:i.toLowerCase())}).sort((u,i)=>N(`items.${u.id}`).localeCompare(N(`items.${i.id}`))).sort((u,i)=>{if(ee.value&&R.value){let d=O(l.value.equipment[ee.value],u)?1:0;return(O(l.value.equipment[ee.value],i)?1:0)-d}else return 0})),b=pe(()=>D().filter(u=>{var i;return Ee(u)&&N(`items.${u.id}`).toLowerCase().includes((i=I.value)==null?void 0:i.toLowerCase())&&(u.sublimationParameters.isEpic?P.value:!0)&&(u.sublimationParameters.isRelic?$.value:!0)})),A=y(""),I=y(""),R=y(!0),P=y(!0),$=y(!0),G=y(1),ee=y(null),Q=y(null),ue=y(null),L=y([{label:N("constants.level"),levelSlider:!0},{label:N("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{Q.value&&(l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color===0?l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color=l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].rune.shardsParameters.color:l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color=0)}},{label:N("constants.remove"),command:()=>{l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey]=null}}]),F=y(!1),S=()=>{F.value=!1,Te(()=>{F.value=!0})},M=pe(()=>{let u={};return Object.keys(l.value.equipment).forEach(i=>{if(l.value.equipment[i]!==null){let d=l.value.equipment[i];for(let h=1;h<=4;h++){let w=d[`runeSlot${h}`];w&&(u[w.rune.id]||(u[w.rune.id]={totalValue:0,rune:w}),u[w.rune.id].totalValue+=q(w.rune,w.level,i))}d.subSlot&&(u[d.subSlot.equipEffects[0].values[0]]||(u[d.subSlot.equipEffects[0].values[0]]={totalValue:0,sublimation:d.subSlot}),u[d.subSlot.equipEffects[0].values[0]].totalValue+=d.subSlot.equipEffects[0].values[2])}}),l.value.epicSubSlot&&(u[l.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:l.value.epicSubSlot}),l.value.relicSubSlot&&(u[l.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:l.value.relicSubSlot}),u}),x=(u,i)=>{u.stopPropagation(),ee.value===i?ee.value=null:ee.value=i},E=(u,i,d)=>{u.shiftKey&&(l.value.equipment[i][d].color===0?l.value.equipment[i][d].color=l.value.equipment[i][d].rune.shardsParameters.color:l.value.equipment[i][d].color=0),u.ctrlKey&&(ue.value.hide(),l.value.equipment[i][d]=null)},Z=(u,i,d)=>{l.value.equipment[i][d]&&(Q.value={itemSlotKey:i,runeSlotKey:d},ue.value.show(u))},te=(u,i)=>{if(ee.value&&l.value.equipment[ee.value]!==null){let d=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let h in d)if(l.value.equipment[ee.value][d[h]]===null||l.value.equipment[ee.value][d[h]]===void 0){l.value.equipment[ee.value][d[h]]={rune:i,color:i.shardsParameters.color,level:G.value};break}}},oe=(u,i,d,h)=>{u.dataTransfer.dropEffect="move",u.dataTransfer.effectAllowed="move",u.dataTransfer.setData("type",i),i==="rune"&&(u.dataTransfer.setData("rune",JSON.stringify(d)),h&&u.dataTransfer.setData("level",h)),i==="sublimation"&&u.dataTransfer.setData("sublimation",JSON.stringify(d))},j=(u,i,d)=>{try{let h=u.dataTransfer.getData("type");if(h==="rune"&&d.includes("rune")){let w=JSON.parse(u.dataTransfer.getData("rune")),de=u.dataTransfer.getData("level");l.value.equipment[i][d]={rune:w,color:w.shardsParameters.color,level:de||G.value}}if(h==="sublimation"){let w=JSON.parse(u.dataTransfer.getData("sublimation"));Ee(w)?w.sublimationParameters.isEpic&&d==="epicSubSlot"?l.value.epicSubSlot=w:w.sublimationParameters.isRelic&&d==="relicSubSlot"&&(l.value.relicSubSlot=w):l.value.equipment[i].subSlot=w}}catch(h){console.error(h)}},z=()=>{let u=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(l.value.equipment).forEach(i=>{l.value.equipment[i]&&(u.forEach(d=>{l.value.equipment[i][d]=void 0}),l.value.equipment[i].subSlot=null)})},C=(u,i,d)=>{l.value[d]=i},K=u=>{u==="epicSubSlot"?l.value.epicSubSlot=null:u==="relicSubSlot"?l.value.relicSubSlot=null:l.value.equipment[u].subSlot=null},ce=u=>{if(u)switch(u){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},k=u=>{if(u)switch(u){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},f=u=>Object.keys(se).find(i=>se[i].rawId===u),H=pe(()=>{let u=1;return pt.some((i,d)=>i<=l.value.level?(u=d+1,!1):!0),u}),Ee=u=>u.sublimationParameters.isRelic||u.sublimationParameters.isEpic;return qe(()=>l.value.level,()=>{G.value=H.value},{immediate:!0}),p({showLists:S}),(u,i)=>{const d=W("tippy"),h=W("p-image"),w=W("p-inputNumber"),de=W("p-button"),fe=W("p-inputText"),ge=W("p-checkbox"),we=W("p-virtualScroller"),Ie=W("p-slider"),Ce=W("p-contextMenu"),Ae=mt("ripple");return o(),r("div",Oc,[e("div",jc,[e("div",Hc,[s(d,{placement:"left",duration:"0"},{content:m(()=>[e("div",Yc,[e("div",Jc,t(u.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",Qc,t(u.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",Xc,t(u.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",Zc,t(u.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",Kc,t(u.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",er,t(u.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:m(()=>[e("div",Bc,[e("div",zc,t(u.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),Gc])]),_:1})]),(o(!0),r(X,null,ne(Object.keys(a(l).equipment),c=>(o(),r(X,{key:c},[c!=="ACCESSORY"&&c!=="PET"&&c!=="MOUNT"&&c!=="SECOND_WEAPON"?(o(),r(X,{key:0},[c!=="undefined"&&a(l).equipment[c]?(o(),r("div",tr,[e("div",{class:ie(["slot-image",{highlighted:ee.value===c}]),onClick:T=>x(T,c)},[s(h,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${c}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,sr),(o(),r(X,null,ne(4,T=>(o(),r(X,{key:T},[a(l).equipment[c][`runeSlot${T}`]?(o(),re(d,{key:0,duration:"0"},{content:m(()=>[e("div",nr," +"+t(a(q)(a(l).equipment[c][`runeSlot${T}`].rune,a(l).equipment[c][`runeSlot${T}`].level,c))+" "+t(u.$t(`items.${a(l).equipment[c][`runeSlot${T}`].rune.id}`)),1)]),default:m(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:_=>E(_,c,`runeSlot${T}`),onDragover:i[0]||(i[0]=he(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=he(()=>{},["prevent"])),onDrop:_=>j(_,c,`runeSlot${T}`),onContextmenu:_=>Z(_,c,`runeSlot${T}`),onDragstart:_=>oe(_,"rune",a(l).equipment[c][`runeSlot${T}`].rune,a(l).equipment[c][`runeSlot${T}`].level)},[e("div",lr,[s(h,{src:k(a(l).equipment[c][`runeSlot${T}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",ir,t(a(l).equipment[c][`runeSlot${T}`].level),1)],40,ar)]),_:2},1024)):(o(),r("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=he(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=he(()=>{},["prevent"])),onDrop:_=>j(_,c,`runeSlot${T}`)},[e("div",cr,[s(h,{src:ce(null),"image-style":"width: 26px"},null,8,["src"])])],40,or))],64))),64)),a(l).equipment[c].subSlot?(o(),re(De,{key:0,"append-to":()=>a(n).body,offset:[0,-2],style:{height:"100%"}},{trigger:m(()=>[e("div",{class:ie(["sublimation-drop-zone ml-2",{invalid:!a(O)(a(l).equipment[c],a(l).equipment[c].subSlot)}]),onDragover:i[4]||(i[4]=he(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=he(()=>{},["prevent"])),onDrop:T=>j(T,c,"subSlot"),onClick:T=>K(c)},[a(l).equipment[c].subSlot?(o(),r("div",ur,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).equipment[c].subSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",dr,t(u.$t(`items.${a(l).equipment[c].subSlot.id}`)),1)])):ae("",!0),pr],42,rr)]),content:m(()=>[a(l).equipment[c].subSlot?(o(),r("div",mr,[e("div",hr,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).equipment[c].subSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",vr,[e("div",_r,t(u.$t(`items.${a(l).equipment[c].subSlot.id}`)),1),e("div",fr,[(o(!0),r(X,null,ne(a(l).equipment[c].subSlot.sublimationParameters.slotColorPattern,(T,_)=>(o(),r("div",{key:_,class:"flex align-items-center"},[s(h,{src:k(T),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),s(We,{item:a(l).equipment[c].subSlot},null,8,["item"])])):ae("",!0)]),_:2},1032,["append-to"])):(o(),r("div",{key:1,class:ie(["sublimation-drop-zone ml-2",{invalid:!a(O)(a(l).equipment[c],a(l).equipment[c].subSlot)}]),onDragover:i[6]||(i[6]=he(()=>{},["prevent"])),onDragenter:i[7]||(i[7]=he(()=>{},["prevent"])),onDrop:T=>j(T,c,"subSlot"),onClick:T=>K(c)},[e("div",br,[s(h,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,gr))])):c!=="undefined"?(o(),r("div",$r,[e("div",yr,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${c}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(o(),r(X,null,ne(4,T=>e("div",{key:T,class:"rune-drop-zone ml-2",onDragover:i[8]||(i[8]=he(()=>{},["prevent"])),onDragenter:i[9]||(i[9]=he(()=>{},["prevent"])),onDrop:_=>j(_,c,`runeSlot${T}`)},null,40,kr)),64)),e("div",Sr,t(u.$t("characterSheet.runesAndSubsContent.itemMustBeEquipped")),1)])):ae("",!0)],64)):ae("",!0)],64))),128)),e("div",xr,[s(d,{duration:"0",class:"flex h-full"},{content:m(()=>[a(l).epicSubSlot?(o(),r("div",qr,[e("div",Er,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Ir,[e("div",Pr,t(u.$t(`items.${a(l).epicSubSlot.id}`)),1),e("div",Tr,t(a(l).epicSubSlot.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(a(l).epicSubSlot.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:a(l).epicSubSlot},null,8,["item"])])):ae("",!0)]),default:m(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:i[10]||(i[10]=he(()=>{},["prevent"])),onDragenter:i[11]||(i[11]=he(()=>{},["prevent"])),onDrop:i[12]||(i[12]=c=>j(c,null,"epicSubSlot")),onClick:i[13]||(i[13]=c=>K("epicSubSlot"))},[a(l).epicSubSlot?(o(),r("div",wr,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Cr,t(u.$t(`items.${a(l).epicSubSlot.id}`)),1)])):(o(),r("div",Ar,[s(h,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Vr,t(u.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),Wr],32)]),_:1}),s(d,{duration:"0",class:"flex h-full"},{content:m(()=>[a(l).relicSubSlot?(o(),r("div",Nr,[e("div",Fr,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Or,[e("div",jr,t(u.$t(`items.${a(l).relicSubSlot.id}`)),1),e("div",Hr,t(a(l).relicSubSlot.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(a(l).relicSubSlot.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:a(l).relicSubSlot},null,8,["item"])])):ae("",!0)]),default:m(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:i[14]||(i[14]=he(()=>{},["prevent"])),onDragenter:i[15]||(i[15]=he(()=>{},["prevent"])),onDrop:i[16]||(i[16]=c=>j(c,null,"relicSubSlot")),onClick:i[17]||(i[17]=c=>K("relicSubSlot"))},[a(l).relicSubSlot?(o(),r("div",Dr,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Mr,t(u.$t(`items.${a(l).relicSubSlot.id}`)),1)])):(o(),r("div",Rr,[s(h,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Lr,t(u.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),Ur],32)]),_:1})]),e("div",Br,[e("div",zr,t(u.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",Gr,[(o(!0),r(X,null,ne(Object.keys(M.value),c=>(o(),r(X,{key:c},[M.value[c].rune?(o(),r("div",Yr,[s(h,{src:k(M.value[c].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",Jr,"+"+t(M.value[c].totalValue)+" "+t(u.$t(`items.${M.value[c].rune.rune.id}`)),1)])):M.value[c].sublimation?(o(),r("div",{key:1,class:ie(["summary-entry flex-column align-items-start",{warning:M.value[c].totalValue>a(Be)[M.value[c].sublimation.equipEffects[0].values[0]]}])},[e("div",Qr,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${M.value[c].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",Xr,[e("span",null,t(u.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:M.value[c].totalValue})),1),s(De,{"append-to":()=>a(n).body,offset:[0,-2],"state-id":`${M.value[c].sublimation.equipEffects[0].values[0]}`,"current-level":M.value[c].totalValue},null,8,["append-to","state-id","current-level"])])]),M.value[c].totalValue>a(Be)[M.value[c].sublimation.equipEffects[0].values[0]]?(o(),r("div",Zr,[Kr,e("span",null,t(u.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:a(Be)[M.value[c].sublimation.equipEffects[0].values[0]]})),1)])):ae("",!0)],2)):ae("",!0)],64))),128))])])]),e("div",eu,[e("div",tu,[e("div",su,[s(d,{placement:"left",duration:"0"},{content:m(()=>[e("div",lu,t(u.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:m(()=>[au]),_:1}),e("span",iu,t(u.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(w,{modelValue:G.value,"onUpdate:modelValue":i[18]||(i[18]=c=>G.value=c),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:H.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",nu,[(o(!0),r(X,null,ne(g.value,c=>(o(),r("div",{key:c.id,class:ie(["rune-draggable mb-1 px-2",{highlighted:ee.value&&c.shardsParameters.doubleBonusPosition.includes(a(se)[ee.value].rawId)}]),draggable:"true",onDragstart:T=>oe(T,"rune",c),onClick:T=>te(T,c)},[s(h,{class:"rune-image",src:ce(c.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",cu,"+"+t(a(q)(c,G.value))+" "+t(u.$t(`items.${c.id}`)),1),ru,(o(!0),r(X,null,ne(c.shardsParameters.doubleBonusPosition,T=>(o(),r("div",{key:T,class:"ml-1"},[s(h,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${f(T)}.png`,class:ie({disabled:!a(l).equipment[f(T)]}),onClick:_=>x(_,f(T))},null,8,["src","class","onClick"])]))),128))],42,ou))),128))])]),e("div",uu,[s(de,{label:u.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:z},null,8,["label"])])]),F.value?(o(),r("div",du,[s(fe,{modelValue:A.value,"onUpdate:modelValue":i[19]||(i[19]=c=>A.value=c),class:"py-2 px-2",placeholder:u.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",pu,[s(ge,{modelValue:R.value,"onUpdate:modelValue":i[20]||(i[20]=c=>R.value=c),binary:!0},null,8,["modelValue"]),e("div",mu,t(u.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),s(d,{placement:"top"},{content:m(()=>[e("div",vu,t(u.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:m(()=>[hu]),_:1})]),B.value?(o(),re(we,{key:0,items:B.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:m(({item:c})=>[s(De,{"append-to":()=>a(n).body,offset:[0,-2]},{trigger:m(()=>{var T,_;return[e("div",{class:ie(["sublimation-option py-1 px-2 mb-1",{highlighted:a(O)(a(l).equipment[ee.value],c)}]),draggable:"true",onDragstart:me=>oe(me,"sublimation",c)},[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(_=(T=c.sublimationParameters)==null?void 0:T.slotColorPattern)!=null&&_.length?(o(),r("div",fu,[(o(!0),r(X,null,ne(c.sublimationParameters.slotColorPattern,(me,Pe)=>(o(),r("div",{key:Pe,class:"flex align-items-center"},[s(h,{src:k(me),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):ae("",!0),e("div",null,t(u.$t(`items.${c.id}`)),1)],42,_u)]}),content:m(()=>{var T,_;return[e("div",gu,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",bu,[e("div",$u,t(u.$t(`items.${c.id}`)),1),(_=(T=c.sublimationParameters)==null?void 0:T.slotColorPattern)!=null&&_.length?(o(),r("div",yu,[(o(!0),r(X,null,ne(c.sublimationParameters.slotColorPattern,(me,Pe)=>(o(),r("div",{key:Pe,class:"flex align-items-center"},[s(h,{src:k(me),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):ae("",!0)])]),s(We,{item:c},null,8,["item"])]}),_:2},1032,["append-to"])]),_:1},8,["items"])):ae("",!0),s(fe,{modelValue:I.value,"onUpdate:modelValue":i[21]||(i[21]=c=>I.value=c),class:"py-2 px-2",placeholder:u.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",ku,[s(ge,{modelValue:P.value,"onUpdate:modelValue":i[22]||(i[22]=c=>P.value=c),binary:!0},null,8,["modelValue"]),e("div",Su,t(u.$t("constants.epic")),1),s(ge,{modelValue:$.value,"onUpdate:modelValue":i[23]||(i[23]=c=>$.value=c),binary:!0},null,8,["modelValue"]),e("div",xu,t(u.$t("constants.relic")),1)]),b.value?(o(),re(we,{key:1,items:b.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:m(({item:c})=>[s(De,{"append-to":()=>a(n).body,offset:[0,-2]},{trigger:m(()=>{var T,_;return[e("div",{class:ie(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((T=a(l).epicSubSlot)==null?void 0:T.id)===c.id,"relic-highlighted":((_=a(l).relicSubSlot)==null?void 0:_.id)===c.id}]),draggable:"true",onClick:me=>C(me,c,c.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:me=>oe(me,"sublimation",c)},[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",Cu,t(u.$t(`items.${c.id}`))+" "+t(c.sublimationParameters.isEpic?`(${u.$t("constants.epic")})`:"")+" "+t(c.sublimationParameters.isRelic?`(${u.$t("constants.relic")})`:""),1)],42,wu)]}),content:m(()=>[e("div",Au,[s(h,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Vu,[e("div",Wu,t(u.$t(`items.${c.id}`)),1),e("div",qu,t(c.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(c.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:c},null,8,["item"])]),_:2},1032,["append-to"])]),_:1},8,["items"])):ae("",!0)])):ae("",!0),s(Ce,{ref_key:"runeContextMenu",ref:ue,model:L.value},{item:m(({item:c,props:T})=>[c.levelSlider?(o(),r("div",Eu,[e("div",Iu,t(u.$t("constants.level"))+": "+t(a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level),1),s(Ie,{modelValue:a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level,"onUpdate:modelValue":i[24]||(i[24]=_=>a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level=_),min:1,max:11},null,8,["modelValue"])])):ht((o(),r("a",Oe({key:1,class:"flex align-items-center"},T.action),[e("span",Pu,t(c.label),1)],16)),[[Ae]])]),_:1},8,["model"])])}}},Du=$e(Tu,[["__scopeId","data-v-5b428d31"]]);const Le=v=>(ye("data-v-ddc9c0c5"),v=v(),ke(),v),Mu={class:"top-bar py-3 px-3"},Ru={key:0,class:"flex align-items-center pl-2"},Lu={class:"py-2"},Uu={key:1,class:"flex align-items-center"},Nu={class:"py-2"},Fu={class:"flex align-items-center"},Ou={class:"capitalize"},ju={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},Hu={class:"mr-2"},Bu={class:"flex-grow-1"},zu=Le(()=>e("div",{class:"flex-grow-1"},null,-1)),Gu={class:"build-code flex align-items-center ml-2 mr-3"},Yu=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ju={class:"simple-tooltip"},Qu={class:"ml-2"},Xu={class:"code-disclaimer"},Zu=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ku={class:"simple-tooltip"},ed={class:"ml-1"},td={class:"flex flex-grow-1",style:{overflow:"auto"}},sd={class:"stats-area"},ad={class:"flex flex-column flex-grow-1"},ld={class:"tab-header"},id=Le(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-1",style:{"font-size":"20px"}},null,-1)),nd=Le(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-1",style:{"font-size":"20px"}},null,-1)),od={class:"tab-header"},cd={class:"tab-header"},rd={class:"tab-header"},ud={class:"tab-header"},dd={key:1,class:"px-5 mt-5"},pd={__name:"CharacterSheet",setup(v){var ee,Q,ue;const p=vt(),N=_e("currentCharacter"),n=y(null),l=y(null),q=y(null),U=y((ee=N.value)==null?void 0:ee.name),D=y((Q=N.value)==null?void 0:Q.level),O=y(Ne[(ue=N.value)==null?void 0:ue.class]),g=Object.entries(Ne).map(([L,F])=>F),{createBuildCode:B}=tt(),b=pe(()=>B(N.value));qe(N,()=>{A()});const A=()=>{var L,F,S;U.value=(L=N.value)==null?void 0:L.name,D.value=(F=N.value)==null?void 0:F.level,O.value=Ne[(S=N.value)==null?void 0:S.class]},I=(L,F)=>{F==="name"?N.value.name=L.target.value:F==="levelText"?N.value.level=L.value:F==="levelSlider"?N.value.level=L:F==="class"&&(N.value.class=L.value.id),A()},R=()=>{Te(()=>{n.value.showList(),q.value.showLists()})},P=pe(()=>{var L;return(L=l.value)==null?void 0:L.hasCharacteristicsError}),$=pe(()=>{var L;return(L=l.value)==null?void 0:L.hasCharacteristicsPointsToSpend}),G=()=>{navigator.clipboard.writeText(b.value),p.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(L,F)=>{const S=W("p-inputText"),M=W("p-image"),x=W("p-dropdown"),E=W("p-inputNumber"),Z=W("p-slider"),te=W("tippy"),oe=W("p-button"),j=W("p-tabPanel"),z=W("p-tabView");return a(N)?(o(),r("div",{key:a(N).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",Mu,[s(S,{modelValue:U.value,"onUpdate:modelValue":F[0]||(F[0]=C=>U.value=C),class:"mr-2 py-2 px-2",onInput:F[1]||(F[1]=C=>I(C,"name"))},null,8,["modelValue"]),s(x,{modelValue:O.value,"onUpdate:modelValue":F[2]||(F[2]=C=>O.value=C),options:a(g),placeholder:L.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:F[3]||(F[3]=C=>I(C,"class"))},{value:m(C=>[C.value?(o(),r("div",Ru,[s(M,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${C.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",Lu,t(L.$t(C.value.name)),1)])):(o(),r("span",Uu,[s(M,{class:"class-image mx-2",src:a(_t),"image-style":"width: 28px"},null,8,["src"]),e("div",Nu,t(C.placeholder),1)]))]),option:m(C=>[e("div",Fu,[e("div",Ou,t(L.$t(C.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",ju,[e("span",Hu,t(L.$t("characterSheet.level")),1),s(E,{modelValue:D.value,"onUpdate:modelValue":F[4]||(F[4]=C=>D.value=C),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:F[5]||(F[5]=C=>I(C,"levelText"))},null,8,["modelValue"]),e("div",Bu,[s(Z,{modelValue:D.value,"onUpdate:modelValue":F[6]||(F[6]=C=>D.value=C),min:1,max:230,onChange:F[7]||(F[7]=C=>I(C,"levelSlider"))},null,8,["modelValue"])])]),zu,e("div",Gu,[s(te,{placement:"left",duration:"0"},{content:m(()=>[e("div",Ju,t(L.$t("characterSheet.buildCopyPaste")),1)]),default:m(()=>[Yu]),_:1}),e("div",Qu,t(L.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:G},[e("span",null,t(b.value),1)]),s(oe,{class:"py-1 ml-2 px-2",label:L.$t("characterSheet.copy"),onClick:G},null,8,["label"]),e("div",Xu,[s(te,{placement:"bottom",duration:"0"},{content:m(()=>[e("div",Ku,t(L.$t("characterSheet.codeInfo")),1)]),default:m(()=>[Zu]),_:1}),e("div",ed,t(L.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",td,[e("div",sd,[s(fl)]),e("div",ad,[s(z,{class:"main-tab-view",onTabChange:R},{default:m(()=>[s(j,null,{header:m(()=>[e("div",ld,[e("span",null,t(L.$t("sidebar.guidesTab")),1)])]),default:m(()=>[s(Vl)]),_:1}),s(j,null,{header:m(()=>[e("div",{class:ie(["tab-header characteristics-tab-header",{error:P.value,"points-to-spend":$.value&&!P.value}])},[e("span",null,t(L.$t("characterSheet.characteristics")),1),id,nd],2)]),default:m(()=>[s(ei,{ref_key:"characteristicsTabContent",ref:l},null,512)]),_:1}),s(j,null,{header:m(()=>[e("div",od,[e("span",null,t(L.$t("characterSheet.equipment")),1)])]),default:m(()=>[s(Ln,{ref_key:"equipmentTabContent",ref:n},null,512)]),_:1}),s(j,null,{header:m(()=>[e("div",cd,[e("span",null,t(L.$t("characterSheet.autoItemSolver")),1)])]),default:m(()=>[s(Fc)]),_:1}),s(j,null,{header:m(()=>[e("div",rd,[e("span",null,t(L.$t("characterSheet.runesAndSubs")),1)])]),default:m(()=>[s(Du,{ref_key:"runesAndSubsTabContent",ref:q},null,512)]),_:1}),s(j,null,{header:m(()=>[e("div",ud,[e("span",null,t(L.$t("characterSheet.spellsAndPassives")),1)])]),default:m(()=>[s(Ao)]),_:1})]),_:1})])])])):(o(),r("div",dd," No Character data found for the given ID. "))}}},vd=$e(pd,[["__scopeId","data-v-ddc9c0c5"]]);export{vd as default};
