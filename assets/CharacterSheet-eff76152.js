import{_ as oe,i as ie,g as q,q as l,o,h as p,j as e,k as s,t,y as He,l as le,z as Be,s as ce,x as re,A as Se,r as $,f as ne,B as Xe,D as fe,E as ze,G as ee,H as O,F as z,m as te,n as ae,w as k,I as me,a as Ve,b as We,J as xe,K as _e,L as Ze,M as Ke,N as ge,O as j,P as et,S as we,Q as tt,R as st,T as at,U as lt,p as pe,V as it,u as nt,d as ot}from"./index-746b3214.js";import{E as Ge,u as Ye}from"./EquipmentButtons-74f34cda.js";import{I as Ae}from"./ItemStatList-cc4af42a.js";const H=m=>(ce("data-v-263da7ec"),m=m(),re(),m),ct={key:0},rt={class:"flex justify-content-between w-full px-2"},ut={class:"main-stat-box"},dt={class:"flex align-items-center my-1"},pt={class:"ml-1"},mt={class:"stat-value py-1"},ht={class:"main-stat-box"},vt={class:"flex align-items-center my-1"},_t={class:"ml-1"},gt={class:"stat-value py-1"},ft={class:"main-stat-box"},bt={class:"flex align-items-center my-1"},yt={class:"ml-1"},kt={class:"stat-value py-1"},$t={class:"main-stat-box"},St={class:"flex align-items-center my-1"},xt={class:"ml-1"},Ct={class:"stat-value py-1"},wt={key:0,class:"main-stat-box"},At={class:"flex align-items-center my-1"},Vt={class:"ml-1"},Wt={class:"stat-value py-1"},It={key:1,class:"main-stat-box"},qt={class:"flex align-items-center my-1"},Et={class:"ml-1"},Tt={class:"stat-value py-1"},Dt={class:"main-stat-area flex flex-column mt-2 pb-2"},Rt={class:"section-header py-1 mb-1"},Pt={class:"flex pl-1"},Mt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ot={class:"stat-block pr-2"},Ft={class:"ml-1"},Ut=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Nt={class:"stat-block pr-2"},Lt={class:"ml-1"},jt=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ht={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Bt={class:"stat-block pr-2"},zt={class:"ml-1"},Gt=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Yt={class:"stat-block pr-2"},Jt={class:"ml-1"},Qt=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Xt={class:"section-header py-1 mb-1"},Zt={class:"flex pl-1"},Kt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},es={class:"stat-block pr-2"},ts={class:"ml-1"},ss=H(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"stat-block pr-2"},ls={class:"ml-1"},is=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ns={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},os={class:"stat-block pr-2"},cs={class:"ml-1"},rs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),us={class:"stat-block pr-2"},ds={class:"ml-1"},ps=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ms={class:"lex flex-column"},hs={class:"section-header py-1 mb-1"},vs={class:"flex pl-1"},_s={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},gs={class:"stat-block pr-2"},fs={class:"ml-1"},bs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ys={class:"stat-block pr-2"},ks={class:"ml-1"},$s=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ss={class:"stat-block pr-2"},xs={class:"ml-1"},Cs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ws={class:"stat-block pr-2"},As={class:"ml-1"},Vs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ws={class:"stat-block pr-2"},Is={class:"ml-1"},qs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Es={class:"stat-block pr-2"},Ts={class:"ml-1"},Ds=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Rs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ps={class:"stat-block pr-2"},Ms={class:"ml-1"},Os=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Fs={class:"stat-block pr-2"},Us={class:"ml-1"},Ns=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ls={class:"stat-block pr-2"},js={class:"ml-1"},Hs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Bs={class:"stat-block pr-2"},zs={class:"ml-1"},Gs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ys={class:"stat-block pr-2"},Js={class:"ml-1"},Qs=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Xs={class:"stat-block pr-2"},Zs={class:"ml-1"},Ks=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ea={class:"flex flex-column"},ta={class:"section-header py-1 mb-1"},sa={class:"flex pl-1"},aa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},la={class:"stat-block pr-2"},ia={class:"ml-1"},na=H(()=>e("div",{class:"flex-grow-1"},null,-1)),oa={class:"stat-block pr-2"},ca={class:"ml-1"},ra=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ua={class:"stat-block pr-2"},da={class:"ml-1"},pa=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ma={class:"stat-block pr-2"},ha={class:"ml-1"},va=H(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={class:"stat-block pr-2"},ga={class:"ml-1"},fa=H(()=>e("div",{class:"flex-grow-1"},null,-1)),ba={class:"stat-block pr-2"},ya={class:"ml-1"},ka=H(()=>e("div",{class:"flex-grow-1"},null,-1)),$a={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Sa={class:"stat-block pr-2"},xa={class:"ml-1"},Ca=H(()=>e("div",{class:"flex-grow-1"},null,-1)),wa={class:"stat-block pr-2"},Aa={class:"ml-1"},Va=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Wa={class:"stat-block pr-2"},Ia={class:"ml-1"},qa=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ea={class:"stat-block pr-2"},Ta={class:"ml-1"},Da=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Ra={class:"stat-block pr-2"},Pa={class:"ml-1"},Ma=H(()=>e("div",{class:"flex-grow-1"},null,-1)),Oa={__name:"StatDisplay",setup(m){const r=ie("currentCharacter"),{calcElemResistancePercentage:v}=Be();return(a,f)=>{const u=q("p-image");return l(r)?(o(),p("div",ct,[e("div",rt,[e("div",ut,[e("div",dt,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",pt,t(a.$t("constants.hp")),1)]),e("div",mt,t(l(r).healthPoints),1)]),e("div",ht,[e("div",vt,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",_t,t(a.$t("characterSheet.statsDisplay.ar")),1)]),e("div",gt,t(l(r).armorPoints),1)]),e("div",ft,[e("div",bt,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",yt,t(a.$t("constants.ap")),1)]),e("div",kt,t(l(r).actionPoints),1)]),e("div",$t,[e("div",St,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",xt,t(a.$t("constants.mp")),1)]),e("div",Ct,t(l(r).movementPoints),1)]),l(r).class===l(He).huppermage?(o(),p("div",wt,[e("div",At,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Vt,t(a.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Wt,t(l(r).quadrumentalBreeze),1)])):(o(),p("div",It,[e("div",qt,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Et,t(a.$t("constants.wp")),1)]),e("div",Tt,t(l(r).wakfuPoints),1)]))]),e("div",Dt,[e("div",Rt,t(a.$t("characterSheet.statsDisplay.elementalMasteries")),1),e("div",Pt,[e("div",Mt,[e("div",Ot,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Ft,t(a.$t("characterSheet.statsDisplay.water")),1),Ut,e("span",null,t(l(r).masteries.water),1)]),e("div",Nt,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Lt,t(a.$t("characterSheet.statsDisplay.air")),1),jt,e("span",null,t(l(r).masteries.air),1)])]),e("div",Ht,[e("div",Bt,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",zt,t(a.$t("characterSheet.statsDisplay.earth")),1),Gt,e("span",null,t(l(r).masteries.earth),1)]),e("div",Yt,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",Jt,t(a.$t("characterSheet.statsDisplay.fire")),1),Qt,e("span",null,t(l(r).masteries.fire),1)])])]),e("div",Xt,t(a.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",Zt,[e("div",Kt,[e("div",es,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",ts,t(a.$t("characterSheet.statsDisplay.water")),1),ss,e("span",null,t(l(v)(l(r).resistances.water))+"% ("+t(l(r).resistances.water)+")",1)]),e("div",as,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ls,t(a.$t("characterSheet.statsDisplay.air")),1),is,e("span",null,t(l(v)(l(r).resistances.air))+"% ("+t(l(r).resistances.air)+")",1)])]),e("div",ns,[e("div",os,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",cs,t(a.$t("characterSheet.statsDisplay.earth")),1),rs,e("span",null,t(l(v)(l(r).resistances.earth))+"% ("+t(l(r).resistances.earth)+")",1)]),e("div",us,[s(u,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ds,t(a.$t("characterSheet.statsDisplay.fire")),1),ps,e("span",null,t(l(v)(l(r).resistances.fire))+"% ("+t(l(r).resistances.fire)+")",1)])])]),e("div",ms,[e("div",hs,t(a.$t("characterSheet.statsDisplay.battle")),1),e("div",vs,[e("div",_s,[e("div",gs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",fs,t(a.$t("characterSheet.statsDisplay.damageInflicted")),1),bs,e("span",null,t(l(r).stats.damageInflicted)+"%",1)]),e("div",ys,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",ks,t(a.$t("characterSheet.statsDisplay.criticalHit")),1),$s,e("span",null,t(l(r).stats.criticalHit)+"%",1)]),e("div",Ss,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",xs,t(a.$t("constants.initiative")),1),Cs,e("span",null,t(l(r).stats.initiative),1)]),e("div",ws,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",As,t(a.$t("constants.dodge")),1),Vs,e("span",null,t(l(r).stats.dodge),1)]),e("div",Ws,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Is,t(a.$t("constants.wisdom")),1),qs,e("span",null,t(l(r).stats.wisdom),1)]),e("div",Es,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Ts,t(a.$t("constants.control")),1),Ds,e("span",null,t(l(r).stats.control),1)])]),e("div",Rs,[e("div",Ps,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Ms,t(a.$t("characterSheet.statsDisplay.healsPerformed")),1),Os,e("span",null,t(l(r).stats.healsPerformed)+"%",1)]),e("div",Fs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Us,t(a.$t("characterSheet.statsDisplay.block")),1),Ns,e("span",null,t(l(r).stats.block)+"%",1)]),e("div",Ls,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",js,t(a.$t("constants.range")),1),Hs,e("span",null,t(l(r).stats.range),1)]),e("div",Bs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",zs,t(a.$t("constants.lock")),1),Gs,e("span",null,t(l(r).stats.lock),1)]),e("div",Ys,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",Js,t(a.$t("constants.prospecting")),1),Qs,e("span",null,t(l(r).stats.prospecting),1)]),e("div",Xs,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",Zs,t(a.$t("constants.forceOfWill")),1),Ks,e("span",null,t(l(r).stats.forceOfWill),1)])])])]),e("div",ea,[e("div",ta,t(a.$t("characterSheet.statsDisplay.secondary")),1),e("div",sa,[e("div",aa,[e("div",la,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",ia,t(a.$t("constants.criticalMastery")),1),na,e("span",null,t(l(r).masteries.critical),1)]),e("div",oa,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",ca,t(a.$t("constants.rearMastery")),1),ra,e("span",null,t(l(r).masteries.rear),1)]),e("div",ua,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",da,t(a.$t("constants.meleeMastery")),1),pa,e("span",null,t(l(r).masteries.melee),1)]),e("div",ma,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",ha,t(a.$t("constants.distanceMastery")),1),va,e("span",null,t(l(r).masteries.distance),1)]),e("div",_a,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",ga,t(a.$t("constants.healingMastery")),1),fa,e("span",null,t(l(r).masteries.healing),1)]),e("div",ba,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",ya,t(a.$t("constants.berserkMastery")),1),ka,e("span",null,t(l(r).masteries.berserk),1)])]),e("div",$a,[e("div",Sa,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",xa,t(a.$t("constants.criticalResistance")),1),Ca,e("span",null,t(l(r).resistances.critical),1)]),e("div",wa,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Aa,t(a.$t("constants.rearResistance")),1),Va,e("span",null,t(l(r).resistances.rear),1)]),e("div",Wa,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Ia,t(a.$t("characterSheet.statsDisplay.armorGiven")),1),qa,e("span",null,t(l(r).stats.armorGiven)+"%",1)]),e("div",Ea,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Ta,t(a.$t("characterSheet.statsDisplay.armorReceived")),1),Da,e("span",null,t(l(r).stats.armorReceived)+"%",1)]),e("div",Ra,[s(u,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Pa,t(a.$t("characterSheet.statsDisplay.indirectDamage")),1),Ma,e("span",null,t(l(r).stats.indirectDamage)+"%",1)])])])])])])):le("",!0)}}},Fa=oe(Oa,[["__scopeId","data-v-263da7ec"]]);const Ua=m=>(ce("data-v-c1799ab4"),m=m(),re(),m),Na={class:"flex align-items-center my-1"},La={class:"entry-label ml-2"},ja=Ua(()=>e("div",{class:"flex-grow-1"},null,-1)),Ha={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(m){return(r,v)=>{const a=q("p-image"),f=q("p-inputNumber");return o(),p("div",Na,[s(a,{src:m.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",La,t(m.label),1),ja,s(f,Se(r.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(m.maxOverride,m.remainingPoints+r.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:m.updateFunction}),null,16,["max","onInput"])])}}},B=oe(Ha,[["__scopeId","data-v-c1799ab4"]]);const be=m=>(ce("data-v-541c021e"),m=m(),re(),m),Ba={class:"flex flex-column h-full"},za={class:"characteristic-panels flex pb-3"},Ga={class:"flex flex-column flex-grow-1 mr-1"},Ya={class:"characteristics-category-header px-2 py-2"},Ja=be(()=>e("div",{class:"flex-grow-1"},null,-1)),Qa={class:"flex flex-column px-2 py-1"},Xa={class:"characteristics-category-header px-2 py-2"},Za=be(()=>e("div",{class:"flex-grow-1"},null,-1)),Ka={class:"flex flex-column px-2 py-1"},el={class:"characteristics-category-header px-2 py-2"},tl=be(()=>e("div",{class:"flex-grow-1"},null,-1)),sl={class:"flex flex-column px-2 py-1"},al={class:"flex flex-column flex-grow-1 ml-1"},ll={class:"characteristics-category-header px-2 py-2"},il=be(()=>e("div",{class:"flex-grow-1"},null,-1)),nl={class:"flex flex-column px-2 py-1"},ol={class:"characteristics-category-header px-2 py-2"},cl=be(()=>e("div",{class:"flex-grow-1"},null,-1)),rl={class:"flex flex-column px-2 py-1"},ul={__name:"CharacteristicsTabContent",setup(m,{expose:r}){const v=ie("masterData"),a=ie("currentCharacter"),f=$(!1),u=ne(()=>f.value?10:1);Xe(()=>{document.addEventListener("keydown",V=>{F(V)}),document.addEventListener("keyup",V=>{F(V)})});const F=V=>{V.shiftKey?f.value=!0:f.value=!1},M=$(a.value.characteristics.intelligence.percentHealthPoints),R=$(a.value.characteristics.intelligence.elementalResistance),x=$(a.value.characteristics.intelligence.barrier),E=$(a.value.characteristics.intelligence.percentHealsReceived),N=$(a.value.characteristics.intelligence.percentArmorHeathPoints),U=$(a.value.characteristics.strength.elementalMastery),T=$(a.value.characteristics.strength.meleeMastery),P=$(a.value.characteristics.strength.distanceMastery),J=$(a.value.characteristics.strength.healthPoints),K=$(a.value.characteristics.agility.lock),Z=$(a.value.characteristics.agility.dodge),X=$(a.value.characteristics.agility.initiative),d=$(a.value.characteristics.agility.lockAndDodge),S=$(a.value.characteristics.agility.forceOfWill),G=$(a.value.characteristics.fortune.percentCriticalHit),Y=$(a.value.characteristics.fortune.percentBlock),y=$(a.value.characteristics.fortune.criticalMastery),c=$(a.value.characteristics.fortune.rearMastery),g=$(a.value.characteristics.fortune.berserkMastery),W=$(a.value.characteristics.fortune.healingMastery),D=$(a.value.characteristics.fortune.rearResistance),A=$(a.value.characteristics.fortune.criticalResistance),h=$(a.value.characteristics.major.actionPoints),b=$(a.value.characteristics.major.movementPointsAndDamage),C=$(a.value.characteristics.major.rangeAndDamage),se=$(a.value.characteristics.major.wakfuPoints),i=$(a.value.characteristics.major.controlAndDamage),_=$(a.value.characteristics.major.percentDamageInflicted),Q=$(a.value.characteristics.major.elementalResistance),I=V=>{let n=0;return V==="intelligence"?n=M.value+R.value+x.value+E.value+N.value:V==="strength"?n=U.value+T.value+P.value+J.value:V==="agility"?n=K.value+Z.value+X.value+d.value+S.value:V==="fortune"?n=G.value+Y.value+y.value+c.value+g.value+W.value+D.value+A.value:V==="major"&&(n=h.value+b.value+C.value+se.value+i.value+_.value+Q.value),a.value.characteristics.limits[V]-n},L=()=>{a.value.characteristics.intelligence.percentHealthPoints=M.value,a.value.characteristics.intelligence.elementalResistance=R.value,a.value.characteristics.intelligence.barrier=x.value,a.value.characteristics.intelligence.percentHealsReceived=E.value,a.value.characteristics.intelligence.percentArmorHeathPoints=N.value,a.value.characteristics.strength.elementalMastery=U.value,a.value.characteristics.strength.meleeMastery=T.value,a.value.characteristics.strength.distanceMastery=P.value,a.value.characteristics.strength.healthPoints=J.value,a.value.characteristics.agility.lock=K.value,a.value.characteristics.agility.dodge=Z.value,a.value.characteristics.agility.initiative=X.value,a.value.characteristics.agility.lockAndDodge=d.value,a.value.characteristics.agility.forceOfWill=S.value,a.value.characteristics.fortune.percentCriticalHit=G.value,a.value.characteristics.fortune.percentBlock=Y.value,a.value.characteristics.fortune.criticalMastery=y.value,a.value.characteristics.fortune.rearMastery=c.value,a.value.characteristics.fortune.berserkMastery=g.value,a.value.characteristics.fortune.healingMastery=W.value,a.value.characteristics.fortune.rearResistance=D.value,a.value.characteristics.fortune.criticalResistance=A.value,a.value.characteristics.major.actionPoints=h.value,a.value.characteristics.major.movementPointsAndDamage=b.value,a.value.characteristics.major.rangeAndDamage=C.value,a.value.characteristics.major.wakfuPoints=se.value,a.value.characteristics.major.controlAndDamage=i.value,a.value.characteristics.major.percentDamageInflicted=_.value,a.value.characteristics.major.elementalResistance=Q.value};fe(v,ze.debounce(()=>{M.value=a.value.characteristics.intelligence.percentHealthPoints,R.value=a.value.characteristics.intelligence.elementalResistance,x.value=a.value.characteristics.intelligence.barrier,E.value=a.value.characteristics.intelligence.percentHealsReceived,N.value=a.value.characteristics.intelligence.percentArmorHeathPoints,U.value=a.value.characteristics.strength.elementalMastery,T.value=a.value.characteristics.strength.meleeMastery,P.value=a.value.characteristics.strength.distanceMastery,J.value=a.value.characteristics.strength.healthPoints,K.value=a.value.characteristics.agility.lock,Z.value=a.value.characteristics.agility.dodge,X.value=a.value.characteristics.agility.initiative,d.value=a.value.characteristics.agility.lockAndDodge,S.value=a.value.characteristics.agility.forceOfWill,G.value=a.value.characteristics.fortune.percentCriticalHit,Y.value=a.value.characteristics.fortune.percentBlock,y.value=a.value.characteristics.fortune.criticalMastery,c.value=a.value.characteristics.fortune.rearMastery,g.value=a.value.characteristics.fortune.berserkMastery,W.value=a.value.characteristics.fortune.healingMastery,D.value=a.value.characteristics.fortune.rearResistance,A.value=a.value.characteristics.fortune.criticalResistance,h.value=a.value.characteristics.major.actionPoints,b.value=a.value.characteristics.major.movementPointsAndDamage,C.value=a.value.characteristics.major.rangeAndDamage,se.value=a.value.characteristics.major.wakfuPoints,i.value=a.value.characteristics.major.controlAndDamage,_.value=a.value.characteristics.major.percentDamageInflicted,Q.value=a.value.characteristics.major.elementalResistance},100));const $e=ne(()=>I("intelligence")<0||I("strength")<0||I("agility")<0||I("fortune")<0||I("major")<0);return r({hasCharacteristicsError:$e}),(V,n)=>{var de,Ie,qe,Ee,Te,De,Re,Pe,Me,Oe,Fe,Ue,Ne,Le,je;return o(),p("div",Ba,[e("div",za,[e("div",Ga,[e("div",{class:ee(["category-wrapper flex flex-column",{error:I("intelligence")<0}])},[e("div",Ya,[e("span",null,t(V.$t("characterSheet.characteristicsContent.intelligence")),1),Ja,e("span",null,t(I("intelligence"))+"/"+t((qe=(Ie=(de=l(a))==null?void 0:de.characteristics)==null?void 0:Ie.limits)==null?void 0:qe.intelligence)+" "+t(V.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Qa,[s(B,{modelValue:M.value,"onUpdate:modelValue":n[0]||(n[0]=w=>M.value=w),label:V.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":I("intelligence"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:R.value,"onUpdate:modelValue":n[1]||(n[1]=w=>R.value=w),label:V.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":I("intelligence"),"update-function":L,"max-override":10,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:x.value,"onUpdate:modelValue":n[2]||(n[2]=w=>x.value=w),label:V.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":I("intelligence"),"update-function":L,"max-override":10,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:E.value,"onUpdate:modelValue":n[3]||(n[3]=w=>E.value=w),label:V.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":I("intelligence"),"update-function":L,"max-override":5,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:N.value,"onUpdate:modelValue":n[4]||(n[4]=w=>N.value=w),label:V.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":I("intelligence"),"update-function":L,"max-override":10,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ee(["category-wrapper flex flex-column mt-2",{error:I("strength")<0}])},[e("div",Xa,[e("span",null,t(V.$t("characterSheet.characteristicsContent.strength")),1),Za,e("span",null,t(I("strength"))+"/"+t((De=(Te=(Ee=l(a))==null?void 0:Ee.characteristics)==null?void 0:Te.limits)==null?void 0:De.strength)+" "+t(V.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ka,[s(B,{modelValue:U.value,"onUpdate:modelValue":n[5]||(n[5]=w=>U.value=w),label:V.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":I("strength"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:T.value,"onUpdate:modelValue":n[6]||(n[6]=w=>T.value=w),label:V.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":I("strength"),"update-function":L,"max-override":40,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:P.value,"onUpdate:modelValue":n[7]||(n[7]=w=>P.value=w),label:V.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":I("strength"),"update-function":L,"max-override":40,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:J.value,"onUpdate:modelValue":n[8]||(n[8]=w=>J.value=w),label:V.$t("characterSheet.characteristicsContent.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":I("strength"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ee(["category-wrapper flex flex-column mt-2",{error:I("agility")<0}])},[e("div",el,[e("span",null,t(V.$t("characterSheet.characteristicsContent.agility")),1),tl,e("span",null,t(I("agility"))+"/"+t((Me=(Pe=(Re=l(a))==null?void 0:Re.characteristics)==null?void 0:Pe.limits)==null?void 0:Me.agility)+" "+t(V.$t("characterSheet.characteristicsContent.points")),1)]),e("div",sl,[s(B,{modelValue:K.value,"onUpdate:modelValue":n[9]||(n[9]=w=>K.value=w),label:V.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":I("agility"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:Z.value,"onUpdate:modelValue":n[10]||(n[10]=w=>Z.value=w),label:V.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":I("agility"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:X.value,"onUpdate:modelValue":n[11]||(n[11]=w=>X.value=w),label:V.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":I("agility"),"update-function":L,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:d.value,"onUpdate:modelValue":n[12]||(n[12]=w=>d.value=w),label:V.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":I("agility"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:S.value,"onUpdate:modelValue":n[13]||(n[13]=w=>S.value=w),label:V.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":I("agility"),"update-function":L,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",al,[e("div",{class:ee(["category-wrapper flex flex-column flex-grow-1",{error:I("fortune")<0}])},[e("div",ll,[e("span",null,t(V.$t("characterSheet.characteristicsContent.fortune")),1),il,e("span",null,t(I("fortune"))+"/"+t((Ue=(Fe=(Oe=l(a))==null?void 0:Oe.characteristics)==null?void 0:Fe.limits)==null?void 0:Ue.fortune)+" "+t(V.$t("characterSheet.characteristicsContent.points")),1)]),e("div",nl,[s(B,{modelValue:G.value,"onUpdate:modelValue":n[14]||(n[14]=w=>G.value=w),label:V.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":I("fortune"),"update-function":L,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:Y.value,"onUpdate:modelValue":n[15]||(n[15]=w=>Y.value=w),label:V.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":I("fortune"),"update-function":L,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:y.value,"onUpdate:modelValue":n[16]||(n[16]=w=>y.value=w),label:V.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":I("fortune"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:c.value,"onUpdate:modelValue":n[17]||(n[17]=w=>c.value=w),label:V.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":I("fortune"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:g.value,"onUpdate:modelValue":n[18]||(n[18]=w=>g.value=w),label:V.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":I("fortune"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:W.value,"onUpdate:modelValue":n[19]||(n[19]=w=>W.value=w),label:V.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":I("fortune"),"update-function":L,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:D.value,"onUpdate:modelValue":n[20]||(n[20]=w=>D.value=w),label:V.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":I("fortune"),"update-function":L,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:A.value,"onUpdate:modelValue":n[21]||(n[21]=w=>A.value=w),label:V.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":I("fortune"),"update-function":L,"max-override":20,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ee(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:I("major")<0}])},[e("div",ol,[e("span",null,t(V.$t("characterSheet.characteristicsContent.major")),1),cl,e("span",null,t(I("major"))+"/"+t((je=(Le=(Ne=l(a))==null?void 0:Ne.characteristics)==null?void 0:Le.limits)==null?void 0:je.major)+" "+t(V.$t("characterSheet.characteristicsContent.points")),1)]),e("div",rl,[s(B,{modelValue:h.value,"onUpdate:modelValue":n[22]||(n[22]=w=>h.value=w),label:V.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":I("major"),"update-function":L,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:b.value,"onUpdate:modelValue":n[23]||(n[23]=w=>b.value=w),label:V.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":I("major"),"update-function":L,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:C.value,"onUpdate:modelValue":n[24]||(n[24]=w=>C.value=w),label:V.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":I("major"),"update-function":L,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:se.value,"onUpdate:modelValue":n[25]||(n[25]=w=>se.value=w),label:V.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":I("major"),"update-function":L,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:i.value,"onUpdate:modelValue":n[26]||(n[26]=w=>i.value=w),label:V.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":I("major"),"update-function":L,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:_.value,"onUpdate:modelValue":n[27]||(n[27]=w=>_.value=w),label:V.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":I("major"),"update-function":L,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"]),s(B,{modelValue:Q.value,"onUpdate:modelValue":n[28]||(n[28]=w=>Q.value=w),label:V.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":I("major"),"update-function":L,"max-override":1,step:u.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},dl=oe(ul,[["__scopeId","data-v-541c021e"]]);const pl={class:"flex align-items-center flex-wrap mt-3"},ml={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},hl={class:"checkmarks-container flex gap-2"},vl={class:"rarity-container mt-2"},_l={class:"flex align-items-center mb-1"},gl={class:"mx-2"},fl={class:"rarity-button-wrapper"},bl={class:"flex justify-content-center align-items-center"},yl={class:"simple-tooltip"},kl={class:"item-types-container mt-2"},$l={class:"flex align-items-center justify-content-center mb-1 w-full"},Sl={class:"mx-2"},xl={class:"simple-tooltip"},Cl={class:"item-types-button-wrapper"},wl={class:"filter-category-wrapper"},Al={class:"flex justify-content-center align-items-center"},Vl={class:"simple-tooltip"},Wl={class:"filter-category-wrapper"},Il={class:"flex justify-content-center align-items-center"},ql={class:"simple-tooltip"},El={class:"filter-category-wrapper"},Tl={class:"flex justify-content-center align-items-center"},Dl={class:"simple-tooltip"},Rl={class:"filter-list-wrapper mt-3"},Pl={class:"px-2 py-1"},Ml={class:"px-2 py-1"},Ol={__name:"ItemFilters",setup(m){const r=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],a=[O.healthPoints.id,O.healingMastery.id,O.actionPoints.id,O.movementPoints.id,O.rearResistance.id,O.elementalResistance.id,O.fireResistance.id,O.waterResistance.id,O.earthResistance.id,O.airResistance.id,O.elementalMastery.id,O.fireMastery.id,O.earthMastery.id,O.waterMastery.id,O.airMastery.id,O.criticalMastery.id,O.criticalHit.id,O.range.id,O.prospecting.id,O.wisdom.id,O.initiative.id,O.lock.id,O.dodge.id,O.forceOfWill.id,O.rearMastery.id,O.control.id,O.wakfuPoints.id,O.percentBlock.id,O.criticalResistance.id,O.meleeMastery.id,O.distanceMastery.id,O.berserkMastery.id,O.randomElementalMasteries.id,O.randomElementalResistances.id,O.harvestingQuantity.id].map(y=>({value:y,text:O[y].text})),f=ie("itemFilters"),u=$(""),F=$([f.startLevel,f.endLevel]),M=$([]),R=$(f.rarityFilters),x=$(f.itemTypeFilters),E=$(!1),N=()=>{P()},U=(y,c)=>{c==="min"&&(F.value[0]=y.value),c==="max"&&(F.value[1]=y.value),P()},T=()=>{P()},P=ze.debounce(y=>{var c;f.searchTerm=u.value,f.startLevel=F.value[0],f.endLevel=F.value[1],f.effectFilters=M.value,f.rarityFilters=R.value,y&&((c=y.rawIds)!=null&&c.length)?J(y):f.itemTypeFilters=x.value},100),J=y=>{y.rawIds.forEach(c=>{let g=x.value.find(W=>W.rawId===c);g.checked=y.checked})},K=()=>{let y={type:a[0],comparator:r[2],value:0};M.value.push(y),P()},Z=y=>{let c=M.value.indexOf(y);M.value.splice(c,1),P()},X=()=>{f.resetFilters(),u.value=f.searchTerm,F.value[0]=f.startLevel,F.value[1]=f.endLevel,M.value=f.effectFilters,R.value=f.rarityFilters,x.value=f.itemTypeFilters},d=()=>{f.rarityFilters.forEach(y=>{y.checked=!0}),P()},S=()=>{f.rarityFilters.forEach(y=>{y.checked=!1}),P()},G=()=>{f.itemTypeFilters.forEach(y=>{y.checked=!0}),P()},Y=()=>{f.itemTypeFilters.forEach(y=>{y.checked=!1}),P()};return(y,c)=>{const g=q("p-inputText"),W=q("p-inputNumber"),D=q("p-slider"),A=q("p-button"),h=q("p-image"),b=q("p-checkbox"),C=q("tippy"),se=q("p-dropdown");return o(),p(z,null,[e("div",pl,[s(g,{modelValue:u.value,"onUpdate:modelValue":c[0]||(c[0]=i=>u.value=i),placeholder:y.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:N},null,8,["modelValue","placeholder"]),e("div",ml,[s(W,{modelValue:F.value[0],"onUpdate:modelValue":c[1]||(c[1]=i=>F.value[0]=i),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:c[2]||(c[2]=i=>U(i,"min"))},null,8,["modelValue"]),s(D,{modelValue:F.value,"onUpdate:modelValue":c[3]||(c[3]=i=>F.value=i),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:T},null,8,["modelValue"]),s(W,{modelValue:F.value[1],"onUpdate:modelValue":c[4]||(c[4]=i=>F.value[1]=i),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:c[5]||(c[5]=i=>U(i,"max"))},null,8,["modelValue"])]),s(A,{class:"filter-button",label:y.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:X},null,8,["label"])]),e("div",hl,[e("div",vl,[e("div",_l,[s(A,{class:"filter-button item-filter-action",label:y.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:d},null,8,["label"]),e("div",gl,t(y.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(A,{class:"filter-button item-filter-action",label:y.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:S},null,8,["label"])]),e("div",fl,[(o(!0),p(z,null,te(R.value,i=>(o(),ae(C,{key:i.id,duration:"0"},{content:k(()=>[e("div",yl,t(y.$t(i.name)),1)]),default:k(()=>[s(b,{modelValue:i.checked,"onUpdate:modelValue":_=>i.checked=_,binary:!0,class:"rarity-checkbox",onChange:l(P)},{icon:k(_=>[e("div",bl,[s(h,{class:ee({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${i.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",kl,[e("div",$l,[s(A,{class:"filter-button item-filter-action",label:y.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:G},null,8,["label"]),e("div",Sl,t(y.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(C,null,{content:k(()=>[e("div",xl,t(y.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:k(()=>[s(b,{modelValue:E.value,"onUpdate:modelValue":c[6]||(c[6]=i=>E.value=i),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(A,{class:"filter-button item-filter-action",label:y.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:Y},null,8,["label"])]),e("div",Cl,[e("div",wl,[(o(!0),p(z,null,te(x.value.filter(i=>i.category==="armor"),i=>(o(),p(z,{key:i.id},[!i.advanced||E.value?(o(),ae(C,{key:0,duration:"0"},{content:k(()=>[e("div",Vl,t(y.$t(i.name)),1)]),default:k(()=>[s(b,{modelValue:i.checked,"onUpdate:modelValue":_=>i.checked=_,binary:!0,class:"item-type-checkbox",onChange:l(P)},{icon:k(_=>[e("div",Al,[i.rawId?(o(),ae(h,{key:0,class:ee({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),ae(h,{key:1,class:ee({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):le("",!0)],64))),128))]),e("div",Wl,[(o(!0),p(z,null,te(x.value.filter(i=>i.category==="weapons"),i=>(o(),p(z,{key:i.id},[!i.advanced||E.value?(o(),ae(C,{key:0,duration:"0"},{content:k(()=>[e("div",ql,t(y.$t(i.name)),1)]),default:k(()=>[s(b,{modelValue:i.checked,"onUpdate:modelValue":_=>i.checked=_,binary:!0,class:"item-type-checkbox",onChange:_=>l(P)(i)},{icon:k(_=>[e("div",Il,[i.rawId?(o(),ae(h,{key:0,class:ee({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),ae(h,{key:1,class:ee({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):le("",!0)],64))),128))]),e("div",El,[(o(!0),p(z,null,te(x.value.filter(i=>i.category==="miscellaneous"),i=>(o(),p(z,{key:i.id},[!i.advanced||E.value?(o(),ae(C,{key:0,duration:"0"},{content:k(()=>[e("div",Dl,t(y.$t(i.name)),1)]),default:k(()=>[s(b,{modelValue:i.checked,"onUpdate:modelValue":_=>i.checked=_,binary:!0,class:"item-type-checkbox",onChange:l(P)},{icon:k(_=>[e("div",Tl,[i.rawId?(o(),ae(h,{key:0,class:ee({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),ae(h,{key:1,class:ee({disabled:!_.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${i.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):le("",!0)],64))),128))])])])]),e("div",Rl,[s(A,{icon:"pi pi-plus",class:"filter-button",label:y.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:K},null,8,["label"]),(o(!0),p(z,null,te(M.value,i=>(o(),p("div",{key:i.id,class:"filter-entry"},[s(se,{modelValue:i.type,"onUpdate:modelValue":_=>i.type=_,class:"filter-type-dropdown",options:l(a),onChange:l(P)},{value:k(_=>[me(t(y.$t(_.value.text)),1)]),option:k(_=>[e("div",Pl,t(y.$t(_.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(se,{modelValue:i.comparator,"onUpdate:modelValue":_=>i.comparator=_,class:"filter-comparator-dropdown",options:r,onChange:l(P)},{value:k(_=>[me(t(_.value.symbol),1)]),option:k(_=>[e("div",Ml,t(y.$t(_.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(W,{modelValue:i.value,"onUpdate:modelValue":_=>i.value=_,class:"filter-value-input","allow-empty":!1,onInput:l(P)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(A,{class:"remove-filter-button",icon:"pi pi-trash",onClick:_=>Z(i)},null,8,["onClick"])]))),128))])],64)}}},Fl=oe(Ol,[["__scopeId","data-v-c9195567"]]);const Ce=m=>(ce("data-v-a83ad6c6"),m=m(),re(),m),Ul={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Nl={class:"flex align-items-center"},Ll={class:"px-2 py-1"},jl={class:"px-2 py-1"},Hl=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),Bl={class:"ml-2"},zl=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),Gl={class:"mr-1"},Yl={key:0,class:"flex"},Jl={key:0,class:"item-card with-stats"},Ql={class:"flex px-2 pt-2"},Xl={class:"flex flex-column ml-1"},Zl={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Kl={class:"flex"},ei={key:0},ti={key:1},si={key:2,class:"ml-1"},ai=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),li={class:"flex flex-column gap-1"},ii={class:"item-card"},ni={class:"flex px-2 pt-2"},oi={class:"flex flex-column ml-1"},ci={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},ri={class:"flex"},ui={key:0},di={key:1},pi={key:2,class:"ml-1"},mi=Ce(()=>e("div",{class:"flex-grow-1"},null,-1)),hi={class:"flex flex-column gap-1"},vi={class:"simple-tooltip"},_i={key:0,class:"item-card-tooltip"},gi={class:"effect-header flex pt-2 px-1"},fi={class:"flex flex-column ml-1"},bi={class:"item-name mr-2"},yi={class:"flex"},ki={key:0},$i={key:1},Si={key:2,class:"ml-1"},xi={key:1},Ci={__name:"EquipmentTabContent",setup(m,{expose:r}){const v=Ve(),{t:a}=We(),f=ie("currentCharacter"),u=ie("currentItemList"),F=ie("itemFilters"),M=$(null),R=$(4),{getNumTotalItems:x}=xe();let E=document;const{getItemEncyclopediaUrl:N}=Ye(),U=()=>{R.value=Math.floor((M.value.clientWidth-16)/(J.value?310+5:230+5))};window.addEventListener("resize",U);let T=ne(()=>{let d=[],S=[];return u.value.forEach(G=>{S.length===R.value?(d.push(S),S=[G]):S.push(G)}),S.length>0&&d.push(S),d.length===0&&d.push([]),d});const P=$(!1),J=$(!1),K=()=>{P.value=!0,_e(()=>{U()})};fe(J,()=>{_e(()=>{P.value=!1,_e(()=>{P.value=!0,_e(()=>{U()})})})});const Z=(d,S)=>{let G=d.type.validSlots.includes(j.LEFT_HAND.id)||d.type.validSlots.includes(j.RIGHT_HAND.id),Y=d.type.disabledSlots.includes(j.SECOND_WEAPON.id)&&f.value.equipment[j.SECOND_WEAPON.id]!==null,y=d.type.validSlots[0]===j.SECOND_WEAPON.id&&f.value.equipment[j.FIRST_WEAPON.id]!==null&&f.value.equipment[j.FIRST_WEAPON.id].type.disabledSlots.includes(j.SECOND_WEAPON.id),c=!1,g=null,W=!1,D=null;Object.keys(f.value.equipment).forEach(b=>{d.rarity===5&&f.value.equipment[b]!==null&&f.value.equipment[b].rarity===5&&(c=!0,g=b),d.rarity===7&&f.value.equipment[b]!==null&&f.value.equipment[b].rarity===7&&(W=!0,D=b)});let A=null;c&&(A=a("characterSheet.equipmentContent.hasRelicWarning")),W&&(A=a("characterSheet.equipmentContent.hasEpicWarning")),Y&&(A=a("characterSheet.equipmentContent.twoHandedWeaponWarning")),y&&(A=a("characterSheet.equipmentContent.secondWeaponWarning")),c&&Y&&(A=a("characterSheet.equipmentContent.relicAndTwoHandedWarning")),c&&y&&(A=a("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),W&&Y&&(A=a("characterSheet.equipmentContent.epicAndTwoHandedWarning")),W&&y&&(A=a("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),Y||y||c||W?v.require({group:"popup",target:S.currentTarget,message:A,accept:()=>{G&&(f.value.equipment[j.LEFT_HAND.id]===null?f.value.equipment[j.LEFT_HAND.id]=d:f.value.equipment[j.RIGHT_HAND.id]=d),Y&&(f.value.equipment[j.FIRST_WEAPON.id]=d,f.value.equipment[j.SECOND_WEAPON.id]=null),y&&(f.value.equipment[j.FIRST_WEAPON.id]=null,f.value.equipment[j.SECOND_WEAPON.id]=d),c&&(f.value.equipment[g]=null,f.value.equipment[d.type.validSlots[0]]=d),W&&(f.value.equipment[D]=null,f.value.equipment[d.type.validSlots[0]]=d)}}):G?f.value.equipment[j.LEFT_HAND.id]===null?f.value.equipment[j.LEFT_HAND.id]=d:f.value.equipment[j.RIGHT_HAND.id]=d:d.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",d.type):f.value.equipment[d.type.validSlots[0]]=d},X=d=>{let S=N(d);window.open(S,"_blank")};return r({showList:K}),(d,S)=>{const G=q("p-divider"),Y=q("p-dropdown"),y=q("p-checkbox"),c=q("p-image"),g=q("p-button"),W=q("tippy"),D=q("p-virtualScroller");return o(),p("div",Ul,[s(Ge,{character:l(f)},null,8,["character"]),s(Fl),s(G,{class:"mt-3 mb-2"}),e("div",Nl,[e("div",null,t(d.$t("characterSheet.equipmentContent.sortBy"))+":",1),s(Y,{modelValue:l(F).sortBy,"onUpdate:modelValue":S[0]||(S[0]=A=>l(F).sortBy=A),class:"sort-dropdown ml-2",options:l(Ze)},{value:k(A=>[me(t(d.$t(A.value.label)),1)]),option:k(A=>[e("div",Ll,t(d.$t(A.option.label)),1)]),_:1},8,["modelValue","options"]),s(Y,{modelValue:l(F).sortOrder,"onUpdate:modelValue":S[1]||(S[1]=A=>l(F).sortOrder=A),class:"sort-dropdown ml-2",options:l(Ke)},{value:k(A=>[me(t(d.$t(A.value.label)),1)]),option:k(A=>[e("div",jl,t(d.$t(A.option.label)),1)]),_:1},8,["modelValue","options"]),Hl,e("div",Bl,t(l(u).length)+" "+t(d.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(l(x)())+" "+t(d.$t("characterSheet.equipmentContent.itemsTotal")),1),zl,e("span",Gl,t(d.$t("characterSheet.equipmentContent.displayStats")),1),s(y,{modelValue:J.value,"onUpdate:modelValue":S[2]||(S[2]=A=>J.value=A),binary:!0},null,8,["modelValue"])]),P.value?(o(),p("div",{key:0,ref_key:"itemResultsWrapper",ref:M,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(D,{items:l(T),"item-size":[J.value?215:65,J.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:k(({item:A})=>[l(T)[0].length>0?(o(),p("div",Yl,[(o(!0),p(z,null,te(A,(h,b)=>(o(),p(z,{key:b},[J.value&&h?(o(),p("div",Jl,[e("div",Ql,[s(c,{src:`https://tmktahu.github.io/WakfuAssets/items/${h.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Xl,[e("div",Zl,t(d.$t(`items.${h.id}`)),1),e("div",Kl,[s(c,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${h.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(c,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${h.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(ge).includes(h.type.id)?(o(),p("div",ei,t(d.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(o(),p("div",ti,"Lvl: "+t(h.level),1)),h.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),p("div",si,t(h.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):le("",!0)])]),ai,e("div",li,[s(g,{icon:"pi pi-plus",class:"equip-button",onClick:C=>Z(h,C)},null,8,["onClick"]),s(g,{icon:"pi pi-question-circle",class:"equip-button",onClick:C=>X(h)},null,8,["onClick"])])]),s(Ae,{"card-mode":"",item:h},null,8,["item"])])):(o(),ae(W,{key:1,delay:[0,0],duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(E).body},{content:k(()=>[h?(o(),p("div",_i,[e("div",gi,[s(c,{src:`https://tmktahu.github.io/WakfuAssets/items/${h.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",fi,[e("div",bi,t(d.$t(`items.${h.id}`)),1),e("div",yi,[s(c,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${h.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(c,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${h.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(ge).includes(h.type.id)?(o(),p("div",ki,t(d.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(o(),p("div",$i,"Lvl: "+t(h.level),1)),h.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),p("div",Si,t(h.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):le("",!0)])])]),s(Ae,{item:h},null,8,["item"])])):le("",!0)]),default:k(()=>[e("div",ii,[e("div",ni,[s(c,{src:`https://tmktahu.github.io/WakfuAssets/items/${h.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",oi,[e("div",ci,t(d.$t(`items.${h.id}`)),1),e("div",ri,[s(c,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${h.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(c,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${h.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(ge).includes(h.type.id)?(o(),p("div",ui,t(d.$t("characterSheet.equipmentContent.itemLevel"))+": 50",1)):(o(),p("div",di,"Lvl: "+t(h.level),1)),h.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),p("div",pi,t(h.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):le("",!0)])]),mi,e("div",hi,[s(g,{icon:"pi pi-plus",class:"equip-button",onClick:C=>Z(h,C)},null,8,["onClick"]),s(W,{placement:"left"},{content:k(()=>[e("div",vi,t(d.$t("characterSheet.equipmentContent.openEncyclopediaPage")),1)]),default:k(()=>[s(g,{icon:"pi pi-question-circle",class:"equip-button",onClick:C=>X(h)},null,8,["onClick"])]),_:2},1024)])])])]),_:2},1032,["append-to"]))],64))),128))])):(o(),p("div",xi,t(d.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):le("",!0)])}}},wi=oe(Ci,[["__scopeId","data-v-a83ad6c6"]]);const he=m=>(ce("data-v-9c3b57bb"),m=m(),re(),m),Ai={class:"w-full h-full"},Vi=he(()=>e("div",null,"Active Spells (WIP)",-1)),Wi={class:"flex mt-2"},Ii={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},qi={class:"disabled-mask"},Ei=he(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Ti={key:1,class:"spell-button disabled"},Di={class:"disabled-mask"},Ri=he(()=>e("div",{class:"mt-3"},"Passives (WIP)",-1)),Pi={class:"flex mt-2"},Mi={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},Oi={key:0},Fi=["onClick"],Ui=he(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Ni={class:"spell-tooltip"},Li={class:"spell-name px-2 py-1"},ji={class:"spell-description px-2 py-1"},Hi=["innerHTML"],Bi={key:1},zi={class:"flex flex-wrap gap-1"},Gi=["onClick"],Yi=he(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Ji=he(()=>e("div",{class:"disabled-mask"},null,-1)),Qi={class:"spell-tooltip"},Xi={class:"spell-name px-2 py-1"},Zi={class:"spell-description px-2 py-1"},Ki=["innerHTML"],en={__name:"SpellTabContent",setup(m){const r=ie("currentCharacter"),{getClassPassiveSpells:v,getSpellHtml:a,getSpellLevel:f}=et(r),u=ne(()=>v(r.value.class)),F=x=>{x.category===we.passive&&(Object.keys(r.value.spells).forEach(E=>{var N;E.includes(we.passive)&&((N=r.value.spells[E])==null?void 0:N.id)===x.id&&(r.value.spells[E]=null)}),Object.keys(r.value.spells).some(E=>{if(E.includes(we.passive)&&r.value.spells[E]===null)return r.value.spells[E]=x,!0}))},M=x=>{r.value.spells[x]=null},R=x=>{let E=!1;return Object.keys(r.value.spells).forEach(N=>{var U;((U=r.value.spells[N])==null?void 0:U.id)===x.id&&(E=!0)}),E};return(x,E)=>{const N=q("p-image"),U=q("tippy");return o(),p("div",Ai,[Vi,e("div",Wi,[e("div",Ii,[(o(),p(z,null,te(12,T=>(o(),p(z,{key:T},[l(r).spells["activeSlot"+T]!==null?(o(),p("div",{key:0,class:"spell-button disabled",onClick:E[0]||(E[0]=P=>M(x.spell))},[e("div",qi,t(),1),Ei,s(N,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(r).spells["activeSlot"+T].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(o(),p("div",Ti,[s(N,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",Di,t(),1)]))],64))),64))])]),Ri,e("div",Pi,[e("div",Mi,[(o(),p(z,null,te(6,T=>(o(),p(z,{key:T},[l(r).spells["passiveSlot"+T]!==null?(o(),p("div",Oi,[s(U,{duration:"0"},{content:k(()=>[e("div",Ni,[e("div",Li,t(l(r).spells["passiveSlot"+T].name)+" (Level "+t(l(f)(l(r).spells["passiveSlot"+T]))+") ",1),e("div",ji,t(l(r).spells["passiveSlot"+T].description),1),e("div",{class:"spell-details",innerHTML:l(a)(l(r).spells["passiveSlot"+T])},null,8,Hi)])]),default:k(()=>[e("div",{class:"spell-button",onClick:P=>M("passiveSlot"+T)},[Ui,s(N,{src:`https://tmktahu.github.io/WakfuAssets/spells/${l(r).spells["passiveSlot"+T].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,Fi)]),_:2},1024)])):(o(),p("div",Bi,[s(N,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"])]))],64))),64))]),e("div",zi,[(o(!0),p(z,null,te(u.value,T=>(o(),ae(U,{key:T.id,duration:"0"},{content:k(()=>[e("div",Qi,[e("div",Xi,t(T.name)+" (Level "+t(l(f)(T))+")",1),e("div",Zi,t(T.description),1),e("div",{class:"spell-details",innerHTML:l(a)(T)},null,8,Ki)])]),default:k(()=>[e("div",{class:ee(["spell-button",{disabled:R(T)}]),onClick:P=>F(T)},[Yi,Ji,s(N,{src:`https://tmktahu.github.io/WakfuAssets/spells/${T.iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],10,Gi)]),_:2},1024))),128))])])])}}},tn=oe(en,[["__scopeId","data-v-9c3b57bb"]]),sn={class:"flex align-items-center"},an={class:"mx-2"},ln=e("i",{class:"mdi mdi-information-outline"},null,-1),nn={class:"simple-tooltip"},ue={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(m){return(r,v)=>{const a=q("p-checkbox"),f=q("tippy");return o(),p("div",sn,[s(a,Se(r.$attrs,{binary:!0}),null,16),e("div",an,t(m.label),1),m.tooltipText?(o(),ae(f,{key:0,placement:"left",duration:"0"},{content:k(()=>[e("div",nn,t(m.tooltipText),1)]),default:k(()=>[ln]),_:1})):le("",!0)])}}},on={class:"flex align-items-center mb-2"},cn={class:"mx-2"},rn=e("i",{class:"mdi mdi-information-outline"},null,-1),un={class:"simple-tooltip"},ve={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(m){return(r,v)=>{const a=q("p-inputNumber"),f=q("tippy");return o(),p("div",on,[s(a,Se(r.$attrs,{class:"number-input"}),null,16),e("div",cn,t(m.label),1),s(f,{placement:"left",duration:"0"},{content:k(()=>[e("div",un,t(m.tooltipText),1)]),default:k(()=>[rn]),_:1})])}}};const Je=m=>(ce("data-v-19682913"),m=m(),re(),m),dn={class:"item-card"},pn={class:"slot-label text-center pt-1 pb-1"},mn={class:"flex px-2 pt-1"},hn={class:"flex flex-column ml-1"},vn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},_n={class:"flex"},gn={key:0},fn={key:1},bn={key:2,class:"ml-1"},yn=Je(()=>e("div",{class:"flex-grow-1"},null,-1)),kn={class:"flex flex-column"},$n=Je(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),Sn={key:0,class:"item-card-tooltip"},xn={class:"effect-header flex pt-2 px-1"},Cn={class:"flex flex-column ml-1"},wn={class:"item-name mr-2"},An={class:"flex"},Vn={key:0},Wn={key:1},In={key:2,class:"ml-1"},qn={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}}},setup(m){let r=document;const v=Ve(),a=ie("currentCharacter"),{getItemEncyclopediaUrl:f}=Ye(),{equipItem:u}=xe(a),F=(R,x)=>{u(R,x,v)},M=R=>{let x=f(R);window.open(x,"_blank")};return(R,x)=>{const E=q("p-image"),N=q("p-button"),U=q("tippy");return o(),ae(U,{delay:"[0, 0]",duration:"0",interactive:"",position:"top",offset:[0,-2],"append-to":()=>l(r).body},{content:k(()=>[m.item?(o(),p("div",Sn,[e("div",xn,[s(E,{src:`https://tmktahu.github.io/WakfuAssets/items/${m.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Cn,[e("div",wn,t(R.$t(`items.${m.item.id}`)),1),e("div",An,[s(E,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(E,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${m.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(ge).includes(m.item.type.id)?(o(),p("div",Vn,"Item Level: 50")):(o(),p("div",Wn,"Lvl: "+t(m.item.level),1)),m.item.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),p("div",In,t(m.item.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):le("",!0)])])]),s(Ae,{item:m.item},null,8,["item"])])):le("",!0)]),default:k(()=>[e("div",dn,[e("div",pn,t(m.item.type.validSlots[0]==="LEFT_HAND"?"Ring":R.$t(l(j)[m.item.type.validSlots[0]].name))+" Slot ",1),e("div",mn,[s(E,{src:`https://tmktahu.github.io/WakfuAssets/items/${m.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",hn,[e("div",vn,t(R.$t(`items.${m.item.id}`)),1),e("div",_n,[s(E,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(E,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${m.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),l(ge).includes(m.item.type.id)?(o(),p("div",gn,"Item Level: 50")):(o(),p("div",fn,"Lvl: "+t(m.item.level),1)),m.item.type.validSlots[0]===l(j).FIRST_WEAPON.id?(o(),p("div",bn,t(m.item.type.disabledSlots.includes(l(j).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):le("",!0)])]),yn,e("div",kn,[s(N,{icon:"pi pi-plus",class:"action-button mb-1",onClick:x[0]||(x[0]=T=>F(m.item,T))}),s(U,{placement:"left"},{content:k(()=>[$n]),default:k(()=>[s(N,{icon:"pi pi-question-circle",class:"action-button",onClick:x[1]||(x[1]=T=>M(m.item))})]),_:1})])])])]),_:1},8,["append-to"])}}},En=oe(qn,[["__scopeId","data-v-19682913"]]);const Qe=m=>(ce("data-v-605b4944"),m=m(),re(),m),Tn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Dn={class:"flex flex-column mt-4"},Rn={class:"flex"},Pn={class:"flex mt-3"},Mn={class:"flex flex-column mr-3"},On={class:"flex flex-column"},Fn={class:"flex flex-column gap-2 mt-2"},Un={class:"rarity-container"},Nn={class:"flex align-items-center mb-1"},Ln={class:"mx-2"},jn={class:"rarity-button-wrapper"},Hn={class:"flex justify-content-center align-items-center"},Bn={class:"simple-tooltip"},zn={class:"flex align-items-center mt-3"},Gn=Qe(()=>e("div",{class:"flex-grow-1"},null,-1)),Yn=Qe(()=>e("a",{href:"https://github.com/mikeshardmind/wakfu-utils",target:"_blank"},"Keeper of Time (sinbad)",-1)),Jn={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},Qn={key:0,class:"error-state px-3 py-3"},Xn={key:0,class:"mt-3"},Zn={key:1},Kn={class:"flex flex-wrap gap-1 mt-2"},eo={key:2,class:"loading-state px-3 py-3"},to={class:"mt-2"},so={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},ao={class:"text-center mt-2"},lo={class:"text-center mb-5 mt-2"},io={class:"flex justify-content-center"},no={style:{position:"relative",width:"100px",height:"100px"}},oo={__name:"ItemSolverTabContent",setup(m){const{t:r}=We(),v=Ve(),a=ie("currentCharacter"),{equipItem:f}=xe(a),{runCalculations:u,autoBuilderIsReady:F,itemSet:M,builderLoading:R,builderError:x}=tt(),E=$(!1),N=ne(()=>{if(E.value)return M.value;{let b=Object.keys(a.value.equipment).map(C=>{if(a.value.equipment[C])return a.value.equipment[C].id}).filter(C=>C!==void 0);return M.value?M.value.filter(C=>!b.includes(C.id)):[]}}),U=$(a.value.actionPoints),T=$(a.value.movementPoints),P=$(a.value.stats.range),J=$(a.value.wakfuPoints),K=$(2),Z=$(!1),X=$(!1),d=$(!1),S=$(!1),G=$(!1),Y=$(!0),y=$(st.map(b=>({...b,checked:!0}))),c=$(!0);fe(F,()=>{c.value=!1});const g=()=>{y.value.forEach(b=>{b.checked=!0})},W=()=>{y.value.forEach(b=>{b.checked=!1})},D=ne(()=>F.value),A=async()=>{let b=null;Y.value&&(b=Object.keys(a.value.equipment).map(i=>{if(a.value.equipment[i])return a.value.equipment[i].id}).filter(i=>i!==void 0));let C=y.value.filter(i=>i.checked).map(i=>i.id),se={targetLevel:a.value.level,meleeMastery:Z.value,distanceMastery:X.value,healingMastery:d.value,rearMastery:S.value,berserkMastery:G.value,targetNumElements:K.value||0,currentCharacter:a.value,targetApAmount:U.value||0,targetMpAmount:T.value||0,targetRangeAmount:P.value||0,targetWpAmount:J.value||0,selectedRarityIds:C,currentItemIds:b};u(se)},h=b=>{v.require({group:"popup",target:b.currentTarget,message:r("confirms.willReplaceItems"),accept:()=>{M.value.forEach(C=>{f(C)})}})};return(b,C)=>{var L,$e,V;const se=q("p-button"),i=q("p-image"),_=q("p-checkbox"),Q=q("tippy"),I=q("p-progressSpinner");return o(),p("div",Tn,[s(Ge,{character:l(a)},null,8,["character"]),e("div",Dn,[e("div",Rn,[s(ue,{modelValue:Y.value,"onUpdate:modelValue":C[0]||(C[0]=n=>Y.value=n),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",Pn,[e("div",Mn,[s(ve,{modelValue:U.value,"onUpdate:modelValue":C[1]||(C[1]=n=>U.value=n),label:b.$t("constants.actionPoints"),"tooltip-text":b.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(ve,{modelValue:T.value,"onUpdate:modelValue":C[2]||(C[2]=n=>T.value=n),label:b.$t("constants.movementPoints"),"tooltip-text":b.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(ve,{modelValue:P.value,"onUpdate:modelValue":C[3]||(C[3]=n=>P.value=n),label:b.$t("constants.range"),"tooltip-text":b.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(ve,{modelValue:J.value,"onUpdate:modelValue":C[4]||(C[4]=n=>J.value=n),label:b.$t("constants.wakfuPoints"),"tooltip-text":b.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"]),s(ve,{modelValue:K.value,"onUpdate:modelValue":C[5]||(C[5]=n=>K.value=n),label:b.$t("characterSheet.itemSolverContent.numElements"),"tooltip-text":b.$t("characterSheet.itemSolverContent.numElementsTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",On,[e("div",Fn,[s(ue,{modelValue:Z.value,"onUpdate:modelValue":C[6]||(C[6]=n=>Z.value=n),label:b.$t("constants.meleeMastery"),"tooltip-text":b.$t("characterSheet.itemSolverContent.meleeMasteryTooltip")},null,8,["modelValue","label","tooltip-text"]),s(ue,{modelValue:X.value,"onUpdate:modelValue":C[7]||(C[7]=n=>X.value=n),label:b.$t("constants.distanceMastery"),"tooltip-text":b.$t("characterSheet.itemSolverContent.distanceMasteryTooltip")},null,8,["modelValue","label","tooltip-text"]),s(ue,{modelValue:d.value,"onUpdate:modelValue":C[8]||(C[8]=n=>d.value=n),label:b.$t("constants.healingMastery"),"tooltip-text":b.$t("characterSheet.itemSolverContent.healingMasteryTooltip")},null,8,["modelValue","label","tooltip-text"]),s(ue,{modelValue:S.value,"onUpdate:modelValue":C[9]||(C[9]=n=>S.value=n),label:b.$t("constants.rearMastery"),"tooltip-text":b.$t("characterSheet.itemSolverContent.rearMasteryTooltip")},null,8,["modelValue","label","tooltip-text"]),s(ue,{modelValue:G.value,"onUpdate:modelValue":C[10]||(C[10]=n=>G.value=n),label:b.$t("constants.berserkMastery"),"tooltip-text":b.$t("characterSheet.itemSolverContent.berserkMasteryTooltip")},null,8,["modelValue","label","tooltip-text"])])])])]),e("div",null,[e("div",Un,[e("div",Nn,[s(se,{class:"filter-button item-filter-action",label:b.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:g},null,8,["label"]),e("div",Ln,t(b.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(se,{class:"filter-button item-filter-action",label:b.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:W},null,8,["label"])]),e("div",jn,[(o(!0),p(z,null,te(y.value,n=>(o(),ae(Q,{key:n.id,duration:"0"},{content:k(()=>[e("div",Bn,t(b.$t(n.name)),1)]),default:k(()=>[s(_,{modelValue:n.checked,"onUpdate:modelValue":de=>n.checked=de,binary:!0,class:"rarity-checkbox"},{icon:k(de=>[e("div",Hn,[s(i,{class:ee({disabled:!de.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${n.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:2},1024))),128))])])]),e("div",zn,[s(se,{class:"py-2 px-3 mr-2",disabled:!D.value,label:(L=N.value)!=null&&L.length?"Re-Generate Item Set":"Generate Item Set",onClick:A},null,8,["disabled","label"]),s(se,{class:"py-2 px-3 mr-2",disabled:!(($e=N.value)!=null&&$e.length),label:"Equip All Items",onClick:C[11]||(C[11]=n=>h(n))},null,8,["disabled"]),s(ue,{modelValue:E.value,"onUpdate:modelValue":C[12]||(C[12]=n=>E.value=n),label:"Show All Items"},null,8,["modelValue"]),Gn,e("div",null,[me(t(b.$t("characterSheet.itemSolverContent.poweredBy"))+" ",1),Yn,me("'s "+t(b.$t("characterSheet.itemSolverContent.code"))+".",1)])]),l(R)?(o(),p("div",so,[e("div",ao,t(b.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",lo,t(b.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",io,[e("div",no,[s(I,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(I,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(o(),p("div",Jn,[l(x)?(o(),p("div",Qn,[e("div",null,t(b.$t("characterSheet.itemSolverContent.problemMessage")),1),l(x)?(o(),p("div",Xn,[e("span",null,"Code: "+t(l(x).type),1),(o(!0),p(z,null,te(l(x).messages,n=>(o(),p("div",{key:n,class:"mt-1"},t(n),1))),128))])):le("",!0)])):(V=N.value)!=null&&V.length?(o(),p("div",Zn,[e("div",Kn,[(o(!0),p(z,null,te(N.value,n=>(o(),ae(En,{key:n.id,item:n},null,8,["item"]))),128))])])):(o(),p("div",eo,[e("div",null,t(b.$t("characterSheet.itemSolverContent.instructions")),1),e("div",to,t(b.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},co=oe(oo,[["__scopeId","data-v-605b4944"]]);const ye=m=>(ce("data-v-61b95848"),m=m(),re(),m),ro={class:"flex"},uo={class:"flex flex-column"},po={class:"mb-2"},mo={class:"flex"},ho={class:"mr-2"},vo=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),_o={class:"simple-tooltip flex flex-column"},go={class:"mb-1"},fo={class:"mb-1"},bo={class:"mb-1"},yo={class:"mb-1"},ko={class:"mb-1"},$o={class:"mb-1"},So={key:0,class:"item-runes-section flex align-items-center mb-2"},xo=["onClick"],Co=["onClick","onDrop","onContextmenu","onDragstart"],wo={class:"rune-image"},Ao={class:"rune-level"},Vo={class:"simple-tooltip"},Wo=["onDrop"],Io={class:"rune-image"},qo=ye(()=>e("div",{class:"sublimation-drop-zone ml-2 pl-2 pr-2"},"sub",-1)),Eo={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},To={class:"slot-image"},Do=["onDrop"],Ro=ye(()=>e("div",{class:"info-text"},"An item must be equipped",-1)),Po={class:"stats-summary"},Mo={class:"text-lg my-1 pl-2"},Oo={class:"stats-summary-list flex flex-column"},Fo={class:"ml-2"},Uo={class:"flex flex-column"},No={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},Lo={class:"flex align-items-center justify-content-center"},jo=ye(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ho={class:"simple-tooltip"},Bo={class:"mx-2"},zo={class:"rune-options flex flex-column mt-2"},Go=["onDragstart","onClick"],Yo={class:"ml-2"},Jo=ye(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),Qo={class:"ml-3 mt-2"},Xo={key:0,class:"flex flex-column px-4 py-2"},Zo={class:"mb-2"},Ko={class:"ml-2"},ec={__name:"RunesSubsTabContent",setup(m){const{t:r}=We(),v=ie("currentCharacter"),{getRuneValue:a}=Be(),{getRunes:f,getSublimations:u}=xe(),F=ne(()=>f().sort((c,g)=>c.shardsParameters.color-g.shardsParameters.color));$(u());const M=$(1),R=$(null),x=$(null),E=$(null),N=$([{label:r("constants.level"),levelSlider:!0},{label:r("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{x.value&&(v.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey].color===0?v.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey].color=v.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey].rune.shardsParameters.color:v.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey].color=0)}},{label:r("constants.remove"),command:()=>{v.value.equipment[x.value.itemSlotKey][x.value.runeSlotKey]=null}}]),U=ne(()=>{let c={};return Object.keys(v.value.equipment).forEach(g=>{if(v.value.equipment[g]!==null){let W=v.value.equipment[g];for(let D=1;D<=4;D++){let A=W[`runeSlot${D}`];A&&(c[A.rune.id]||(c[A.rune.id]={totalValue:0,rune:A}),c[A.rune.id].totalValue+=a(A.rune,A.level,g))}}}),c}),T=(c,g)=>{c.stopPropagation(),R.value===g?R.value=null:R.value=g},P=(c,g,W)=>{c.shiftKey&&(v.value.equipment[g][W].color===0?v.value.equipment[g][W].color=v.value.equipment[g][W].rune.shardsParameters.color:v.value.equipment[g][W].color=0),c.ctrlKey&&(v.value.equipment[g][W]=null)},J=(c,g,W)=>{v.value.equipment[g][W]&&(x.value={itemSlotKey:g,runeSlotKey:W},E.value.show(c))},K=(c,g)=>{if(R.value&&v.value.equipment[R.value]!==null){let W=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let D in W)if(v.value.equipment[R.value][W[D]]===null||v.value.equipment[R.value][W[D]]===void 0){v.value.equipment[R.value][W[D]]={rune:g,color:g.shardsParameters.color,level:M.value};break}}},Z=(c,g,W)=>{c.dataTransfer.dropEffect="move",c.dataTransfer.effectAllowed="move",c.dataTransfer.setData("rune",JSON.stringify(g)),W&&c.dataTransfer.setData("level",W)},X=(c,g,W)=>{try{let D=JSON.parse(c.dataTransfer.getData("rune")),A=c.dataTransfer.getData("level");v.value.equipment[g][W]={rune:D,color:D.shardsParameters.color,level:A||M.value}}catch{}},d=()=>{let c=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(v.value.equipment).forEach(g=>{v.value.equipment[g]&&c.forEach(W=>{v.value.equipment[g][W]=void 0})})},S=c=>{if(c)switch(c){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},G=c=>{if(c)switch(c){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},Y=c=>Object.keys(j).find(g=>j[g].rawId===c),y=ne(()=>{let c=1;return at.some((g,W)=>g<=v.value.level?(c=W+1,!1):!0),c});return fe(()=>v.value.level,()=>{M.value=y.value},{immediate:!0}),(c,g)=>{const W=q("tippy"),D=q("p-image"),A=q("p-inputNumber"),h=q("p-button"),b=q("p-slider"),C=q("p-contextMenu"),se=lt("ripple");return o(),p("div",ro,[e("div",uo,[e("div",po,[s(W,{placement:"left",duration:"0"},{content:k(()=>[e("div",_o,[e("div",go,t(c.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",fo,t(c.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",bo,t(c.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",yo,t(c.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",ko,t(c.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",$o,t(c.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:k(()=>[e("div",mo,[e("div",ho,t(c.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),vo])]),_:1})]),(o(!0),p(z,null,te(Object.keys(l(v).equipment),i=>(o(),p(z,{key:i},[i!=="ACCESSORY"&&i!=="PET"&&i!=="MOUNT"&&i!=="SECOND_WEAPON"?(o(),p(z,{key:0},[i!=="undefined"&&l(v).equipment[i]?(o(),p("div",So,[e("div",{class:ee(["slot-image",{highlighted:R.value===i}]),onClick:_=>T(_,i)},[s(D,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${i}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,xo),(o(),p(z,null,te(4,_=>(o(),p(z,{key:_},[l(v).equipment[i][`runeSlot${_}`]?(o(),ae(W,{key:0,duration:"0"},{content:k(()=>[e("div",Vo," +"+t(l(a)(l(v).equipment[i][`runeSlot${_}`].rune,l(v).equipment[i][`runeSlot${_}`].level,i))+" "+t(l(v).equipment[i][`runeSlot${_}`].rune.name),1)]),default:k(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:Q=>P(Q,i,`runeSlot${_}`),onDragover:g[0]||(g[0]=pe(()=>{},["prevent"])),onDragenter:g[1]||(g[1]=pe(()=>{},["prevent"])),onDrop:Q=>X(Q,i,`runeSlot${_}`),onContextmenu:Q=>J(Q,i,`runeSlot${_}`),onDragstart:Q=>Z(Q,l(v).equipment[i][`runeSlot${_}`].rune,l(v).equipment[i][`runeSlot${_}`].level)},[e("div",wo,[s(D,{src:G(l(v).equipment[i][`runeSlot${_}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",Ao,t(l(v).equipment[i][`runeSlot${_}`].level),1)],40,Co)]),_:2},1024)):(o(),p("div",{key:1,class:"rune-drop-zone ml-2",onDragover:g[2]||(g[2]=pe(()=>{},["prevent"])),onDragenter:g[3]||(g[3]=pe(()=>{},["prevent"])),onDrop:Q=>X(Q,i,`runeSlot${_}`)},[e("div",Io,[s(D,{src:S(null),"image-style":"width: 26px"},null,8,["src"])])],40,Wo))],64))),64)),qo])):i!=="undefined"?(o(),p("div",Eo,[e("div",To,[s(D,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${i}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(o(),p(z,null,te(4,_=>e("div",{key:_,class:"rune-drop-zone ml-2",onDragover:g[4]||(g[4]=pe(()=>{},["prevent"])),onDragenter:g[5]||(g[5]=pe(()=>{},["prevent"])),onDrop:Q=>X(Q,i,`runeSlot${_}`)},null,40,Do)),64)),Ro])):le("",!0)],64)):le("",!0)],64))),128)),e("div",Po,[e("div",Mo,t(c.$t("characterSheet.runesAndSubsContent.statsSummary")),1),e("div",Oo,[(o(!0),p(z,null,te(Object.keys(U.value),i=>(o(),p("div",{key:i,class:"summary-entry px-2 py-1"},[s(D,{src:G(U.value[i].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",Fo,"+"+t(U.value[i].totalValue)+" "+t(U.value[i].rune.rune.name),1)]))),128))])])]),e("div",Uo,[e("div",No,[e("div",Lo,[s(W,{placement:"left",duration:"0"},{content:k(()=>[e("div",Ho,t(c.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:k(()=>[jo]),_:1}),e("span",Bo,t(c.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(A,{modelValue:M.value,"onUpdate:modelValue":g[6]||(g[6]=i=>M.value=i),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:y.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",zo,[(o(!0),p(z,null,te(F.value,i=>(o(),p("div",{key:i.id,class:ee(["rune-draggable mb-1 px-2",{highlighted:R.value&&i.shardsParameters.doubleBonusPosition.includes(l(j)[R.value].rawId)}]),draggable:"true",onDragstart:_=>Z(_,i),onClick:_=>K(_,i)},[s(D,{class:"rune-image",src:S(i.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",Yo,"+"+t(l(a)(i,M.value))+" "+t(i.name),1),Jo,(o(!0),p(z,null,te(i.shardsParameters.doubleBonusPosition,_=>(o(),p("div",{key:_,class:"ml-1"},[s(D,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${Y(_)}.png`,class:ee({disabled:!l(v).equipment[Y(_)]}),onClick:Q=>T(Q,Y(_))},null,8,["src","class","onClick"])]))),128))],42,Go))),128))])]),e("div",Qo,[s(h,{label:c.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:d},null,8,["label"])])]),s(C,{ref_key:"runeContextMenu",ref:E,model:N.value},{item:k(({item:i,props:_})=>[i.levelSlider?(o(),p("div",Xo,[e("div",Zo,t(c.$t("constants.level"))+": "+t(l(v).equipment[x.value.itemSlotKey][x.value.runeSlotKey].level),1),s(b,{modelValue:l(v).equipment[x.value.itemSlotKey][x.value.runeSlotKey].level,"onUpdate:modelValue":g[7]||(g[7]=Q=>l(v).equipment[x.value.itemSlotKey][x.value.runeSlotKey].level=Q),min:1,max:11},null,8,["modelValue"])])):it((o(),p("a",Se({key:1,class:"flex align-items-center"},_.action),[e("span",Ko,t(i.label),1)],16)),[[se]])]),_:1},8,["model"])])}}},tc=oe(ec,[["__scopeId","data-v-61b95848"]]);const ke=m=>(ce("data-v-79a61254"),m=m(),re(),m),sc={class:"top-bar py-3 px-3"},ac={key:0,class:"flex align-items-center"},lc={class:"capitalize"},ic={key:1},nc={class:"flex align-items-center"},oc={class:"capitalize"},cc={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},rc={class:"mr-2"},uc={class:"flex-grow-1"},dc=ke(()=>e("div",{class:"flex-grow-1"},null,-1)),pc={class:"build-code flex align-items-center ml-2 mr-3"},mc=ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),hc={class:"simple-tooltip"},vc={class:"ml-2"},_c={class:"code-disclaimer"},gc=ke(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),fc={class:"simple-tooltip"},bc={class:"ml-1"},yc={class:"flex flex-grow-1",style:{overflow:"auto"}},kc={class:"stats-area pt-3"},$c={class:"flex flex-column flex-grow-1"},Sc=ke(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-2",style:{"font-size":"26px"}},null,-1)),xc=ke(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-2",style:{"font-size":"26px"}},null,-1)),Cc={class:"flex align-items-center px-3 py-3"},wc={class:"flex align-items-center px-3 py-3"},Ac={class:"flex align-items-center px-3 py-3"},Vc={class:"flex align-items-center px-3 py-3"},Wc={key:1,class:"px-5 mt-5"},Ic={__name:"CharacterSheet",setup(m){var K,Z,X;const r=nt(),v=ie("currentCharacter"),a=$(null),f=$(null),u=$((K=v.value)==null?void 0:K.name),F=$((Z=v.value)==null?void 0:Z.level),M=$((X=v.value)==null?void 0:X.class),R=Object.entries(He).map(([d,S])=>({label:S,value:S})),{createBuildCode:x}=ot(),E=ne(()=>x(v.value));fe(v,()=>{N()});const N=()=>{var d,S,G;u.value=(d=v.value)==null?void 0:d.name,F.value=(S=v.value)==null?void 0:S.level,M.value=(G=v.value)==null?void 0:G.class},U=(d,S)=>{S==="name"?v.value.name=d.target.value:S==="levelText"?v.value.level=d.value:S==="levelSlider"?v.value.level=d:S==="class"&&(v.value.class=d.value),N()},T=()=>{_e(()=>{a.value.showList()})},P=ne(()=>{var d;return(d=f.value)==null?void 0:d.hasCharacteristicsError}),J=()=>{navigator.clipboard.writeText(E.value),r.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(d,S)=>{const G=q("p-inputText"),Y=q("p-dropdown"),y=q("p-inputNumber"),c=q("p-slider"),g=q("tippy"),W=q("p-button"),D=q("p-tabPanel"),A=q("p-tabView");return l(v)?(o(),p("div",{key:l(v).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",sc,[s(G,{modelValue:u.value,"onUpdate:modelValue":S[0]||(S[0]=h=>u.value=h),class:"mr-2",onInput:S[1]||(S[1]=h=>U(h,"name"))},null,8,["modelValue"]),s(Y,{modelValue:M.value,"onUpdate:modelValue":S[2]||(S[2]=h=>M.value=h),options:l(R),placeholder:d.$t("characterSheet.selectAClass"),"option-value":"value",class:"mr-2",onChange:S[3]||(S[3]=h=>U(h,"class"))},{value:k(h=>[h.value?(o(),p("div",ac,[e("div",lc,t(h.value),1)])):(o(),p("span",ic,t(h.placeholder),1))]),option:k(h=>[e("div",nc,[e("div",oc,t(h.option.label),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",cc,[e("span",rc,t(d.$t("characterSheet.level")),1),s(y,{modelValue:F.value,"onUpdate:modelValue":S[4]||(S[4]=h=>F.value=h),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:S[5]||(S[5]=h=>U(h,"levelText"))},null,8,["modelValue"]),e("div",uc,[s(c,{modelValue:F.value,"onUpdate:modelValue":S[6]||(S[6]=h=>F.value=h),min:1,max:230,onChange:S[7]||(S[7]=h=>U(h,"levelSlider"))},null,8,["modelValue"])])]),dc,e("div",pc,[s(g,{placement:"left",duration:"0"},{content:k(()=>[e("div",hc,t(d.$t("characterSheet.buildCopyPaste")),1)]),default:k(()=>[mc]),_:1}),e("div",vc,t(d.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:J},[e("span",null,t(E.value),1)]),s(W,{class:"py-1 ml-2 px-2",label:d.$t("characterSheet.copy"),onClick:J},null,8,["label"]),e("div",_c,[s(g,{placement:"bottom",duration:"0"},{content:k(()=>[e("div",fc,t(d.$t("characterSheet.codeInfo")),1)]),default:k(()=>[gc]),_:1}),e("div",bc,t(d.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",yc,[e("div",kc,[s(Fa)]),e("div",$c,[s(A,{class:"main-tab-view",onTabChange:T},{default:k(()=>[s(D,null,{header:k(()=>[e("div",{class:ee(["characteristics-tab-header px-3 h-full",{error:P.value,"points-to-spend":!1}])},[e("span",null,t(d.$t("characterSheet.characteristics")),1),Sc,xc],2)]),default:k(()=>[s(dl,{ref_key:"characteristicsTabContent",ref:f},null,512)]),_:1}),s(D,null,{header:k(()=>[e("div",Cc,[e("span",null,t(d.$t("characterSheet.equipment")),1)])]),default:k(()=>[s(wi,{ref_key:"equipmentTabContent",ref:a},null,512)]),_:1}),s(D,null,{header:k(()=>[e("div",wc,[e("span",null,t(d.$t("characterSheet.autoItemSolver")),1)])]),default:k(()=>[s(co)]),_:1}),s(D,null,{header:k(()=>[e("div",Ac,[e("span",null,t(d.$t("characterSheet.runesAndSubs")),1)])]),default:k(()=>[s(tc)]),_:1}),s(D,null,{header:k(()=>[e("div",Vc,[e("span",null,t(d.$t("characterSheet.spellsAndPassives")),1)])]),default:k(()=>[s(tn)]),_:1})]),_:1})])])])):(o(),p("div",Wc," No Character data found for the given ID. "))}}},Dc=oe(Ic,[["__scopeId","data-v-79a61254"]]);export{Dc as default};
