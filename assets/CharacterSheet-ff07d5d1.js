import{_ as ke,i as be,f as de,r as _,y as qe,g as W,q as a,o as c,h as u,j as e,k as s,t,z as He,F as Q,m as oe,n as re,w as d,A as ie,l as Z,B as at,s as Se,x as we,D as dt,E as Be,G as mt,H as lt,I as z,J as fe,a as Qe,K as ze,L as Ge,M as Ne,N as ye,O as it,b as Xe,P as Ue,Q as et,R as tt,S as Pe,T as st,U as pt,V as Ye,W as ht,d as nt,X as vt,Y as ft,p as $e,Z as Je,$ as gt,u as _t}from"./index-7d05648d.js";import{I as Ee,M as Le,u as bt,E as ot,a as $t}from"./addCompanion-6ed12064.js";const G=m=>(Se("data-v-625c59f9"),m=m(),we(),m),yt={key:0,class:"py-3",style:{overflow:"auto"}},kt={class:"flex justify-content-between w-full px-2"},St={class:"main-stat-box"},wt={class:"flex align-items-center my-1"},xt={class:"ml-1"},Ct={class:"stat-value py-1"},Vt={class:"main-stat-box"},At={class:"flex align-items-center my-1"},It={class:"ml-1"},Wt={class:"stat-value py-1"},Pt={class:"main-stat-box"},Et={class:"flex align-items-center my-1"},qt={class:"ml-1"},Tt={class:"stat-value py-1"},Mt={class:"main-stat-box"},Dt={class:"flex align-items-center my-1"},Rt={class:"ml-1"},Ut={class:"stat-value py-1"},Lt={key:0,class:"main-stat-box"},Ft={class:"flex align-items-center my-1"},Ot={class:"ml-1"},Nt={class:"stat-value py-1"},jt={key:1,class:"main-stat-box"},Ht={class:"flex align-items-center my-1"},Bt={class:"ml-1"},zt={class:"stat-value py-1"},Gt={class:"main-stat-area flex flex-column mt-2 pb-2"},Yt={class:"section-header py-1 mb-1"},Jt={class:"flex pl-1"},Qt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Xt={class:"stat-block pr-2"},Zt={class:"ml-1"},Kt=G(()=>e("div",{class:"flex-grow-1"},null,-1)),es={class:"stat-block pr-2"},ts={class:"ml-1"},ss=G(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ls={class:"stat-block pr-2"},is={class:"ml-1"},ns=G(()=>e("div",{class:"flex-grow-1"},null,-1)),os={class:"stat-block pr-2"},cs={class:"ml-1"},rs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),us={class:"section-header py-1 mb-1"},ds={class:"flex pl-1"},ms={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ps={class:"stat-block pr-2"},hs={class:"ml-1"},vs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),fs={class:"stat-block pr-2"},gs={class:"ml-1"},_s=G(()=>e("div",{class:"flex-grow-1"},null,-1)),bs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},$s={class:"stat-block pr-2"},ys={class:"ml-1"},ks=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ss={class:"stat-block pr-2"},ws={class:"ml-1"},xs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Cs={class:"lex flex-column"},Vs={class:"section-header py-1 mb-1"},As={class:"flex pl-1"},Is={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ws={class:"stat-block pr-2"},Ps={class:"ml-1"},Es=G(()=>e("div",{class:"flex-grow-1"},null,-1)),qs={class:"stat-block pr-2"},Ts={class:"ml-1"},Ms=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ds={class:"stat-block pr-2"},Rs={class:"ml-1"},Us=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ls={class:"stat-block pr-2"},Fs={class:"ml-1"},Os=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ns={class:"stat-block pr-2"},js={class:"ml-1"},Hs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Bs={class:"stat-block pr-2"},zs={class:"ml-1"},Gs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ys={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Js={class:"stat-block pr-2"},Qs={class:"ml-1"},Xs=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Zs={class:"stat-block pr-2"},Ks={class:"ml-1"},ea=G(()=>e("div",{class:"flex-grow-1"},null,-1)),ta={class:"stat-block pr-2"},sa={class:"ml-1"},aa=G(()=>e("div",{class:"flex-grow-1"},null,-1)),la={class:"stat-block pr-2"},ia={class:"ml-1"},na=G(()=>e("div",{class:"flex-grow-1"},null,-1)),oa={class:"stat-block pr-2"},ca={class:"ml-1"},ra=G(()=>e("div",{class:"flex-grow-1"},null,-1)),ua={class:"stat-block pr-2"},da={class:"ml-1"},ma=G(()=>e("div",{class:"flex-grow-1"},null,-1)),pa={class:"flex flex-column"},ha={class:"section-header py-1 mb-1"},va={class:"flex pl-1"},fa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ga={class:"stat-block pr-2"},_a={class:"ml-1"},ba=G(()=>e("div",{class:"flex-grow-1"},null,-1)),$a={class:"stat-block pr-2"},ya={class:"ml-1"},ka=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Sa={class:"stat-block pr-2"},wa={class:"ml-1"},xa=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ca={class:"stat-block pr-2"},Va={class:"ml-1"},Aa=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ia={class:"stat-block pr-2"},Wa={class:"ml-1"},Pa=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ea={class:"stat-block pr-2"},qa={class:"ml-1"},Ta=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ma={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Da={class:"stat-block pr-2"},Ra={class:"ml-1"},Ua=G(()=>e("div",{class:"flex-grow-1"},null,-1)),La={class:"stat-block pr-2"},Fa={class:"ml-1"},Oa=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Na={class:"stat-block pr-2"},ja={class:"ml-1"},Ha=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ba={class:"stat-block pr-2"},za={class:"ml-1"},Ga=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Ya={class:"stat-block pr-2"},Ja={class:"ml-1"},Qa=G(()=>e("div",{class:"flex-grow-1"},null,-1)),Xa={class:"flex flex-column"},Za={class:"section-header py-1 mb-1"},Ka={class:"stat-block mr-1"},el={class:"flex flex-column px-1 py-1 w-full",style:{border:"1px solid var(--primary-40)","border-radius":"8px"}},tl={class:"mastery-container flex gap-2 w-full"},sl={class:"mastery-button-wrapper"},al={class:"flex justify-content-center align-items-center"},ll={class:"simple-tooltip"},il={class:"flex w-full mt-1"},nl={class:"ml-1"},ol=G(()=>e("div",{class:"flex-grow-1"},null,-1)),cl={class:"stat-block pr-2 ml-1"},rl={class:"ml-1"},ul=G(()=>e("div",{class:"flex-grow-1"},null,-1)),dl={class:"stat-block pr-2 ml-1"},ml={class:"ml-1"},pl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),hl={class:"stat-block pr-2 ml-1"},vl={class:"ml-1"},fl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),gl={class:"stat-block pr-2 ml-1"},_l={class:"ml-1"},bl=G(()=>e("div",{class:"flex-grow-1"},null,-1)),$l={__name:"StatDisplay",setup(m){const p=be("currentCharacter"),{calcElemResistancePercentage:L,calcTotalMastery:o,calcEffectiveHp:n}=at(p),I=de(()=>T.value.filter(h=>h.checked).map(h=>h.id)),T=_([{name:"constants.waterMastery",id:"water",iconName:"water_coin",checked:!1},{name:"constants.airMastery",id:"air",iconName:"air_coin",checked:!1},{name:"constants.earthMastery",id:"earth",iconName:"earth_coin",checked:!1},{name:"constants.fireMastery",id:"fire",iconName:"fire_coin",checked:!1},{name:"constants.meleeMastery",id:"melee",iconName:"melee_mastery",checked:!1},{name:"constants.distanceMastery",id:"distance",iconName:"distance_mastery",checked:!1},{name:"constants.berserkMastery",id:"berserk",iconName:"berserk_mastery",checked:!1},{name:"constants.criticalMastery",id:"critical",iconName:"critical_mastery",checked:!1},{name:"constants.rearMastery",id:"rear",iconName:"rear_mastery",checked:!1},{name:"constants.healingMastery",id:"healing",iconName:"healing_mastery",checked:!1}]),B=(h,J)=>{h.ctrlKey&&T.value.forEach(b=>{b.id!==J?b.checked=!1:b.checked=!0})};let O=!1;return qe(p,()=>{if(p.value&&!O){let h=[{index:0,value:p.value.masteries.water},{index:1,value:p.value.masteries.air},{index:2,value:p.value.masteries.earth},{index:3,value:p.value.masteries.fire}].sort((J,b)=>b.value-J.value);T.value[h[0].index].checked=!0,T.value[4].checked=p.value.masteries.melee>0,T.value[5].checked=p.value.masteries.distance>0,T.value[6].checked=p.value.masteries.berserk>0,T.value[7].checked=p.value.masteries.critical>0,T.value[8].checked=p.value.masteries.rear>0,T.value[9].checked=p.value.masteries.healing>0,O=!0}},{immediate:!0}),(h,J)=>{const b=W("p-image"),P=W("p-checkbox"),q=W("tippy");return a(p)?(c(),u("div",yt,[e("div",kt,[e("div",St,[e("div",wt,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",xt,t(h.$t("constants.hp")),1)]),e("div",Ct,t(a(p).healthPoints),1)]),e("div",Vt,[e("div",At,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",It,t(h.$t("characterSheet.statsDisplay.ar")),1)]),e("div",Wt,t(a(p).armorPoints),1)]),e("div",Pt,[e("div",Et,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",qt,t(h.$t("constants.ap")),1)]),e("div",Tt,t(a(p).actionPoints),1)]),e("div",Mt,[e("div",Dt,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Rt,t(h.$t("constants.mp")),1)]),e("div",Ut,t(a(p).movementPoints),1)]),a(p).class===a(He).huppermage.id?(c(),u("div",Lt,[e("div",Ft,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Ot,t(h.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Nt,t(a(p).quadrumentalBreeze),1)])):(c(),u("div",jt,[e("div",Ht,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Bt,t(h.$t("constants.wp")),1)]),e("div",zt,t(a(p).wakfuPoints),1)]))]),e("div",Gt,[e("div",Yt,t(h.$t("constants.elementalMasteries")),1),e("div",Jt,[e("div",Qt,[e("div",Xt,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Zt,t(h.$t("characterSheet.statsDisplay.water")),1),Kt,e("span",null,t(a(p).masteries.water),1)]),e("div",es,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ts,t(h.$t("characterSheet.statsDisplay.air")),1),ss,e("span",null,t(a(p).masteries.air),1)])]),e("div",as,[e("div",ls,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",is,t(h.$t("characterSheet.statsDisplay.earth")),1),ns,e("span",null,t(a(p).masteries.earth),1)]),e("div",os,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",cs,t(h.$t("characterSheet.statsDisplay.fire")),1),rs,e("span",null,t(a(p).masteries.fire),1)])])]),e("div",us,t(h.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",ds,[e("div",ms,[e("div",ps,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",hs,t(h.$t("characterSheet.statsDisplay.water")),1),vs,e("span",null,t(a(L)(a(p).resistances.water))+"% ("+t(a(p).resistances.water)+")",1)]),e("div",fs,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",gs,t(h.$t("characterSheet.statsDisplay.air")),1),_s,e("span",null,t(a(L)(a(p).resistances.air))+"% ("+t(a(p).resistances.air)+")",1)])]),e("div",bs,[e("div",$s,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",ys,t(h.$t("characterSheet.statsDisplay.earth")),1),ks,e("span",null,t(a(L)(a(p).resistances.earth))+"% ("+t(a(p).resistances.earth)+")",1)]),e("div",Ss,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ws,t(h.$t("characterSheet.statsDisplay.fire")),1),xs,e("span",null,t(a(L)(a(p).resistances.fire))+"% ("+t(a(p).resistances.fire)+")",1)])])]),e("div",Cs,[e("div",Vs,t(h.$t("characterSheet.statsDisplay.battle")),1),e("div",As,[e("div",Is,[e("div",Ws,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",Ps,t(h.$t("constants.damageInflicted")),1),Es,e("span",null,t(a(p).stats.damageInflicted)+"%",1)]),e("div",qs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",Ts,t(h.$t("characterSheet.statsDisplay.criticalHit")),1),Ms,e("span",null,t(a(p).stats.criticalHit)+"%",1)]),e("div",Ds,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Rs,t(h.$t("constants.initiative")),1),Us,e("span",null,t(a(p).stats.initiative),1)]),e("div",Ls,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Fs,t(h.$t("constants.dodge")),1),Os,e("span",null,t(a(p).stats.dodge),1)]),e("div",Ns,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",js,t(h.$t("constants.wisdom")),1),Hs,e("span",null,t(a(p).stats.wisdom),1)]),e("div",Bs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",zs,t(h.$t("constants.control")),1),Gs,e("span",null,t(a(p).stats.control),1)])]),e("div",Ys,[e("div",Js,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",Qs,t(h.$t("constants.healsPerformed")),1),Xs,e("span",null,t(a(p).stats.healsPerformed)+"%",1)]),e("div",Zs,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Ks,t(h.$t("characterSheet.statsDisplay.block")),1),ea,e("span",null,t(a(p).stats.block)+"%",1)]),e("div",ta,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",sa,t(h.$t("constants.range")),1),aa,e("span",null,t(a(p).stats.range),1)]),e("div",la,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",ia,t(h.$t("constants.lock")),1),na,e("span",null,t(a(p).stats.lock),1)]),e("div",oa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",ca,t(h.$t("constants.prospecting")),1),ra,e("span",null,t(a(p).stats.prospecting),1)]),e("div",ua,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",da,t(h.$t("constants.forceOfWill")),1),ma,e("span",null,t(a(p).stats.forceOfWill),1)])])])]),e("div",pa,[e("div",ha,t(h.$t("characterSheet.statsDisplay.secondary")),1),e("div",va,[e("div",fa,[e("div",ga,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",_a,t(h.$t("constants.criticalMastery")),1),ba,e("span",null,t(a(p).masteries.critical),1)]),e("div",$a,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",ya,t(h.$t("constants.rearMastery")),1),ka,e("span",null,t(a(p).masteries.rear),1)]),e("div",Sa,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",wa,t(h.$t("constants.meleeMastery")),1),xa,e("span",null,t(a(p).masteries.melee),1)]),e("div",Ca,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",Va,t(h.$t("constants.distanceMastery")),1),Aa,e("span",null,t(a(p).masteries.distance),1)]),e("div",Ia,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",Wa,t(h.$t("constants.healingMastery")),1),Pa,e("span",null,t(a(p).masteries.healing),1)]),e("div",Ea,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",qa,t(h.$t("constants.berserkMastery")),1),Ta,e("span",null,t(a(p).masteries.berserk),1)])]),e("div",Ma,[e("div",Da,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",Ra,t(h.$t("constants.criticalResistance")),1),Ua,e("span",null,t(a(p).resistances.critical),1)]),e("div",La,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Fa,t(h.$t("constants.rearResistance")),1),Oa,e("span",null,t(a(p).resistances.rear),1)]),e("div",Na,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",ja,t(h.$t("constants.armorGiven")),1),Ha,e("span",null,t(a(p).stats.armorGiven)+"%",1)]),e("div",Ba,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",za,t(h.$t("characterSheet.statsDisplay.armorReceived")),1),Ga,e("span",null,t(a(p).stats.armorReceived)+"%",1)]),e("div",Ya,[s(b,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Ja,t(h.$t("characterSheet.statsDisplay.indirectDamage")),1),Qa,e("span",null,t(a(p).stats.indirectDamage)+"%",1)])])])])]),e("div",Xa,[e("div",Za,t(h.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",Ka,[e("div",el,[e("div",tl,[e("div",sl,[(c(!0),u(Q,null,oe(T.value,S=>(c(),re(q,{key:S.id,duration:"0"},{content:d(()=>[e("div",ll,t(h.$t(S.name)),1)]),default:d(()=>[s(P,{modelValue:S.checked,"onUpdate:modelValue":C=>S.checked=C,binary:!0,class:"mastery-checkbox",onChange:C=>B(C,S.id)},{icon:d(C=>[e("div",al,[s(b,{class:ie(["checkbox-icon",{disabled:!C.checked}]),src:`https://tmktahu.github.io/WakfuAssets/statistics/${S.iconName}.png`,"image-style":"width: 20px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",il,[s(b,{src:"https://tmktahu.github.io/WakfuAssets/characteristics/223.png",style:{height:"20px"},"image-style":"height: 20px"}),e("span",nl,t(h.$t("tooltips.totalMastery")),1),ol,e("span",null,t(a(o)(I.value)),1)])])]),e("div",cl,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",rl,t(h.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:h.$t("characterSheet.statsDisplay.water")})),1),ul,e("span",null,t(a(n)("water")),1)]),e("div",dl,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ml,t(h.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:h.$t("characterSheet.statsDisplay.air")})),1),pl,e("span",null,t(a(n)("air")),1)]),e("div",hl,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",vl,t(h.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:h.$t("characterSheet.statsDisplay.earth")})),1),fl,e("span",null,t(a(n)("earth")),1)]),e("div",gl,[s(b,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",_l,t(h.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:h.$t("characterSheet.statsDisplay.fire")})),1),bl,e("span",null,t(a(n)("fire")),1)])])])):Z("",!0)}}},yl=ke($l,[["__scopeId","data-v-625c59f9"]]);const kl=m=>(Se("data-v-a7f58026"),m=m(),we(),m),Sl={class:"flex flex-column h-full"},wl={class:"text-xl font-bold",style:{"text-transform":"capitalize"}},xl={class:"mt-1"},Cl={class:"mt-3"},Vl={class:"guide-name"},Al=kl(()=>e("div",{class:"flex-grow-1"},null,-1)),Il={class:"guide-language"},Wl={class:"guide-description"},Pl={__name:"GuidesTabContent",setup(m){const p=be("currentCharacter"),L=de(()=>dt[p.value.class]),o=n=>{window.open(n.url,"_blank").focus()};return(n,I)=>{const T=W("p-divider"),B=W("p-button");return c(),u("div",Sl,[e("div",wl,t(n.$t("characterSheet.guidesContent.classGuides",{class:a(p).class})),1),e("div",xl,t(n.$t("characterSheet.guidesContent.doYouHaveAGuide")),1),e("div",Cl,[(c(!0),u(Q,null,oe(L.value,O=>(c(),u("div",{key:O.name,class:"guide-entry px-3 py-1 mb-2"},[e("div",Vl,t(O.name),1),Al,s(T,{layout:"vertical"}),e("div",Il,t((O.languages[0]?n.$t(O.languages[0]):"")+(O.languages[1]?", "+n.$t(O.languages[1]):"")+(O.languages[2]?", "+n.$t(O.languages[2]):"")),1),s(T,{layout:"vertical"}),e("div",Wl,t(O.description),1),s(B,{label:n.$t("characterSheet.guidesContent.openGuide"),class:"ml-2 py-1 px-3",style:{"min-width":"fit-content"},onClick:h=>o(O)},null,8,["label","onClick"])]))),128))]),s(T)])}}},El=ke(Pl,[["__scopeId","data-v-a7f58026"]]);const ql=m=>(Se("data-v-c1799ab4"),m=m(),we(),m),Tl={class:"flex align-items-center my-1"},Ml={class:"entry-label ml-2"},Dl=ql(()=>e("div",{class:"flex-grow-1"},null,-1)),Rl={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(m){return(p,L)=>{const o=W("p-image"),n=W("p-inputNumber");return c(),u("div",Tl,[s(o,{src:m.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",Ml,t(m.label),1),Dl,s(n,Be(p.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(m.maxOverride,m.remainingPoints+p.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:m.updateFunction}),null,16,["max","onInput"])])}}},te=ke(Rl,[["__scopeId","data-v-c1799ab4"]]);const Fe=m=>(Se("data-v-500c2792"),m=m(),we(),m),Ul={class:"flex flex-column h-full"},Ll={class:"characteristic-panels flex pb-3"},Fl={class:"flex flex-column flex-grow-1 mr-1"},Ol={class:"characteristics-category-header px-2 py-2"},Nl=Fe(()=>e("div",{class:"flex-grow-1"},null,-1)),jl={class:"flex flex-column px-2 py-1"},Hl={class:"characteristics-category-header px-2 py-2"},Bl=Fe(()=>e("div",{class:"flex-grow-1"},null,-1)),zl={class:"flex flex-column px-2 py-1"},Gl={class:"characteristics-category-header px-2 py-2"},Yl=Fe(()=>e("div",{class:"flex-grow-1"},null,-1)),Jl={class:"flex flex-column px-2 py-1"},Ql={class:"flex flex-column flex-grow-1 ml-1"},Xl={class:"characteristics-category-header px-2 py-2"},Zl=Fe(()=>e("div",{class:"flex-grow-1"},null,-1)),Kl={class:"flex flex-column px-2 py-1"},ei={class:"characteristics-category-header px-2 py-2"},ti=Fe(()=>e("div",{class:"flex-grow-1"},null,-1)),si={class:"flex flex-column px-2 py-1"},ai={__name:"CharacteristicsTabContent",setup(m,{expose:p}){const L=be("masterData"),o=be("currentCharacter"),n=_(!1),I=de(()=>n.value?10:1);mt(()=>{document.addEventListener("keydown",l=>{T(l)}),document.addEventListener("keyup",l=>{T(l)})});const T=l=>{l.shiftKey?n.value=!0:n.value=!1},B=_(o.value.characteristics.intelligence.percentHealthPoints),O=_(o.value.characteristics.intelligence.elementalResistance),h=_(o.value.characteristics.intelligence.barrier),J=_(o.value.characteristics.intelligence.percentHealsReceived),b=_(o.value.characteristics.intelligence.percentArmorHeathPoints),P=_(o.value.characteristics.strength.elementalMastery),q=_(o.value.characteristics.strength.meleeMastery),S=_(o.value.characteristics.strength.distanceMastery),C=_(o.value.characteristics.strength.healthPoints),f=_(o.value.characteristics.agility.lock),N=_(o.value.characteristics.agility.dodge),w=_(o.value.characteristics.agility.initiative),V=_(o.value.characteristics.agility.lockAndDodge),ne=_(o.value.characteristics.agility.forceOfWill),D=_(o.value.characteristics.fortune.percentCriticalHit),U=_(o.value.characteristics.fortune.percentBlock),ue=_(o.value.characteristics.fortune.criticalMastery),X=_(o.value.characteristics.fortune.rearMastery),$=_(o.value.characteristics.fortune.berserkMastery),R=_(o.value.characteristics.fortune.healingMastery),H=_(o.value.characteristics.fortune.rearResistance),ae=_(o.value.characteristics.fortune.criticalResistance),_e=_(o.value.characteristics.major.actionPoints),K=_(o.value.characteristics.major.movementPointsAndDamage),le=_(o.value.characteristics.major.rangeAndDamage),j=_(o.value.characteristics.major.wakfuPoints),me=_(o.value.characteristics.major.controlAndDamage),pe=_(o.value.characteristics.major.percentDamageInflicted),y=_(o.value.characteristics.major.elementalResistance),v=l=>{let i=0;return l==="intelligence"?i=B.value+O.value+h.value+J.value+b.value:l==="strength"?i=P.value+q.value+S.value+C.value:l==="agility"?i=f.value+N.value+w.value+V.value+ne.value:l==="fortune"?i=D.value+U.value+ue.value+X.value+$.value+R.value+H.value+ae.value:l==="major"&&(i=_e.value+K.value+le.value+j.value+me.value+pe.value+y.value),o.value.characteristics.limits[l]-i},Y=()=>{o.value.characteristics.intelligence.percentHealthPoints=B.value,o.value.characteristics.intelligence.elementalResistance=O.value,o.value.characteristics.intelligence.barrier=h.value,o.value.characteristics.intelligence.percentHealsReceived=J.value,o.value.characteristics.intelligence.percentArmorHeathPoints=b.value,o.value.characteristics.strength.elementalMastery=P.value,o.value.characteristics.strength.meleeMastery=q.value,o.value.characteristics.strength.distanceMastery=S.value,o.value.characteristics.strength.healthPoints=C.value,o.value.characteristics.agility.lock=f.value,o.value.characteristics.agility.dodge=N.value,o.value.characteristics.agility.initiative=w.value,o.value.characteristics.agility.lockAndDodge=V.value,o.value.characteristics.agility.forceOfWill=ne.value,o.value.characteristics.fortune.percentCriticalHit=D.value,o.value.characteristics.fortune.percentBlock=U.value,o.value.characteristics.fortune.criticalMastery=ue.value,o.value.characteristics.fortune.rearMastery=X.value,o.value.characteristics.fortune.berserkMastery=$.value,o.value.characteristics.fortune.healingMastery=R.value,o.value.characteristics.fortune.rearResistance=H.value,o.value.characteristics.fortune.criticalResistance=ae.value,o.value.characteristics.major.actionPoints=_e.value,o.value.characteristics.major.movementPointsAndDamage=K.value,o.value.characteristics.major.rangeAndDamage=le.value,o.value.characteristics.major.wakfuPoints=j.value,o.value.characteristics.major.controlAndDamage=me.value,o.value.characteristics.major.percentDamageInflicted=pe.value,o.value.characteristics.major.elementalResistance=y.value};qe(L,lt.debounce(()=>{B.value=o.value.characteristics.intelligence.percentHealthPoints,O.value=o.value.characteristics.intelligence.elementalResistance,h.value=o.value.characteristics.intelligence.barrier,J.value=o.value.characteristics.intelligence.percentHealsReceived,b.value=o.value.characteristics.intelligence.percentArmorHeathPoints,P.value=o.value.characteristics.strength.elementalMastery,q.value=o.value.characteristics.strength.meleeMastery,S.value=o.value.characteristics.strength.distanceMastery,C.value=o.value.characteristics.strength.healthPoints,f.value=o.value.characteristics.agility.lock,N.value=o.value.characteristics.agility.dodge,w.value=o.value.characteristics.agility.initiative,V.value=o.value.characteristics.agility.lockAndDodge,ne.value=o.value.characteristics.agility.forceOfWill,D.value=o.value.characteristics.fortune.percentCriticalHit,U.value=o.value.characteristics.fortune.percentBlock,ue.value=o.value.characteristics.fortune.criticalMastery,X.value=o.value.characteristics.fortune.rearMastery,$.value=o.value.characteristics.fortune.berserkMastery,R.value=o.value.characteristics.fortune.healingMastery,H.value=o.value.characteristics.fortune.rearResistance,ae.value=o.value.characteristics.fortune.criticalResistance,_e.value=o.value.characteristics.major.actionPoints,K.value=o.value.characteristics.major.movementPointsAndDamage,le.value=o.value.characteristics.major.rangeAndDamage,j.value=o.value.characteristics.major.wakfuPoints,me.value=o.value.characteristics.major.controlAndDamage,pe.value=o.value.characteristics.major.percentDamageInflicted,y.value=o.value.characteristics.major.elementalResistance},100));const Me=de(()=>v("intelligence")<0||v("strength")<0||v("agility")<0||v("fortune")<0||v("major")<0),De=de(()=>v("intelligence")>0||v("strength")>0||v("agility")>0||v("fortune")>0||v("major")>0);return p({hasCharacteristicsError:Me,hasCharacteristicsPointsToSpend:De}),(l,i)=>{var F,M,se,he,Ie,Ce,We,g,x,ce,r,E,ee,ve,xe;return c(),u("div",Ul,[e("div",Ll,[e("div",Fl,[e("div",{class:ie(["category-wrapper flex flex-column",{error:v("intelligence")<0}])},[e("div",Ol,[e("span",null,t(l.$t("characterSheet.characteristicsContent.intelligence")),1),Nl,e("span",null,t(v("intelligence"))+"/"+t((se=(M=(F=a(o))==null?void 0:F.characteristics)==null?void 0:M.limits)==null?void 0:se.intelligence)+" "+t(l.$t("characterSheet.characteristicsContent.points")),1)]),e("div",jl,[s(te,{modelValue:B.value,"onUpdate:modelValue":i[0]||(i[0]=A=>B.value=A),label:l.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":v("intelligence"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:O.value,"onUpdate:modelValue":i[1]||(i[1]=A=>O.value=A),label:l.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":v("intelligence"),"update-function":Y,"max-override":10,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:h.value,"onUpdate:modelValue":i[2]||(i[2]=A=>h.value=A),label:l.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":v("intelligence"),"update-function":Y,"max-override":10,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:J.value,"onUpdate:modelValue":i[3]||(i[3]=A=>J.value=A),label:l.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":v("intelligence"),"update-function":Y,"max-override":5,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:b.value,"onUpdate:modelValue":i[4]||(i[4]=A=>b.value=A),label:l.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":v("intelligence"),"update-function":Y,"max-override":10,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column mt-2",{error:v("strength")<0}])},[e("div",Hl,[e("span",null,t(l.$t("characterSheet.characteristicsContent.strength")),1),Bl,e("span",null,t(v("strength"))+"/"+t((Ce=(Ie=(he=a(o))==null?void 0:he.characteristics)==null?void 0:Ie.limits)==null?void 0:Ce.strength)+" "+t(l.$t("characterSheet.characteristicsContent.points")),1)]),e("div",zl,[s(te,{modelValue:P.value,"onUpdate:modelValue":i[5]||(i[5]=A=>P.value=A),label:l.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":v("strength"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:q.value,"onUpdate:modelValue":i[6]||(i[6]=A=>q.value=A),label:l.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":v("strength"),"update-function":Y,"max-override":40,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:S.value,"onUpdate:modelValue":i[7]||(i[7]=A=>S.value=A),label:l.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":v("strength"),"update-function":Y,"max-override":40,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:C.value,"onUpdate:modelValue":i[8]||(i[8]=A=>C.value=A),label:l.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":v("strength"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column mt-2",{error:v("agility")<0}])},[e("div",Gl,[e("span",null,t(l.$t("characterSheet.characteristicsContent.agility")),1),Yl,e("span",null,t(v("agility"))+"/"+t((x=(g=(We=a(o))==null?void 0:We.characteristics)==null?void 0:g.limits)==null?void 0:x.agility)+" "+t(l.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Jl,[s(te,{modelValue:f.value,"onUpdate:modelValue":i[9]||(i[9]=A=>f.value=A),label:l.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":v("agility"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:N.value,"onUpdate:modelValue":i[10]||(i[10]=A=>N.value=A),label:l.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":v("agility"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:w.value,"onUpdate:modelValue":i[11]||(i[11]=A=>w.value=A),label:l.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":v("agility"),"update-function":Y,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:V.value,"onUpdate:modelValue":i[12]||(i[12]=A=>V.value=A),label:l.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":v("agility"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:ne.value,"onUpdate:modelValue":i[13]||(i[13]=A=>ne.value=A),label:l.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":v("agility"),"update-function":Y,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",Ql,[e("div",{class:ie(["category-wrapper flex flex-column flex-grow-1",{error:v("fortune")<0}])},[e("div",Xl,[e("span",null,t(l.$t("characterSheet.characteristicsContent.fortune")),1),Zl,e("span",null,t(v("fortune"))+"/"+t((E=(r=(ce=a(o))==null?void 0:ce.characteristics)==null?void 0:r.limits)==null?void 0:E.fortune)+" "+t(l.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Kl,[s(te,{modelValue:D.value,"onUpdate:modelValue":i[14]||(i[14]=A=>D.value=A),label:l.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":v("fortune"),"update-function":Y,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:U.value,"onUpdate:modelValue":i[15]||(i[15]=A=>U.value=A),label:l.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":v("fortune"),"update-function":Y,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:ue.value,"onUpdate:modelValue":i[16]||(i[16]=A=>ue.value=A),label:l.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":v("fortune"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:X.value,"onUpdate:modelValue":i[17]||(i[17]=A=>X.value=A),label:l.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":v("fortune"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:$.value,"onUpdate:modelValue":i[18]||(i[18]=A=>$.value=A),label:l.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":v("fortune"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:R.value,"onUpdate:modelValue":i[19]||(i[19]=A=>R.value=A),label:l.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":v("fortune"),"update-function":Y,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:H.value,"onUpdate:modelValue":i[20]||(i[20]=A=>H.value=A),label:l.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":v("fortune"),"update-function":Y,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:ae.value,"onUpdate:modelValue":i[21]||(i[21]=A=>ae.value=A),label:l.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":v("fortune"),"update-function":Y,"max-override":20,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:v("major")<0}])},[e("div",ei,[e("span",null,t(l.$t("characterSheet.characteristicsContent.major")),1),ti,e("span",null,t(v("major"))+"/"+t((xe=(ve=(ee=a(o))==null?void 0:ee.characteristics)==null?void 0:ve.limits)==null?void 0:xe.major)+" "+t(l.$t("characterSheet.characteristicsContent.points")),1)]),e("div",si,[s(te,{modelValue:_e.value,"onUpdate:modelValue":i[22]||(i[22]=A=>_e.value=A),label:l.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":v("major"),"update-function":Y,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:K.value,"onUpdate:modelValue":i[23]||(i[23]=A=>K.value=A),label:l.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":v("major"),"update-function":Y,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:le.value,"onUpdate:modelValue":i[24]||(i[24]=A=>le.value=A),label:l.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":v("major"),"update-function":Y,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:j.value,"onUpdate:modelValue":i[25]||(i[25]=A=>j.value=A),label:l.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":v("major"),"update-function":Y,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:me.value,"onUpdate:modelValue":i[26]||(i[26]=A=>me.value=A),label:l.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":v("major"),"update-function":Y,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:pe.value,"onUpdate:modelValue":i[27]||(i[27]=A=>pe.value=A),label:l.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":v("major"),"update-function":Y,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"]),s(te,{modelValue:y.value,"onUpdate:modelValue":i[28]||(i[28]=A=>y.value=A),label:l.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":v("major"),"update-function":Y,"max-override":1,step:I.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},li=ke(ai,[["__scopeId","data-v-500c2792"]]);const ct=m=>(Se("data-v-a7caaa62"),m=m(),we(),m),ii={class:"flex align-items-center flex-wrap mt-3"},ni={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},oi={class:"checkmarks-container flex gap-2"},ci={class:"rarity-container mt-2"},ri={class:"flex align-items-center mb-1"},ui=ct(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),di={class:"simple-tooltip"},mi={class:"mr-2 ml-1"},pi={class:"rarity-button-wrapper"},hi={class:"flex justify-content-center align-items-center"},vi={class:"simple-tooltip"},fi={class:"item-types-container mt-2"},gi={class:"flex align-items-center justify-content-center mb-1 w-full"},_i=ct(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),bi={class:"simple-tooltip"},$i={class:"mr-2 ml-1"},yi={class:"simple-tooltip"},ki={class:"item-types-button-wrapper"},Si={class:"filter-category-wrapper"},wi={class:"flex justify-content-center align-items-center"},xi={class:"simple-tooltip"},Ci={class:"filter-category-wrapper"},Vi={class:"flex justify-content-center align-items-center"},Ai={class:"simple-tooltip"},Ii={class:"filter-category-wrapper"},Wi={class:"flex justify-content-center align-items-center"},Pi={class:"simple-tooltip"},Ei={class:"filter-list-wrapper mt-3"},qi={class:"px-2 py-1"},Ti={class:"px-2 py-1"},Mi={__name:"ItemFilters",setup(m){const p=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],o=[z.healthPoints.id,z.healingMastery.id,z.actionPoints.id,z.movementPoints.id,z.rearResistance.id,z.elementalResistance.id,z.fireResistance.id,z.waterResistance.id,z.earthResistance.id,z.airResistance.id,z.elementalMastery.id,z.fireMastery.id,z.earthMastery.id,z.waterMastery.id,z.airMastery.id,z.criticalMastery.id,z.criticalHit.id,z.range.id,z.prospecting.id,z.wisdom.id,z.initiative.id,z.lock.id,z.dodge.id,z.forceOfWill.id,z.rearMastery.id,z.control.id,z.wakfuPoints.id,z.percentBlock.id,z.criticalResistance.id,z.meleeMastery.id,z.distanceMastery.id,z.berserkMastery.id,z.randomElementalMasteries.id,z.randomElementalResistances.id,z.harvestingQuantity.id,z.armorGiven.id,z.armorReceived.id].map($=>({value:$,text:z[$].text})),n=be("itemFilters"),I=_(""),T=_([n.startLevel,n.endLevel]),B=_([]),O=_(n.rarityFilters),h=_(n.itemTypeFilters),J=_(!1),b=()=>{f()},P=($,R)=>{R==="min"&&(T.value[0]=$.value),R==="max"&&(T.value[1]=$.value),f()},q=()=>{f()},S=($,R)=>{$.ctrlKey&&n.itemTypeFilters.forEach(H=>{H.id!==R?H.checked=!1:H.checked=!0}),f()},C=($,R)=>{$.ctrlKey&&n.rarityFilters.forEach(H=>{H.id!==R?H.checked=!1:H.checked=!0}),f()},f=lt.debounce($=>{var R;n.searchTerm=I.value,n.startLevel=T.value[0],n.endLevel=T.value[1],n.effectFilters=B.value,n.rarityFilters=O.value,$&&((R=$.rawIds)!=null&&R.length)?N($):n.itemTypeFilters=h.value},100),N=$=>{$.rawIds.forEach(R=>{let H=h.value.find(ae=>ae.rawId===R);H.checked=$.checked})},w=()=>{let $={type:o[0],comparator:p[2],value:0};B.value.push($),f()},V=$=>{let R=B.value.indexOf($);B.value.splice(R,1),f()},ne=()=>{n.resetFilters(),I.value=n.searchTerm,T.value[0]=n.startLevel,T.value[1]=n.endLevel,B.value=n.effectFilters,O.value=n.rarityFilters,h.value=n.itemTypeFilters},D=()=>{n.rarityFilters.forEach($=>{$.checked=!0}),f()},U=()=>{n.rarityFilters.forEach($=>{$.checked=!1}),f()},ue=()=>{n.itemTypeFilters.forEach($=>{$.checked=!0}),f()},X=()=>{n.itemTypeFilters.forEach($=>{$.checked=!1}),f()};return($,R)=>{const H=W("p-inputText"),ae=W("p-inputNumber"),_e=W("p-slider"),K=W("p-button"),le=W("tippy"),j=W("p-image"),me=W("p-checkbox"),pe=W("p-dropdown");return c(),u(Q,null,[e("div",ii,[s(H,{modelValue:I.value,"onUpdate:modelValue":R[0]||(R[0]=y=>I.value=y),placeholder:$.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:b},null,8,["modelValue","placeholder"]),e("div",ni,[s(ae,{modelValue:T.value[0],"onUpdate:modelValue":R[1]||(R[1]=y=>T.value[0]=y),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:R[2]||(R[2]=y=>P(y,"min"))},null,8,["modelValue"]),s(_e,{modelValue:T.value,"onUpdate:modelValue":R[3]||(R[3]=y=>T.value=y),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:q},null,8,["modelValue"]),s(ae,{modelValue:T.value[1],"onUpdate:modelValue":R[4]||(R[4]=y=>T.value[1]=y),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:R[5]||(R[5]=y=>P(y,"max"))},null,8,["modelValue"])]),s(K,{class:"filter-button",label:$.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:ne},null,8,["label"])]),e("div",oi,[e("div",ci,[e("div",ri,[s(K,{class:"filter-button item-filter-action mr-2",label:$.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:D},null,8,["label"]),s(le,{placement:"top"},{content:d(()=>[e("div",di,t($.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[ui]),_:1}),e("div",mi,t($.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(K,{class:"filter-button item-filter-action",label:$.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:U},null,8,["label"])]),e("div",pi,[(c(!0),u(Q,null,oe(O.value,y=>(c(),re(le,{key:y.id,duration:"0"},{content:d(()=>[e("div",vi,t($.$t(y.name)),1)]),default:d(()=>[s(me,{modelValue:y.checked,"onUpdate:modelValue":v=>y.checked=v,binary:!0,class:"rarity-checkbox",onChange:v=>C(v,y.id)},{icon:d(v=>[e("div",hi,[s(j,{class:ie({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${y.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",fi,[e("div",gi,[s(K,{class:"filter-button item-filter-action mr-2",label:$.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:ue},null,8,["label"]),s(le,{placement:"top"},{content:d(()=>[e("div",bi,t($.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[_i]),_:1}),e("div",$i,t($.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(le,null,{content:d(()=>[e("div",yi,t($.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:d(()=>[s(me,{modelValue:J.value,"onUpdate:modelValue":R[6]||(R[6]=y=>J.value=y),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(K,{class:"filter-button item-filter-action",label:$.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:X},null,8,["label"])]),e("div",ki,[e("div",Si,[(c(!0),u(Q,null,oe(h.value.filter(y=>y.category==="armor"),y=>(c(),u(Q,{key:y.id},[!y.advanced||J.value?(c(),re(le,{key:0,duration:"0"},{content:d(()=>[e("div",xi,t($.$t(y.name)),1)]),default:d(()=>[s(me,{modelValue:y.checked,"onUpdate:modelValue":v=>y.checked=v,binary:!0,class:"item-type-checkbox",onChange:v=>S(v,y.id)},{icon:d(v=>[e("div",wi,[y.rawId?(c(),re(j,{key:0,class:ie({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(j,{key:1,class:ie({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):Z("",!0)],64))),128))]),e("div",Ci,[(c(!0),u(Q,null,oe(h.value.filter(y=>y.category==="weapons"),y=>(c(),u(Q,{key:y.id},[!y.advanced||J.value?(c(),re(le,{key:0,duration:"0"},{content:d(()=>[e("div",Ai,t($.$t(y.name)),1)]),default:d(()=>[s(me,{modelValue:y.checked,"onUpdate:modelValue":v=>y.checked=v,binary:!0,class:"item-type-checkbox",onChange:v=>a(f)(y)},{icon:d(v=>[e("div",Vi,[y.rawId?(c(),re(j,{key:0,class:ie({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(j,{key:1,class:ie({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):Z("",!0)],64))),128))]),e("div",Ii,[(c(!0),u(Q,null,oe(h.value.filter(y=>y.category==="miscellaneous"),y=>(c(),u(Q,{key:y.id},[!y.advanced||J.value?(c(),re(le,{key:0,duration:"0"},{content:d(()=>[e("div",Pi,t($.$t(y.name)),1)]),default:d(()=>[s(me,{modelValue:y.checked,"onUpdate:modelValue":v=>y.checked=v,binary:!0,class:"item-type-checkbox",onChange:a(f)},{icon:d(v=>[e("div",Wi,[y.rawId?(c(),re(j,{key:0,class:ie({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(c(),re(j,{key:1,class:ie({disabled:!v.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):Z("",!0)],64))),128))])])])]),e("div",Ei,[s(K,{icon:"pi pi-plus",class:"filter-button",label:$.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:w},null,8,["label"]),(c(!0),u(Q,null,oe(B.value,y=>(c(),u("div",{key:y.id,class:"filter-entry"},[s(pe,{modelValue:y.type,"onUpdate:modelValue":v=>y.type=v,class:"filter-type-dropdown",options:a(o),filter:"","auto-filter-focus":"","option-label":"text",onChange:a(f)},{value:d(v=>[fe(t($.$t(v.value.text)),1)]),option:d(v=>[e("div",qi,t($.$t(v.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(pe,{modelValue:y.comparator,"onUpdate:modelValue":v=>y.comparator=v,class:"filter-comparator-dropdown",options:p,"option-label":"text",onChange:a(f)},{value:d(v=>[fe(t(v.value.symbol),1)]),option:d(v=>[e("div",Ti,t($.$t(v.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(ae,{modelValue:y.value,"onUpdate:modelValue":v=>y.value=v,class:"filter-value-input","allow-empty":!1,onInput:a(f)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(K,{class:"remove-filter-button",icon:"pi pi-trash",onClick:v=>V(y)},null,8,["onClick"])]))),128))])],64)}}},Di=ke(Mi,[["__scopeId","data-v-a7caaa62"]]);const rt=m=>(Se("data-v-adeaf884"),m=m(),we(),m),Ri={key:0,class:"item-card with-stats flex flex-column"},Ui={class:"flex px-2 py-2 relative"},Li={class:"flex flex-column ml-1"},Fi={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Oi={class:"flex"},Ni={key:0},ji={key:1},Hi={key:2,class:"ml-1"},Bi=rt(()=>e("div",{class:"flex-grow-1"},null,-1)),zi={class:"flex flex-column gap-1"},Gi={class:"flex w-full",style:{"overflow-y":"auto"}},Yi={class:"item-card"},Ji={key:0,class:"slot-label text-center pt-1 pb-1"},Qi={class:"flex px-2 py-2 relative"},Xi={class:"flex flex-column ml-1"},Zi={class:"flex align-items-center"},Ki={key:0,class:"text-sm"},en={key:1,class:"text-sm"},tn={key:2,class:"ml-1"},sn=rt(()=>e("div",{class:"flex-grow-1"},null,-1)),an={class:"flex flex-column"},ln={class:"simple-tooltip"},nn={key:0,class:"flex ml-1"},on={class:"simple-tooltip"},cn={key:0,class:"item-card-tooltip"},rn={key:0,class:"effect-header existing-item flex pt-2 px-1"},un={class:"flex flex-column ml-1"},dn={class:"item-name mr-2"},mn={class:"flex align-items-center"},pn={key:0,class:"text-sm"},hn={key:1,class:"text-sm"},vn={key:2,class:"ml-1"},fn={class:"ml-1"},gn={class:"effect-header flex pt-2 px-1"},_n={class:"flex flex-column ml-1"},bn={class:"item-name mr-2"},$n={class:"flex"},yn={key:0},kn={key:1},Sn={key:2,class:"ml-1"},wn={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1},withComparisons:{type:Boolean,default:!1},withExcludeButton:{type:Boolean,default:!1},withStats:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},emits:["excludeItem"],setup(m,{emit:p}){let L=p,o=m,n=document;const I=Qe(),T=be("currentCharacter"),{getItemEncyclopediaUrl:B}=bt(),{equipItem:O}=ze(T),h=de(()=>{var N,w,V;let C=o.item.type.validSlots[0],f=(N=T==null?void 0:T.value)==null?void 0:N.equipment[C];return f&&((w=f.item)==null?void 0:w.id)!==((V=o.item)==null?void 0:V.id)?f.item:null}),J=(S,C)=>{O(S,C,I)},b=S=>{L("excludeItem",S)},P=S=>{let C=B(S);window.open(C,"_blank")},q=S=>it.find(C=>C.id===S).color;return(S,C)=>{const f=W("p-image"),N=W("p-button"),w=W("tippy");return m.withStats?(c(),u("div",Ri,[e("div",Ui,[e("div",{class:"rarity-background-color",style:Ge(`background-color: ${q(m.item.rarity)}`)},null,4),s(f,{src:`https://tmktahu.github.io/WakfuAssets/items/${m.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Li,[e("div",Fi,t(S.$t(`items.${m.item.id}`)),1),e("div",Oi,[s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${m.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Ne).includes(m.item.type.id)?(c(),u("div",Ni,t(S.$t("characterSheet.equipmentContent.itemLevel"))+": "+t(m.item.id===12237?"25":"50"),1)):(c(),u("div",ji,"Lvl: "+t(m.item.level),1)),m.item.type.validSlots[0]===a(ye).FIRST_WEAPON.id?(c(),u("div",Hi,t(m.item.type.disabledSlots.includes(a(ye).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Z("",!0)])]),Bi,e("div",zi,[s(N,{icon:"pi pi-plus",class:"equip-button",onClick:C[0]||(C[0]=V=>J(m.item,V))}),s(N,{icon:"pi pi-question-circle",class:"equip-button",onClick:C[1]||(C[1]=V=>P(m.item))})])]),e("div",Gi,[s(Ee,{"card-mode":"",item:m.item,"with-totals":m.withTotals,"with-comparisons":m.withComparisons,class:"w-full"},null,8,["item","with-totals","with-comparisons"])])])):(c(),re(Le,{key:1,delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>a(n).body,sticky:m.sticky,"max-width":500,inline:""},{trigger:d(()=>[e("div",Yi,[m.withSlotLabel?(c(),u("div",Ji,t(m.item.type.validSlots[0]==="LEFT_HAND"?"Ring":S.$t(a(ye)[m.item.type.validSlots[0]].name))+" Slot ",1)):Z("",!0),e("div",Qi,[e("div",{class:"rarity-background-color",style:Ge(`background-color: ${q(m.item.rarity)}`)},null,4),s(f,{src:`https://tmktahu.github.io/WakfuAssets/items/${m.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Xi,[e("div",{class:"item-name mr-2 truncate",style:Ge(`max-width: ${m.withExcludeButton?"116px":"15ch"}`)},t(S.$t(`items.${m.item.id}`)),5),e("div",Zi,[s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${m.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Ne).includes(m.item.type.id)?(c(),u("div",Ki,t(S.$t("tooltips.itemLevel"))+": "+t(m.item.id===12237?"25":"50"),1)):(c(),u("div",en,"Lvl: "+t(m.item.level),1)),m.item.type.validSlots[0]===a(ye).FIRST_WEAPON.id?(c(),u("div",tn,t(m.item.type.disabledSlots.includes(a(ye).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Z("",!0)])]),sn,e("div",an,[s(N,{icon:"pi pi-plus",class:"action-button mb-1",onClick:C[2]||(C[2]=V=>J(m.item,V))}),s(w,{placement:"left"},{content:d(()=>[e("div",ln,t(S.$t("tooltips.openEncyclopediaPage")),1)]),default:d(()=>[s(N,{icon:"pi pi-question-circle",class:"action-button",onClick:C[3]||(C[3]=V=>P(m.item))})]),_:1})]),m.withExcludeButton?(c(),u("div",nn,[s(w,{placement:"left"},{content:d(()=>[e("div",on,t(S.$t("tooltips.excludeItem")),1)]),default:d(()=>[s(N,{icon:"pi pi-ban",class:"exclude-button",onClick:C[4]||(C[4]=V=>b(m.item))})]),_:1})])):Z("",!0)])])]),content:d(()=>[m.item?(c(),u("div",cn,[h.value&&m.withComparisons?(c(),u("div",rn,[s(f,{src:`https://tmktahu.github.io/WakfuAssets/items/${h.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",un,[e("div",dn,t(S.$t(`items.${h.value.id}`)),1),e("div",mn,[s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${h.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${h.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Ne).includes(h.value.type.id)?(c(),u("div",pn,t(S.$t("tooltips.itemLevel"))+": "+t(h.value.id===12237?"25":"50"),1)):(c(),u("div",hn,"Lvl: "+t(h.value.level),1)),h.value.type.validSlots[0]===a(ye).FIRST_WEAPON.id?(c(),u("div",vn,t(h.value.type.disabledSlots.includes(a(ye).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Z("",!0),e("div",fn,"("+t(S.$t("tooltips.equipped"))+")",1)])])])):Z("",!0),s(Ee,{item:m.item,"with-comparisons":m.withComparisons,"with-totals":m.withTotals},null,8,["item","with-comparisons","with-totals"]),e("div",gn,[s(f,{src:`https://tmktahu.github.io/WakfuAssets/items/${m.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",_n,[e("div",bn,t(S.$t(`items.${m.item.id}`)),1),e("div",$n,[s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${m.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(f,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${m.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Ne).includes(m.item.type.id)?(c(),u("div",yn,t(S.$t("tooltips.itemLevel"))+": "+t(m.item.id===12237?"25":"50"),1)):(c(),u("div",kn,"Lvl: "+t(m.item.level),1)),m.item.type.validSlots[0]===a(ye).FIRST_WEAPON.id?(c(),u("div",Sn,t(m.item.type.disabledSlots.includes(a(ye).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):Z("",!0)])])])])):Z("",!0)]),_:1},8,["append-to","sticky"]))}}},ut=ke(wn,[["__scopeId","data-v-adeaf884"]]),xn={class:"flex align-items-center"},Cn={class:"mx-2"},Vn=e("i",{class:"mdi mdi-information-outline"},null,-1),An={class:"simple-tooltip"},ge={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(m){return(p,L)=>{const o=W("p-checkbox"),n=W("tippy");return c(),u("div",xn,[s(o,Be(p.$attrs,{binary:!0}),null,16),e("div",Cn,t(m.label),1),m.tooltipText?(c(),re(n,{key:0,placement:"left",duration:"0"},{content:d(()=>[e("div",An,t(m.tooltipText),1)]),default:d(()=>[Vn]),_:1})):Z("",!0)])}}};const In=m=>(Se("data-v-ebdb1ac0"),m=m(),we(),m),Wn={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},Pn={class:"flex"},En={class:"flex flex-wrap gap-2"},qn={class:"px-2 py-1"},Tn={class:"px-2 py-1"},Mn={class:"flex align-items-center gap-4 mt-2"},Dn=In(()=>e("div",{class:"flex-grow-1"},null,-1)),Rn={class:"ml-2"},Un={key:0,class:"flex"},Ln={key:1},Fn={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},On={class:"text-center mt-2"},Nn={class:"flex justify-content-center"},jn={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Hn={__name:"EquipmentTabContent",setup(m,{expose:p}){Qe(),Xe();const L=be("currentCharacter"),o=be("currentItemList"),n=be("itemListLoading"),I=be("itemFilters"),T=_(null),B=_(4),{getNumTotalItems:O}=ze(),h=()=>{B.value=Math.floor((T.value.clientWidth-16)/(P.value?310+5:230+5))};window.addEventListener("resize",h);let J=de(()=>{let w=[],V=[];return o.value.forEach(ne=>{V.length===B.value?(w.push(V),V=[ne]):V.push(ne)}),V.length>0&&w.push(V),w.length===0&&w.push([]),w});const b=_(!1),P=_(!1),q=_(!1),S=_(!1),C=()=>{b.value=!0,Ue(()=>{h()})};qe(P,()=>{Ue(()=>{b.value=!1,Ue(()=>{b.value=!0,Ue(()=>{h()})})})});const f=()=>{let w={sortBy:et[0],sortOrder:tt[0]};I.sortingParams.push(w)},N=w=>{let V=I.sortingParams.indexOf(w);I.sortingParams.splice(V,1)};return p({showList:C}),(w,V)=>{const ne=W("p-divider"),D=W("p-button"),U=W("p-dropdown"),ue=W("p-virtualScroller"),X=W("p-progressSpinner");return c(),u("div",Wn,[s(ot,{character:a(L),"with-totals":q.value,"with-default-elem-selector":""},null,8,["character","with-totals"]),s(Di),s(ne,{class:"mt-2 mb-2"}),e("div",Pn,[e("div",En,[s(D,{icon:"pi pi-plus",class:"filter-button",label:w.$t("characterSheet.equipmentContent.newSort"),onClick:f},null,8,["label"]),(c(!0),u(Q,null,oe(a(I).sortingParams,($,R)=>(c(),u("div",{key:R,class:"filter-entry"},[s(U,{modelValue:$.sortBy,"onUpdate:modelValue":H=>$.sortBy=H,class:"filter-type-dropdown","option-label":"label",filter:"","auto-filter-focus":"",options:a(et)},{value:d(H=>[fe(t(w.$t(H.value.label)),1)]),option:d(H=>[e("div",qn,t(w.$t(H.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(U,{modelValue:$.sortOrder,"onUpdate:modelValue":H=>$.sortOrder=H,class:"filter-comparator-dropdown","option-label":"label",options:a(tt)},{value:d(H=>[fe(t(w.$t(H.value.label)),1)]),option:d(H=>[e("div",Tn,t(w.$t(H.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(D,{class:"remove-filter-button",icon:"pi pi-trash",onClick:H=>N($)},null,8,["onClick"])]))),128))])]),s(ne,{class:"mt-2 mb-2"}),e("div",Mn,[s(ge,{modelValue:P.value,"onUpdate:modelValue":V[0]||(V[0]=$=>P.value=$),label:w.$t("characterSheet.equipmentContent.displayStats")},null,8,["modelValue","label"]),s(ge,{modelValue:q.value,"onUpdate:modelValue":V[1]||(V[1]=$=>q.value=$),label:w.$t("characterSheet.equipmentContent.displayTotals")},null,8,["modelValue","label"]),s(ge,{modelValue:S.value,"onUpdate:modelValue":V[2]||(V[2]=$=>S.value=$),label:w.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"]),Dn,e("div",Rn,t(a(o).length)+" "+t(w.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(a(O)())+" "+t(w.$t("characterSheet.equipmentContent.itemsTotal")),1)]),b.value&&!a(n)?(c(),u("div",{key:0,ref_key:"itemResultsWrapper",ref:T,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(ue,{items:a(J),"item-size":[P.value?215:65,P.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:d(({item:$})=>[a(J)[0].length>0?(c(),u("div",Un,[(c(!0),u(Q,null,oe($,(R,H)=>(c(),re(ut,{key:H,item:R,"with-totals":q.value,"with-comparisons":S.value,"with-stats":P.value},null,8,["item","with-totals","with-comparisons","with-stats"]))),128))])):(c(),u("div",Ln,t(w.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(c(),u("div",Fn,[e("div",On,t(w.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Nn,[e("div",jn,[s(X,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(X,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},Bn=ke(Hn,[["__scopeId","data-v-ebdb1ac0"]]);const Ve=m=>(Se("data-v-22a133ae"),m=m(),we(),m),zn={class:"w-full h-full"},Gn=Ve(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Yn={class:"simple-tooltip"},Jn={class:"flex mt-2"},Qn={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},Xn={class:"disabled-mask"},Zn=Ve(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Kn={key:1,class:"spell-button disabled"},eo={class:"disabled-mask"},to={class:"mt-3"},so=Ve(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),ao={class:"simple-tooltip"},lo={class:"flex mt-2"},io={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},no={key:0},oo=["onClick"],co=Ve(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),ro={class:"spell-tooltip"},uo={class:"spell-name px-2 py-1"},mo={class:"spell-description px-2 py-1"},po=["innerHTML"],ho={key:0,class:"spell-unlock-number"},vo={class:"flex flex-wrap gap-1"},fo=["onClick"],go=Ve(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),_o=Ve(()=>e("div",{class:"disabled-mask"},null,-1)),bo={key:0,class:"spell-unlock-number"},$o={class:"spell-tooltip"},yo={class:"spell-name px-2 py-1"},ko={class:"spell-description px-2 py-1"},So=["innerHTML"],wo={class:"flex flex-wrap gap-1"},xo=["onClick"],Co=Ve(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),Vo=Ve(()=>e("div",{class:"disabled-mask"},null,-1)),Ao={key:0,class:"spell-unlock-number"},Io={class:"spell-tooltip"},Wo={class:"spell-name px-2 py-1"},Po={class:"spell-description px-2 py-1"},Eo=["innerHTML"],qo={__name:"SpellTabContent",setup(m){const p=be("currentCharacter"),{getClassPassiveSpells:L,getSpellHtml:o,getSpellLevel:n}=pt(p),I=de(()=>L(p.value.class).sort((S,C)=>{let f=Pe[S.id],N=Pe[C.id];return f-N})),T=de(()=>L("all").sort((S,C)=>{let f=Pe[S.id],N=Pe[C.id];return f-N})),B=P=>{P.category===Ye.passive&&(Object.keys(p.value.spells).forEach(q=>{var S;q.includes(Ye.passive)&&((S=p.value.spells[q])==null?void 0:S.id)===P.id&&(p.value.spells[q]=null)}),Object.keys(p.value.spells).some(q=>{if(q.includes(Ye.passive)&&b(parseInt(q.replace("passiveSlot","")))&&p.value.spells[q]===null)return p.value.spells[q]=P,!0}))},O=P=>{p.value.spells[P]=null},h=P=>{let q=!1;return Object.keys(p.value.spells).forEach(S=>{var C;((C=p.value.spells[S])==null?void 0:C.id)===P.id&&(q=!0)}),q},J=P=>{let q=Pe[P.id];return p.value.level>=q},b=P=>{let q=st[P-1];return p.value.level>=q};return(P,q)=>{const S=W("tippy"),C=W("p-image");return c(),u("div",zn,[e("div",null,[s(S,{placement:"left"},{content:d(()=>[e("div",Yn,t(P.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:d(()=>[Gn]),_:1}),fe(" "+t(P.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",Jn,[e("div",Qn,[(c(),u(Q,null,oe(12,f=>(c(),u(Q,{key:f},[a(p).spells["activeSlot"+f]!==null?(c(),u("div",{key:0,class:"spell-button disabled",onClick:q[0]||(q[0]=N=>O(P.spell))},[e("div",Xn,t(),1),Zn,s(C,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(p).spells["activeSlot"+f].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(c(),u("div",Kn,[s(C,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",eo,t(),1)]))],64))),64))])]),e("div",to,[s(S,{placement:"left"},{content:d(()=>[e("div",ao,t(P.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:d(()=>[so]),_:1}),fe(" "+t(P.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",lo,[e("div",io,[(c(),u(Q,null,oe(6,f=>(c(),u(Q,{key:f},[a(p).spells["passiveSlot"+f]!==null?(c(),u("div",no,[s(S,{duration:"0"},{content:d(()=>[e("div",ro,[e("div",uo,t(a(p).spells["passiveSlot"+f].name)+" (Level "+t(a(n)(a(p).spells["passiveSlot"+f]))+") ",1),e("div",mo,t(a(p).spells["passiveSlot"+f].description),1),e("div",{class:"spell-details",innerHTML:a(o)(a(p).spells["passiveSlot"+f])},null,8,po)])]),default:d(()=>[e("div",{class:"spell-button",onClick:N=>O("passiveSlot"+f)},[co,s(C,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(p).spells["passiveSlot"+f].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,oo)]),_:2},1024)])):(c(),u("div",{key:1,class:ie(["spell-slot",{disabled:!b(f)}])},[s(C,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),b(f)?Z("",!0):(c(),u("div",ho,t(a(st)[f-1]),1))],2))],64))),64))]),e("div",vo,[(c(!0),u(Q,null,oe(I.value,f=>(c(),re(S,{key:f.id,duration:"0"},{content:d(()=>[e("div",$o,[e("div",yo,t(f.name)+" (Level "+t(a(n)(f))+")",1),e("div",ko,t(f.description),1),e("div",{class:"spell-details",innerHTML:a(o)(f)},null,8,So)])]),default:d(()=>[e("div",{class:ie(["spell-button",{disabled:h(f)||!J(f)}]),onClick:N=>B(f)},[go,_o,s(C,{src:`https://tmktahu.github.io/WakfuAssets/spells/${f.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),J(f)?Z("",!0):(c(),u("div",bo,t(a(Pe)[f.id]),1))],10,fo)]),_:2},1024))),128))]),e("div",wo,[(c(!0),u(Q,null,oe(T.value,f=>(c(),re(S,{key:f.id,duration:"0"},{content:d(()=>[e("div",Io,[e("div",Wo,t(f.name)+" (Level "+t(a(n)(f))+")",1),e("div",Po,t(f.description),1),e("div",{class:"spell-details",innerHTML:a(o)(f)},null,8,Eo)])]),default:d(()=>[e("div",{class:ie(["spell-button",{disabled:h(f)||!J(f)}]),onClick:N=>B(f)},[Co,Vo,s(C,{src:`https://tmktahu.github.io/WakfuAssets/spells/${f.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),J(f)?Z("",!0):(c(),u("div",Ao,t(a(Pe)[f.id]),1))],10,xo)]),_:2},1024))),128))])])])}}},To=ke(qo,[["__scopeId","data-v-22a133ae"]]),Mo={class:"flex align-items-center"},Do={class:"mx-2"},Ro=e("i",{class:"mdi mdi-information-outline"},null,-1),Uo={class:"simple-tooltip"},je={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(m){return(p,L)=>{const o=W("p-inputNumber"),n=W("tippy");return c(),u("div",Mo,[s(o,Be(p.$attrs,{class:"number-input"}),null,16),e("div",Do,t(m.label),1),s(n,{placement:"left",duration:"0"},{content:d(()=>[e("div",Uo,t(m.tooltipText),1)]),default:d(()=>[Ro]),_:1})])}}};const Te=m=>(Se("data-v-1e5353c0"),m=m(),we(),m),Lo={class:"flex flex-column h-full pr-2",style:{"overflow-y":"auto"}},Fo={class:"flex flex-column mt-4"},Oo={class:"flex"},No={class:"flex flex-wrap gap-3 mt-3"},jo={class:"setting-group flex flex-column gap-2"},Ho=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Bo={class:"simple-tooltip"},zo={class:"setting-group flex flex-column"},Go={class:"flex flex-column gap-2"},Yo=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Jo={class:"simple-tooltip"},Qo={class:"flex align-items-center"},Xo={class:"mr-2"},Zo={class:"px-2 py-1"},Ko={class:"flex align-items-center"},ec={class:"mr-2"},tc={class:"px-2 py-1"},sc={class:"flex align-items-center"},ac={class:"mr-2"},lc={class:"px-2 py-1"},ic={class:"flex align-items-center"},nc={class:"mr-2"},oc={class:"px-2 py-1"},cc={class:"flex align-items-center"},rc={class:"mr-2"},uc={class:"px-2 py-1"},dc={class:"flex flex-column"},mc={class:"rarity-container"},pc={class:"flex align-items-center mb-1"},hc=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),vc={class:"simple-tooltip"},fc={class:"mr-2 ml-1"},gc={class:"rarity-button-wrapper"},_c={class:"flex justify-content-center align-items-center"},bc={class:"simple-tooltip"},$c={class:"setting-group flex flex-column gap-2 mt-2"},yc=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),kc={class:"simple-tooltip"},Sc={class:"flex flex-column"},wc={class:"setting-group flex flex-column gap-2"},xc=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Cc={class:"simple-tooltip"},Vc={key:0,class:"warning-message mt-2 py-1 px-2"},Ac={key:0,class:"setting-group flex flex-column gap-2 mt-2"},Ic=Te(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Wc={class:"simple-tooltip"},Pc={class:"flex gap-1"},Ec={class:"mr-2"},qc={class:"simple-tooltip"},Tc={class:"flex align-items-center mt-3"},Mc=Te(()=>e("div",{class:"flex-grow-1"},null,-1)),Dc=["innerHTML"],Rc={class:"flex align-items-center gap-4 mt-2"},Uc={key:1,class:"results-display flex flex-column flex-grow-1 mt-2"},Lc={key:0,class:"error-state px-3 py-3"},Fc={key:0,class:"mt-1"},Oc={key:1},Nc={class:"mt-3"},jc={key:0,class:"mt-2"},Hc={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Bc={key:1},zc={class:"flex flex-wrap gap-1 mt-2"},Gc={key:2,class:"loading-state px-3 py-3"},Yc={class:"mt-2"},Jc={key:2,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Qc={class:"text-center mt-2"},Xc={class:"text-center mb-5 mt-2"},Zc={class:"flex justify-content-center"},Kc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},er={__name:"ItemSolverTabContent",setup(m){const{t:p}=Xe(),L=Qe(),o=be("currentCharacter"),{equipItem:n}=ze(o),{runCalculations:I,autoBuilderIsReady:T,itemSet:B,builderLoading:O,builderError:h}=ht(),{createBuildCode:J}=nt(),b=_(!1),P=_(!1),q=_(!1),S=_([]),C=de(()=>{if(b.value)return B.value;{let g=Object.keys(o.value.equipment).map(x=>{if(o.value.equipment[x].item)return o.value.equipment[x].item.id}).filter(x=>x!==void 0);return B.value?B.value.filter(x=>!g.includes(x.id)):[]}}),f=_(o.value.actionPoints),N=_(o.value.movementPoints),w=_(o.value.stats.range),V=_(o.value.wakfuPoints),ne=_(!1),D=_(!1),U=_(!1),ue=_(!1),X=_(!0),$=_(!0),R=_(!0),H=_(!0),ae=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],_e=[...ae,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],K=_(ae[0]),le=_(ae[0]),j=_(ae[0]),me=_(ae[0]),pe=_(ae[0]),y=_(!0),v=_(it.map(g=>({...g,checked:!0}))),Y=_(!0);qe(T,()=>{Y.value=!1});const Me=g=>{S.value.includes(g)||S.value.push(g)},De=g=>{if(S.value.includes(g)){let x=S.value.indexOf(g);S.value.splice(x,1)}},l=()=>{v.value.forEach(g=>{g.checked=!0})},i=()=>{v.value.forEach(g=>{g.checked=!1})},F=de(()=>T.value),M=de(()=>J(o.value)),se=_(null);qe([f,N,w,V],()=>{se.value=null,f.value-o.value.actionPoints>=6?se.value=p("characterSheet.itemSolverContent.apWarning"):w.value-o.value.stats.range>5?se.value=p("characterSheet.itemSolverContent.rangeImpossibleWarning"):o.value.level<35?w.value-o.value.stats.range>0&&(se.value=p("characterSheet.itemSolverContent.rangeForLevelWarning")):o.value.level<50?w.value-o.value.stats.range>1?se.value=p("characterSheet.itemSolverContent.rangeForLevelWarning"):f.value-o.value.actionPoints+N.value-o.value.movementPoints>4&&(se.value=p("characterSheet.itemSolverContent.combinedApMpWarning")):o.value.level<80&&w.value-o.value.stats.range>3&&(se.value=p("characterSheet.itemSolverContent.rangeForLevelWarning"))});const he=async()=>{let g=v.value.filter(ce=>ce.checked).map(ce=>ce.id),x={buildCode:M.value,meleeMasteryPriority:K.value,distanceMasteryPriority:le.value,healingMasteryPriority:j.value,rearMasteryPriority:me.value,berserkMasteryPriority:pe.value,fireMastery:ne.value,earthMastery:D.value,waterMastery:U.value,airMastery:ue.value,noArchmonsters:!X.value,noHordes:!$.value,noBattlefields:!R.value,noUltimateBosses:!H.value,targetApAmount:f.value||0,targetMpAmount:N.value||0,targetRangeAmount:w.value||0,targetWpAmount:V.value||0,selectedRarityIds:g,excludedItems:S.value.map(ce=>ce.id),ignoreEquippedItems:!y.value};I(x)},Ie=g=>{L.require({group:"popup",target:g.currentTarget,message:p("confirms.willReplaceItems"),accept:()=>{B.value.forEach(x=>{n(x)})}})},Ce=(g,x)=>{g.ctrlKey&&v.value.forEach(ce=>{ce.id!==x?ce.checked=!1:ce.checked=!0})},We=()=>'<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>';return(g,x)=>{var A,Ze,Ke;const ce=W("tippy"),r=W("p-dropdown"),E=W("p-button"),ee=W("p-image"),ve=W("p-checkbox"),xe=W("p-progressSpinner");return c(),u("div",Lo,[s(ot,{character:a(o)},null,8,["character"]),e("div",Fo,[e("div",Oo,[s(ge,{modelValue:y.value,"onUpdate:modelValue":x[0]||(x[0]=k=>y.value=k),label:g.$t("characterSheet.itemSolverContent.considerCurrentItems"),"tooltip-text":g.$t("characterSheet.itemSolverContent.considerCurrentItemsTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",No,[e("div",jo,[e("div",null,[s(ce,{placement:"top",duration:"0"},{content:d(()=>[e("div",Bo,t(g.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:d(()=>[Ho]),_:1}),fe(" "+t(g.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(je,{modelValue:f.value,"onUpdate:modelValue":x[1]||(x[1]=k=>f.value=k),label:g.$t("constants.actionPoints"),"tooltip-text":g.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(je,{modelValue:N.value,"onUpdate:modelValue":x[2]||(x[2]=k=>N.value=k),label:g.$t("constants.movementPoints"),"tooltip-text":g.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(je,{modelValue:w.value,"onUpdate:modelValue":x[3]||(x[3]=k=>w.value=k),label:g.$t("constants.range"),"tooltip-text":g.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(je,{modelValue:V.value,"onUpdate:modelValue":x[4]||(x[4]=k=>V.value=k),label:g.$t("constants.wakfuPoints"),"tooltip-text":g.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",zo,[e("div",Go,[e("div",null,[s(ce,{placement:"top",duration:"0"},{content:d(()=>[e("div",Jo,t(g.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:d(()=>[Yo]),_:1}),fe(" "+t(g.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",Qo,[e("div",Xo,t(g.$t("constants.meleeMastery")),1),s(r,{modelValue:K.value,"onUpdate:modelValue":x[5]||(x[5]=k=>K.value=k),class:"condensed-dropdown","option-label":"label",options:ae},{value:d(k=>[fe(t(g.$t(k.value.label)),1)]),option:d(k=>[e("div",Zo,t(g.$t(k.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Ko,[e("div",ec,t(g.$t("constants.distanceMastery")),1),s(r,{modelValue:le.value,"onUpdate:modelValue":x[6]||(x[6]=k=>le.value=k),class:"condensed-dropdown","option-label":"label",options:ae},{value:d(k=>[fe(t(g.$t(k.value.label)),1)]),option:d(k=>[e("div",tc,t(g.$t(k.option.label)),1)]),_:1},8,["modelValue"])]),e("div",sc,[e("div",ac,t(g.$t("constants.healingMastery")),1),s(r,{modelValue:j.value,"onUpdate:modelValue":x[7]||(x[7]=k=>j.value=k),class:"condensed-dropdown","option-label":"label",options:ae},{value:d(k=>[fe(t(g.$t(k.value.label)),1)]),option:d(k=>[e("div",lc,t(g.$t(k.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ic,[e("div",nc,t(g.$t("constants.rearMastery")),1),s(r,{modelValue:me.value,"onUpdate:modelValue":x[8]||(x[8]=k=>me.value=k),class:"condensed-dropdown","option-label":"label",options:_e},{value:d(k=>[fe(t(g.$t(k.value.label)),1)]),option:d(k=>[e("div",oc,t(g.$t(k.option.label)),1)]),_:1},8,["modelValue"])]),e("div",cc,[e("div",rc,t(g.$t("constants.berserkMastery")),1),s(r,{modelValue:pe.value,"onUpdate:modelValue":x[9]||(x[9]=k=>pe.value=k),class:"condensed-dropdown","option-label":"label",options:_e},{value:d(k=>[fe(t(g.$t(k.value.label)),1)]),option:d(k=>[e("div",uc,t(g.$t(k.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",dc,[e("div",mc,[e("div",pc,[s(E,{class:"filter-button item-filter-action mr-2",label:g.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:l},null,8,["label"]),s(ce,{placement:"top"},{content:d(()=>[e("div",vc,t(g.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:d(()=>[hc]),_:1}),e("div",fc,t(g.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(E,{class:"filter-button item-filter-action",label:g.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:i},null,8,["label"])]),e("div",gc,[(c(!0),u(Q,null,oe(v.value,k=>(c(),re(ce,{key:k.id,duration:"0"},{content:d(()=>[e("div",bc,t(g.$t(k.name)),1)]),default:d(()=>[s(ve,{modelValue:k.checked,"onUpdate:modelValue":Re=>k.checked=Re,binary:!0,class:"rarity-checkbox",onChange:Re=>Ce(Re,k.id)},{icon:d(Re=>[e("div",_c,[s(ee,{class:ie({disabled:!Re.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${k.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",$c,[e("div",null,[s(ce,{placement:"top",duration:"0"},{content:d(()=>[e("div",kc,t(g.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:d(()=>[yc]),_:1}),fe(" "+t(g.$t("constants.elementalMasteries")),1)]),s(ge,{modelValue:ne.value,"onUpdate:modelValue":x[10]||(x[10]=k=>ne.value=k),label:g.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(ge,{modelValue:D.value,"onUpdate:modelValue":x[11]||(x[11]=k=>D.value=k),label:g.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(ge,{modelValue:U.value,"onUpdate:modelValue":x[12]||(x[12]=k=>U.value=k),label:g.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(ge,{modelValue:ue.value,"onUpdate:modelValue":x[13]||(x[13]=k=>ue.value=k),label:g.$t("constants.airMastery")},null,8,["modelValue","label"])])]),e("div",Sc,[e("div",wc,[e("div",null,[s(ce,{placement:"top",duration:"0"},{content:d(()=>[e("div",Cc,t(g.$t("characterSheet.itemSolverContent.itemSourcesInfo")),1)]),default:d(()=>[xc]),_:1}),fe(" "+t(g.$t("characterSheet.itemSolverContent.itemSources")),1)]),s(ge,{modelValue:X.value,"onUpdate:modelValue":x[14]||(x[14]=k=>X.value=k),label:g.$t("characterSheet.itemSolverContent.archmonsters")},null,8,["modelValue","label"]),s(ge,{modelValue:$.value,"onUpdate:modelValue":x[15]||(x[15]=k=>$.value=k),label:g.$t("characterSheet.itemSolverContent.hordes")},null,8,["modelValue","label"]),s(ge,{modelValue:R.value,"onUpdate:modelValue":x[16]||(x[16]=k=>R.value=k),label:g.$t("characterSheet.itemSolverContent.battlefields")},null,8,["modelValue","label"]),s(ge,{modelValue:H.value,"onUpdate:modelValue":x[17]||(x[17]=k=>H.value=k),label:g.$t("characterSheet.itemSolverContent.ultimateBosses")},null,8,["modelValue","label"])])])]),se.value!==null?(c(),u("div",Vc,t(se.value),1)):Z("",!0)]),S.value.length>0?(c(),u("div",Ac,[e("div",null,[s(ce,{placement:"top",duration:"0"},{content:d(()=>[e("div",Wc,t(g.$t("characterSheet.itemSolverContent.excludedItemsInfo")),1)]),default:d(()=>[Ic]),_:1}),fe(" "+t(g.$t("characterSheet.itemSolverContent.excludedItems")),1)]),e("div",Pc,[(c(!0),u(Q,null,oe(S.value,k=>(c(),u("div",{key:k.id,class:"excluded-item-card px-2 py-1"},[e("span",Ec,t(k.name),1),s(ce,{placement:"top",duration:"0"},{content:d(()=>[e("div",qc,t(g.$t("tooltips.allowItem")),1)]),default:d(()=>[s(E,{class:"allow-button",icon:"pi pi-check-circle",onClick:Re=>De(k)},null,8,["onClick"])]),_:2},1024)]))),128))])])):Z("",!0),e("div",Tc,[s(E,{class:"py-2 px-3 mr-2",disabled:!F.value,label:(A=C.value)!=null&&A.length?g.$t("characterSheet.itemSolverContent.regenerateItemSet"):g.$t("characterSheet.itemSolverContent.generateItemSet"),onClick:he},null,8,["disabled","label"]),s(E,{class:"py-2 px-3 mr-2",disabled:!((Ze=C.value)!=null&&Ze.length),label:g.$t("characterSheet.itemSolverContent.equipAllItems"),onClick:x[18]||(x[18]=k=>Ie(k))},null,8,["disabled","label"]),Mc,e("div",{innerHTML:g.$t("characterSheet.itemSolverContent.poweredBy",{credit:We()})},null,8,Dc)]),e("div",Rc,[s(ge,{modelValue:b.value,"onUpdate:modelValue":x[19]||(x[19]=k=>b.value=k),label:g.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),s(ge,{modelValue:P.value,"onUpdate:modelValue":x[20]||(x[20]=k=>P.value=k),label:g.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),s(ge,{modelValue:q.value,"onUpdate:modelValue":x[21]||(x[21]=k=>q.value=k),label:g.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),a(O)?(c(),u("div",Jc,[e("div",Qc,t(g.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Xc,t(g.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",Zc,[e("div",Kc,[s(xe,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(xe,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(c(),u("div",Uc,[a(h)?(c(),u("div",Lc,[a(h).debug?(c(),u("div",Fc,t(g.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(c(),u("div",Oc,t(g.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",Nc,[e("div",null,"Error Code: "+t(a(h).message),1),a(h).debug?(c(),u("div",jc,[e("div",Hc,"Debug Code: "+t(a(h).debug),1)])):Z("",!0)])])):(Ke=C.value)!=null&&Ke.length?(c(),u("div",Bc,[e("div",zc,[(c(!0),u(Q,null,oe(C.value,k=>(c(),u("div",{key:k.id,class:"item-card-wrapper"},[s(ut,{item:k,"with-slot-label":"","with-comparisons":q.value,"with-totals":P.value,"with-exclude-button":"",onExcludeItem:Me},null,8,["item","with-comparisons","with-totals"])]))),128))])])):(c(),u("div",Gc,[e("div",null,t(g.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Yc,t(g.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},tr=ke(er,[["__scopeId","data-v-1e5353c0"]]);const Ae=m=>(Se("data-v-672a3eb6"),m=m(),we(),m),sr={class:"flex h-full"},ar={class:"flex flex-column"},lr={class:"mb-2"},ir={class:"flex"},nr={class:"mr-2"},or=Ae(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),cr={class:"simple-tooltip flex flex-column"},rr={class:"mb-1"},ur={class:"mb-1"},dr={class:"mb-1"},mr={class:"mb-1"},pr={class:"mb-1"},hr={class:"mb-1"},vr={key:0,class:"item-runes-section flex align-items-center mb-2"},fr=["onClick"],gr=["onClick","onDrop","onContextmenu","onDragstart"],_r={class:"rune-image"},br={class:"rune-level"},$r={class:"simple-tooltip"},yr=["onDrop"],kr={class:"rune-image"},Sr=["onDrop","onClick"],wr={key:0,class:"sublimation-entry flex align-items-center px-2"},xr={class:"ml-1"},Cr=Ae(()=>e("i",{class:"pi pi-trash"},null,-1)),Vr={key:0,class:"item-card-tooltip"},Ar={class:"effect-header flex pt-2 px-1"},Ir={class:"flex flex-column ml-1"},Wr={class:"item-name mr-2"},Pr={class:"rune-requirements flex justify-content-left gap-1 py-1"},Er=["onDrop","onClick"],qr={class:"px-2",style:{opacity:"0.5"}},Tr={class:"flex mb-2"},Mr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Dr={class:"ml-1"},Rr={key:1,class:"flex align-items-center px-2 py-2"},Ur={class:"ml-1"},Lr=Ae(()=>e("i",{class:"pi pi-trash"},null,-1)),Fr={key:0,class:"item-card-tooltip"},Or={class:"effect-header flex pt-2 px-1"},Nr={class:"flex flex-column ml-1"},jr={class:"item-name mr-2"},Hr={class:"flex justify-content-left py-1 text-xs"},Br={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},zr={class:"ml-1"},Gr={key:1,class:"flex align-items-center px-2 py-2"},Yr={class:"ml-1"},Jr=Ae(()=>e("i",{class:"pi pi-trash"},null,-1)),Qr={key:0,class:"item-card-tooltip"},Xr={class:"effect-header flex pt-2 px-1"},Zr={class:"flex flex-column ml-1"},Kr={class:"item-name mr-2"},eu={class:"flex justify-content-left py-1 text-xs"},tu={class:"stats-summary"},su={class:"text-lg my-1 pl-2"},au={class:"stats-summary-list flex flex-column"},lu={key:0,class:"summary-entry px-2 py-1"},iu={class:"ml-2"},nu={class:"flex px-2 py-1"},ou={class:"flex ml-2"},cu={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},ru=Ae(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),uu={class:"flex flex-column mr-3"},du={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},mu={class:"flex align-items-center justify-content-center"},pu=Ae(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),hu={class:"simple-tooltip"},vu={class:"mx-2"},fu={class:"rune-options flex flex-column mt-2"},gu=["onDragstart","onClick"],_u={class:"ml-2 py-1"},bu=Ae(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),$u={class:"ml-3 mt-2"},yu={key:0,class:"flex flex-column",style:{"min-width":"300px"}},ku={class:"flex mt-2"},Su={class:"mx-2"},wu=Ae(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),xu={class:"simple-tooltip"},Cu=["onDragstart","onClick"],Vu={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},Au={class:"effect-header flex pt-2 px-1"},Iu={class:"flex flex-column ml-1"},Wu={class:"item-name"},Pu={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},Eu={class:"flex mt-2"},qu={class:"mx-2"},Tu={class:"mx-2"},Mu=["onClick","onDragstart"],Du={class:"ml-1"},Ru={class:"effect-header flex pt-2 px-1"},Uu={class:"flex flex-column ml-1"},Lu={class:"item-name"},Fu={class:"flex justify-content-left py-1 text-xs"},Ou={key:0,class:"flex flex-column px-4 py-2"},Nu={class:"mb-2"},ju={class:"ml-2"},Hu={__name:"RunesSubsTabContent",setup(m,{expose:p}){const{t:L}=Xe();let o=document;const n=be("currentCharacter"),{getRuneValue:I}=at(),{getRunes:T,getSublimations:B,canSublimationFit:O}=ze(),h=de(()=>T().sort((l,i)=>l.shardsParameters.color-i.shardsParameters.color)),J=de(()=>B().filter(l=>{var i;return l.sublimationParameters.slotColorPattern.length>0&&L(`items.${l.id}`).toLowerCase().includes((i=P.value)==null?void 0:i.toLowerCase())}).sort((l,i)=>L(`items.${l.id}`).localeCompare(L(`items.${i.id}`))).sort((l,i)=>{if(w.value&&S.value){let F=O(n.value.equipment[w.value],l)?1:0;return(O(n.value.equipment[w.value],i)?1:0)-F}else return 0})),b=de(()=>B().filter(l=>{var i;return De(l)&&L(`items.${l.id}`).toLowerCase().includes((i=q.value)==null?void 0:i.toLowerCase())&&(l.sublimationParameters.isEpic?C.value:!0)&&(l.sublimationParameters.isRelic?f.value:!0)})),P=_(""),q=_(""),S=_(!0),C=_(!0),f=_(!0),N=_(1),w=_(null),V=_(null),ne=_(null),D=_([{label:L("constants.level"),levelSlider:!0},{label:L("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{V.value&&(n.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].color===0?n.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].color=n.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].rune.shardsParameters.color:n.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].color=0)}},{label:L("constants.remove"),command:()=>{n.value.equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey]=null}}]),U=_(!1),ue=()=>{U.value=!1,Ue(()=>{U.value=!0})},X=de(()=>{let l={};return Object.keys(n.value.equipment).forEach(i=>{let F=n.value.equipment[i].runes;if(F){for(let se=1;se<=4;se++){let he=F[`runeSlot${se}`];he&&(l[he.rune.id]||(l[he.rune.id]={totalValue:0,rune:he}),l[he.rune.id].totalValue+=I(he.rune,he.level,i))}let M=n.value.equipment[i].sub;M&&(l[M.equipEffects[0].values[0]]||(l[M.equipEffects[0].values[0]]={totalValue:0,sublimation:M}),l[M.equipEffects[0].values[0]].totalValue+=M.equipEffects[0].values[2])}}),n.value.epicSubSlot&&(l[n.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:n.value.epicSubSlot}),n.value.relicSubSlot&&(l[n.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:n.value.relicSubSlot}),l}),$=(l,i)=>{l.stopPropagation(),w.value===i?w.value=null:w.value=i},R=(l,i,F)=>{l.shiftKey&&(n.value.equipment[i].runes[F].color===0?n.value.equipment[i].runes[F].color=n.value.equipment[i].runes[F].rune.shardsParameters.color:n.value.equipment[i].runes[F].color=0),l.ctrlKey&&(ne.value.hide(),n.value.equipment[i].runes[F]=null)},H=(l,i,F)=>{n.value.equipment[i].runes[F]&&(V.value={itemSlotKey:i,runeSlotKey:F},ne.value.show(l))},ae=(l,i)=>{if(w.value){let F=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let M in F)if(n.value.equipment[w.value].runes[F[M]]===null||n.value.equipment[w.value].runes[F[M]]===void 0){n.value.equipment[w.value].runes[F[M]]={rune:i,color:i.shardsParameters.color,level:N.value};break}}},_e=(l,i)=>{w.value&&(n.value.equipment[w.value].sub=i)},K=(l,i,F,M)=>{l.dataTransfer.dropEffect="move",l.dataTransfer.effectAllowed="move",l.dataTransfer.setData("type",i),i==="rune"&&(l.dataTransfer.setData("rune",JSON.stringify(F)),M&&l.dataTransfer.setData("level",M)),i==="sublimation"&&l.dataTransfer.setData("sublimation",JSON.stringify(F))},le=(l,i,F)=>{try{let M=l.dataTransfer.getData("type");if(M==="rune"&&F.includes("rune")){let se=JSON.parse(l.dataTransfer.getData("rune")),he=l.dataTransfer.getData("level");n.value.equipment[i].runes[F]={rune:se,color:se.shardsParameters.color,level:he||N.value}}if(M==="sublimation"){let se=JSON.parse(l.dataTransfer.getData("sublimation"));De(se)?se.sublimationParameters.isEpic&&F==="epicSubSlot"?n.value.epicSubSlot=se:se.sublimationParameters.isRelic&&F==="relicSubSlot"&&(n.value.relicSubSlot=se):n.value.equipment[i].sub=se}}catch(M){console.error(M)}},j=()=>{let l=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(n.value.equipment).forEach(i=>{l.forEach(F=>{n.value.equipment[i].runes[F]=void 0}),n.value.equipment[i].sub=null})},me=(l,i,F)=>{n.value[F]=i},pe=l=>{l==="epicSubSlot"?n.value.epicSubSlot=null:l==="relicSubSlot"?n.value.relicSubSlot=null:n.value.equipment[l].sub=null},y=l=>{if(l)switch(l){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},v=l=>{if(l)switch(l){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},Y=l=>Object.keys(ye).find(i=>ye[i].rawId===l),Me=de(()=>{let l=1;return vt.some((i,F)=>i<=n.value.level?(l=F+1,!1):!0),l}),De=l=>l.sublimationParameters.isRelic||l.sublimationParameters.isEpic;return qe(()=>n.value.level,()=>{N.value=Me.value},{immediate:!0}),p({showLists:ue}),(l,i)=>{const F=W("tippy"),M=W("p-image"),se=W("p-inputNumber"),he=W("p-button"),Ie=W("p-inputText"),Ce=W("p-checkbox"),We=W("p-virtualScroller"),g=W("p-slider"),x=W("p-contextMenu"),ce=ft("ripple");return c(),u("div",sr,[e("div",ar,[e("div",lr,[s(F,{placement:"left",duration:"0"},{content:d(()=>[e("div",cr,[e("div",rr,t(l.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",ur,t(l.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",dr,t(l.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",mr,t(l.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",pr,t(l.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",hr,t(l.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:d(()=>[e("div",ir,[e("div",nr,t(l.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),or])]),_:1})]),(c(!0),u(Q,null,oe(Object.keys(a(n).equipment),r=>(c(),u(Q,{key:r},[r!=="ACCESSORY"&&r!=="PET"&&r!=="MOUNT"&&r!=="SECOND_WEAPON"?(c(),u(Q,{key:0},[r!=="undefined"?(c(),u("div",vr,[e("div",{class:ie(["slot-image",{highlighted:w.value===r}]),onClick:E=>$(E,r)},[s(M,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${r}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,fr),(c(),u(Q,null,oe(4,E=>(c(),u(Q,{key:E},[a(n).equipment[r].runes[`runeSlot${E}`]?(c(),re(F,{key:0,duration:"0"},{content:d(()=>[e("div",$r," +"+t(a(I)(a(n).equipment[r].runes[`runeSlot${E}`].rune,a(n).equipment[r].runes[`runeSlot${E}`].level,r))+" "+t(l.$t(`items.${a(n).equipment[r].runes[`runeSlot${E}`].rune.id}`)),1)]),default:d(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:ee=>R(ee,r,`runeSlot${E}`),onDragover:i[0]||(i[0]=$e(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=$e(()=>{},["prevent"])),onDrop:ee=>le(ee,r,`runeSlot${E}`),onContextmenu:ee=>H(ee,r,`runeSlot${E}`),onDragstart:ee=>K(ee,"rune",a(n).equipment[r].runes[`runeSlot${E}`].rune,a(n).equipment[r].runes[`runeSlot${E}`].level)},[e("div",_r,[s(M,{src:v(a(n).equipment[r].runes[`runeSlot${E}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",br,t(a(n).equipment[r].runes[`runeSlot${E}`].level),1)],40,gr)]),_:2},1024)):(c(),u("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=$e(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=$e(()=>{},["prevent"])),onDrop:ee=>le(ee,r,`runeSlot${E}`)},[e("div",kr,[s(M,{src:y(null),"image-style":"width: 26px"},null,8,["src"])])],40,yr))],64))),64)),a(n).equipment[r].sub?(c(),re(Le,{key:0,"append-to":()=>a(o).body,offset:[0,-2],style:{height:"100%"},inline:""},{trigger:d(()=>[e("div",{class:ie(["sublimation-drop-zone ml-2",{invalid:!a(O)(a(n).equipment[r],a(n).equipment[r].sub)}]),onDragover:i[4]||(i[4]=$e(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=$e(()=>{},["prevent"])),onDrop:E=>le(E,r,"sub"),onClick:E=>pe(r)},[a(n).equipment[r].sub?(c(),u("div",wr,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(n).equipment[r].sub.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",xr,t(l.$t(`items.${a(n).equipment[r].sub.id}`)),1)])):Z("",!0),Cr],42,Sr)]),content:d(()=>[a(n).equipment[r].sub?(c(),u("div",Vr,[e("div",Ar,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(n).equipment[r].sub.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Ir,[e("div",Wr,t(l.$t(`items.${a(n).equipment[r].sub.id}`)),1),e("div",Pr,[(c(!0),u(Q,null,oe(a(n).equipment[r].sub.sublimationParameters.slotColorPattern,(E,ee)=>(c(),u("div",{key:ee,class:"flex align-items-center"},[s(M,{src:v(E),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),s(Ee,{item:a(n).equipment[r].sub},null,8,["item"])])):Z("",!0)]),_:2},1032,["append-to"])):(c(),u("div",{key:1,class:ie(["sublimation-drop-zone ml-2",{invalid:!a(O)(a(n).equipment[r],a(n).equipment[r].sub)}]),onDragover:i[6]||(i[6]=$e(()=>{},["prevent"])),onDragenter:i[7]||(i[7]=$e(()=>{},["prevent"])),onDrop:E=>le(E,r,"sub"),onClick:E=>pe(r)},[e("div",qr,[s(M,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,Er))])):Z("",!0)],64)):Z("",!0)],64))),128)),e("div",Tr,[s(F,{duration:"0",class:"flex h-full"},{content:d(()=>[a(n).epicSubSlot?(c(),u("div",Fr,[e("div",Or,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(n).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Nr,[e("div",jr,t(l.$t(`items.${a(n).epicSubSlot.id}`)),1),e("div",Hr,t(a(n).epicSubSlot.sublimationParameters.isEpic?`${l.$t("constants.epicSublimation")}`:"")+" "+t(a(n).epicSubSlot.sublimationParameters.isRelic?`${l.$t("constants.relicSublimation")}`:""),1)])]),s(Ee,{item:a(n).epicSubSlot},null,8,["item"])])):Z("",!0)]),default:d(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:i[8]||(i[8]=$e(()=>{},["prevent"])),onDragenter:i[9]||(i[9]=$e(()=>{},["prevent"])),onDrop:i[10]||(i[10]=r=>le(r,null,"epicSubSlot")),onClick:i[11]||(i[11]=r=>pe("epicSubSlot"))},[a(n).epicSubSlot?(c(),u("div",Mr,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(n).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Dr,t(l.$t(`items.${a(n).epicSubSlot.id}`)),1)])):(c(),u("div",Rr,[s(M,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Ur,t(l.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),Lr],32)]),_:1}),s(F,{duration:"0",class:"flex h-full"},{content:d(()=>[a(n).relicSubSlot?(c(),u("div",Qr,[e("div",Xr,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(n).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Zr,[e("div",Kr,t(l.$t(`items.${a(n).relicSubSlot.id}`)),1),e("div",eu,t(a(n).relicSubSlot.sublimationParameters.isEpic?`${l.$t("constants.epicSublimation")}`:"")+" "+t(a(n).relicSubSlot.sublimationParameters.isRelic?`${l.$t("constants.relicSublimation")}`:""),1)])]),s(Ee,{item:a(n).relicSubSlot},null,8,["item"])])):Z("",!0)]),default:d(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:i[12]||(i[12]=$e(()=>{},["prevent"])),onDragenter:i[13]||(i[13]=$e(()=>{},["prevent"])),onDrop:i[14]||(i[14]=r=>le(r,null,"relicSubSlot")),onClick:i[15]||(i[15]=r=>pe("relicSubSlot"))},[a(n).relicSubSlot?(c(),u("div",Br,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(n).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",zr,t(l.$t(`items.${a(n).relicSubSlot.id}`)),1)])):(c(),u("div",Gr,[s(M,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Yr,t(l.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),Jr],32)]),_:1})]),e("div",tu,[e("div",su,t(l.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",au,[(c(!0),u(Q,null,oe(Object.keys(X.value),r=>(c(),u(Q,{key:r},[X.value[r].rune?(c(),u("div",lu,[s(M,{src:v(X.value[r].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",iu,"+"+t(X.value[r].totalValue)+" "+t(l.$t(`items.${X.value[r].rune.rune.id}`)),1)])):X.value[r].sublimation?(c(),u("div",{key:1,class:ie(["summary-entry flex-column align-items-start",{warning:X.value[r].totalValue>a(Je)[X.value[r].sublimation.equipEffects[0].values[0]]}])},[e("div",nu,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${X.value[r].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",ou,[e("span",null,t(l.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:X.value[r].totalValue})),1),s(Le,{"append-to":()=>a(o).body,offset:[0,-2],"state-id":`${X.value[r].sublimation.equipEffects[0].values[0]}`,"current-level":X.value[r].totalValue,inline:""},null,8,["append-to","state-id","current-level"])])]),X.value[r].totalValue>a(Je)[X.value[r].sublimation.equipEffects[0].values[0]]?(c(),u("div",cu,[ru,e("span",null,t(l.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:a(Je)[X.value[r].sublimation.equipEffects[0].values[0]]})),1)])):Z("",!0)],2)):Z("",!0)],64))),128))])])]),e("div",uu,[e("div",du,[e("div",mu,[s(F,{placement:"left",duration:"0"},{content:d(()=>[e("div",hu,t(l.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:d(()=>[pu]),_:1}),e("span",vu,t(l.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(se,{modelValue:N.value,"onUpdate:modelValue":i[16]||(i[16]=r=>N.value=r),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:Me.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",fu,[(c(!0),u(Q,null,oe(h.value,r=>(c(),u("div",{key:r.id,class:ie(["rune-draggable mb-1 px-2",{highlighted:w.value&&r.shardsParameters.doubleBonusPosition.includes(a(ye)[w.value].rawId)}]),draggable:"true",onDragstart:E=>K(E,"rune",r),onClick:E=>ae(E,r)},[s(M,{class:"rune-image",src:y(r.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",_u,"+"+t(a(I)(r,N.value))+" "+t(l.$t(`items.${r.id}`)),1),bu,(c(!0),u(Q,null,oe(r.shardsParameters.doubleBonusPosition,E=>(c(),u("div",{key:E,class:"ml-1"},[s(M,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${Y(E)}.png`,class:ie({disabled:!a(n).equipment[Y(E)]}),onClick:ee=>$(ee,Y(E))},null,8,["src","class","onClick"])]))),128))],42,gu))),128))])]),e("div",$u,[s(he,{label:l.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:j},null,8,["label"])])]),U.value?(c(),u("div",yu,[s(Ie,{modelValue:P.value,"onUpdate:modelValue":i[17]||(i[17]=r=>P.value=r),class:"py-2 px-2",placeholder:l.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",ku,[s(Ce,{modelValue:S.value,"onUpdate:modelValue":i[18]||(i[18]=r=>S.value=r),binary:!0},null,8,["modelValue"]),e("div",Su,t(l.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),s(F,{placement:"top"},{content:d(()=>[e("div",xu,t(l.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:d(()=>[wu]),_:1})]),J.value?(c(),re(We,{key:0,items:J.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:d(({item:r})=>[s(Le,{"append-to":()=>a(o).body,offset:[0,-2],placement:"left",inline:""},{trigger:d(()=>{var E,ee;return[e("div",{class:ie(["sublimation-option py-1 px-2 mb-1",{highlighted:a(O)(a(n).equipment[w.value],r)}]),draggable:"true",onDragstart:ve=>K(ve,"sublimation",r),onClick:ve=>_e(ve,r)},[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(ee=(E=r.sublimationParameters)==null?void 0:E.slotColorPattern)!=null&&ee.length?(c(),u("div",Vu,[(c(!0),u(Q,null,oe(r.sublimationParameters.slotColorPattern,(ve,xe)=>(c(),u("div",{key:xe,class:"flex align-items-center"},[s(M,{src:v(ve),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):Z("",!0),e("div",null,t(l.$t(`items.${r.id}`)),1)],42,Cu)]}),content:d(()=>{var E,ee;return[e("div",Au,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Iu,[e("div",Wu,t(l.$t(`items.${r.id}`)),1),(ee=(E=r.sublimationParameters)==null?void 0:E.slotColorPattern)!=null&&ee.length?(c(),u("div",Pu,[(c(!0),u(Q,null,oe(r.sublimationParameters.slotColorPattern,(ve,xe)=>(c(),u("div",{key:xe,class:"flex align-items-center"},[s(M,{src:v(ve),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):Z("",!0)])]),s(Ee,{item:r},null,8,["item"])]}),_:2},1032,["append-to"])]),_:1},8,["items"])):Z("",!0),s(Ie,{modelValue:q.value,"onUpdate:modelValue":i[19]||(i[19]=r=>q.value=r),class:"py-2 px-2",placeholder:l.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",Eu,[s(Ce,{modelValue:C.value,"onUpdate:modelValue":i[20]||(i[20]=r=>C.value=r),binary:!0},null,8,["modelValue"]),e("div",qu,t(l.$t("constants.epic")),1),s(Ce,{modelValue:f.value,"onUpdate:modelValue":i[21]||(i[21]=r=>f.value=r),binary:!0},null,8,["modelValue"]),e("div",Tu,t(l.$t("constants.relic")),1)]),b.value?(c(),re(We,{key:1,items:b.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:d(({item:r})=>[s(Le,{"append-to":()=>a(o).body,offset:[0,-2],placement:"left",inline:""},{trigger:d(()=>{var E,ee;return[e("div",{class:ie(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((E=a(n).epicSubSlot)==null?void 0:E.id)===r.id,"relic-highlighted":((ee=a(n).relicSubSlot)==null?void 0:ee.id)===r.id}]),draggable:"true",onClick:ve=>me(ve,r,r.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:ve=>K(ve,"sublimation",r)},[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",Du,t(l.$t(`items.${r.id}`))+" "+t(r.sublimationParameters.isEpic?`(${l.$t("constants.epic")})`:"")+" "+t(r.sublimationParameters.isRelic?`(${l.$t("constants.relic")})`:""),1)],42,Mu)]}),content:d(()=>[e("div",Ru,[s(M,{src:`https://tmktahu.github.io/WakfuAssets/items/${r.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Uu,[e("div",Lu,t(l.$t(`items.${r.id}`)),1),e("div",Fu,t(r.sublimationParameters.isEpic?`${l.$t("constants.epicSublimation")}`:"")+" "+t(r.sublimationParameters.isRelic?`${l.$t("constants.relicSublimation")}`:""),1)])]),s(Ee,{item:r},null,8,["item"])]),_:2},1032,["append-to"])]),_:1},8,["items"])):Z("",!0)])):Z("",!0),s(x,{ref_key:"runeContextMenu",ref:ne,model:D.value},{item:d(({item:r,props:E})=>[r.levelSlider?(c(),u("div",Ou,[e("div",Nu,t(l.$t("constants.level"))+": "+t(a(n).equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].level),1),s(g,{modelValue:a(n).equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].level,"onUpdate:modelValue":i[22]||(i[22]=ee=>a(n).equipment[V.value.itemSlotKey].runes[V.value.runeSlotKey].level=ee),min:1,max:11},null,8,["modelValue"])])):gt((c(),u("a",Be({key:1,class:"flex align-items-center"},E.action),[e("span",ju,t(r.label),1)],16)),[[ce]])]),_:1},8,["model"])])}}},Bu=ke(Hu,[["__scopeId","data-v-672a3eb6"]]);const Oe=m=>(Se("data-v-ddc9c0c5"),m=m(),we(),m),zu={class:"top-bar py-3 px-3"},Gu={key:0,class:"flex align-items-center pl-2"},Yu={class:"py-2"},Ju={key:1,class:"flex align-items-center"},Qu={class:"py-2"},Xu={class:"flex align-items-center"},Zu={class:"capitalize"},Ku={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},ed={class:"mr-2"},td={class:"flex-grow-1"},sd=Oe(()=>e("div",{class:"flex-grow-1"},null,-1)),ad={class:"build-code flex align-items-center ml-2 mr-3"},ld=Oe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),id={class:"simple-tooltip"},nd={class:"ml-2"},od={class:"code-disclaimer"},cd=Oe(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),rd={class:"simple-tooltip"},ud={class:"ml-1"},dd={class:"flex flex-grow-1",style:{overflow:"auto"}},md={class:"stats-area"},pd={class:"flex flex-column flex-grow-1"},hd={class:"tab-header"},vd=Oe(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-1",style:{"font-size":"20px"}},null,-1)),fd=Oe(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-1",style:{"font-size":"20px"}},null,-1)),gd={class:"tab-header"},_d={class:"tab-header"},bd={class:"tab-header"},$d={class:"tab-header"},yd={key:1,class:"px-5 mt-5"},kd={__name:"CharacterSheet",setup(m){var w,V,ne;const p=_t(),L=be("currentCharacter"),o=_(null),n=_(null),I=_(null),T=_((w=L.value)==null?void 0:w.name),B=_((V=L.value)==null?void 0:V.level),O=_(He[(ne=L.value)==null?void 0:ne.class]),h=Object.entries(He).map(([D,U])=>U),{createBuildCode:J}=nt(),b=de(()=>J(L.value));qe(L,()=>{P()});const P=()=>{var D,U,ue;T.value=(D=L.value)==null?void 0:D.name,B.value=(U=L.value)==null?void 0:U.level,O.value=He[(ue=L.value)==null?void 0:ue.class]},q=(D,U)=>{U==="name"?L.value.name=D.target.value:U==="levelText"?L.value.level=D.value:U==="levelSlider"?L.value.level=D:U==="class"&&(L.value.class=D.value.id),P()},S=()=>{Ue(()=>{o.value.showList(),I.value.showLists()})},C=de(()=>{var D;return(D=n.value)==null?void 0:D.hasCharacteristicsError}),f=de(()=>{var D;return(D=n.value)==null?void 0:D.hasCharacteristicsPointsToSpend}),N=()=>{navigator.clipboard.writeText(b.value),p.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(D,U)=>{const ue=W("p-inputText"),X=W("p-image"),$=W("p-dropdown"),R=W("p-inputNumber"),H=W("p-slider"),ae=W("tippy"),_e=W("p-button"),K=W("p-tabPanel"),le=W("p-tabView");return a(L)?(c(),u("div",{key:a(L).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",zu,[s(ue,{modelValue:T.value,"onUpdate:modelValue":U[0]||(U[0]=j=>T.value=j),class:"mr-2 py-2 px-2",onInput:U[1]||(U[1]=j=>q(j,"name"))},null,8,["modelValue"]),s($,{modelValue:O.value,"onUpdate:modelValue":U[2]||(U[2]=j=>O.value=j),options:a(h),placeholder:D.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:U[3]||(U[3]=j=>q(j,"class"))},{value:d(j=>[j.value?(c(),u("div",Gu,[s(X,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${j.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",Yu,t(D.$t(j.value.name)),1)])):(c(),u("span",Ju,[s(X,{class:"class-image mx-2",src:a($t),"image-style":"width: 28px"},null,8,["src"]),e("div",Qu,t(j.placeholder),1)]))]),option:d(j=>[e("div",Xu,[e("div",Zu,t(D.$t(j.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",Ku,[e("span",ed,t(D.$t("characterSheet.level")),1),s(R,{modelValue:B.value,"onUpdate:modelValue":U[4]||(U[4]=j=>B.value=j),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:U[5]||(U[5]=j=>q(j,"levelText"))},null,8,["modelValue"]),e("div",td,[s(H,{modelValue:B.value,"onUpdate:modelValue":U[6]||(U[6]=j=>B.value=j),min:1,max:230,onChange:U[7]||(U[7]=j=>q(j,"levelSlider"))},null,8,["modelValue"])])]),sd,e("div",ad,[s(ae,{placement:"left",duration:"0"},{content:d(()=>[e("div",id,t(D.$t("characterSheet.buildCopyPaste")),1)]),default:d(()=>[ld]),_:1}),e("div",nd,t(D.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:N},[e("span",null,t(b.value),1)]),s(_e,{class:"py-1 ml-2 px-2",label:D.$t("characterSheet.copy"),onClick:N},null,8,["label"]),e("div",od,[s(ae,{placement:"bottom",duration:"0"},{content:d(()=>[e("div",rd,t(D.$t("characterSheet.codeInfo")),1)]),default:d(()=>[cd]),_:1}),e("div",ud,t(D.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",dd,[e("div",md,[s(yl)]),e("div",pd,[s(le,{class:"main-tab-view",onTabChange:S},{default:d(()=>[s(K,null,{header:d(()=>[e("div",hd,[e("span",null,t(D.$t("sidebar.guidesTab")),1)])]),default:d(()=>[s(El)]),_:1}),s(K,null,{header:d(()=>[e("div",{class:ie(["tab-header characteristics-tab-header",{error:C.value,"points-to-spend":f.value&&!C.value}])},[e("span",null,t(D.$t("characterSheet.characteristics")),1),vd,fd],2)]),default:d(()=>[s(li,{ref_key:"characteristicsTabContent",ref:n},null,512)]),_:1}),s(K,null,{header:d(()=>[e("div",gd,[e("span",null,t(D.$t("characterSheet.equipment")),1)])]),default:d(()=>[s(Bn,{ref_key:"equipmentTabContent",ref:o},null,512)]),_:1}),s(K,null,{header:d(()=>[e("div",_d,[e("span",null,t(D.$t("characterSheet.autoItemSolver")),1)])]),default:d(()=>[s(tr)]),_:1}),s(K,null,{header:d(()=>[e("div",bd,[e("span",null,t(D.$t("characterSheet.runesAndSubs")),1)])]),default:d(()=>[s(Bu,{ref_key:"runesAndSubsTabContent",ref:I},null,512)]),_:1}),s(K,null,{header:d(()=>[e("div",$d,[e("span",null,t(D.$t("characterSheet.spellsAndPassives")),1)])]),default:d(()=>[s(To)]),_:1})]),_:1})])])])):(c(),u("div",yd," No Character data found for the given ID. "))}}},xd=ke(kd,[["__scopeId","data-v-ddc9c0c5"]]);export{xd as default};
