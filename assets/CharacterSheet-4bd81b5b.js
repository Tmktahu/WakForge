import{_ as $e,i as _e,r as $,g as E,q as a,o,h as r,j as e,k as s,t,y as Fe,w as m,l as ae,z as Ke,s as ye,x as ke,f as pe,G as ot,F as K,m as ce,A as Ne,B as ct,D as Te,E as et,H as ie,I as Y,n as de,J as ve,a as ze,K as He,L as se,M as Oe,b as Ge,N as Pe,O as Qe,P as Xe,Q as Ve,R as Ze,S as rt,T as je,U as ut,d as tt,V as dt,W as pt,X as mt,p as he,Y as Be,Z as ht,u as vt}from"./index-97e410b0.js";import{I as We,M as De,u as st,E as at,a as _t}from"./addCompanion-440bb3fa.js";const J=_=>(ye("data-v-989a31de"),_=_(),ke(),_),gt={key:0},ft={class:"flex justify-content-between w-full px-2"},bt={class:"main-stat-box"},$t={class:"flex align-items-center my-1"},yt={class:"ml-1"},kt={class:"stat-value py-1"},St={class:"main-stat-box"},wt={class:"flex align-items-center my-1"},xt={class:"ml-1"},Ct={class:"stat-value py-1"},At={class:"main-stat-box"},Vt={class:"flex align-items-center my-1"},Wt={class:"ml-1"},qt={class:"stat-value py-1"},Et={class:"main-stat-box"},It={class:"flex align-items-center my-1"},Pt={class:"ml-1"},Tt={class:"stat-value py-1"},Dt={key:0,class:"main-stat-box"},Mt={class:"flex align-items-center my-1"},Rt={class:"ml-1"},Lt={class:"stat-value py-1"},Ut={key:1,class:"main-stat-box"},Ft={class:"flex align-items-center my-1"},Ot={class:"ml-1"},Nt={class:"stat-value py-1"},Ht={class:"main-stat-area flex flex-column mt-2 pb-2"},jt={class:"section-header py-1 mb-1"},Bt={class:"flex pl-1"},zt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Gt={class:"stat-block pr-2"},Yt={class:"ml-1"},Jt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Qt={class:"stat-block pr-2"},Xt={class:"ml-1"},Zt=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Kt={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},es={class:"stat-block pr-2"},ts={class:"ml-1"},ss=J(()=>e("div",{class:"flex-grow-1"},null,-1)),as={class:"stat-block pr-2"},ls={class:"ml-1"},is=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ns={class:"section-header py-1 mb-1"},os={class:"flex pl-1"},cs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},rs={class:"stat-block pr-2"},us={class:"ml-1"},ds=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ps={class:"stat-block pr-2"},ms={class:"ml-1"},hs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),vs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},_s={class:"stat-block pr-2"},gs={class:"ml-1"},fs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),bs={class:"stat-block pr-2"},$s={class:"ml-1"},ys=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ks={class:"lex flex-column"},Ss={class:"section-header py-1 mb-1"},ws={class:"flex pl-1"},xs={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Cs={class:"stat-block pr-2"},As={class:"ml-1"},Vs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ws={class:"stat-block pr-2"},qs={class:"ml-1"},Es=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Is={class:"stat-block pr-2"},Ps={class:"ml-1"},Ts=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ds={class:"stat-block pr-2"},Ms={class:"ml-1"},Rs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ls={class:"stat-block pr-2"},Us={class:"ml-1"},Fs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Os={class:"stat-block pr-2"},Ns={class:"ml-1"},Hs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),js={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Bs={class:"stat-block pr-2"},zs={class:"ml-1"},Gs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ys={class:"stat-block pr-2"},Js={class:"ml-1"},Qs=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Xs={class:"stat-block pr-2"},Zs={class:"ml-1"},Ks=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ea={class:"stat-block pr-2"},ta={class:"ml-1"},sa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),aa={class:"stat-block pr-2"},la={class:"ml-1"},ia=J(()=>e("div",{class:"flex-grow-1"},null,-1)),na={class:"stat-block pr-2"},oa={class:"ml-1"},ca=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ra={class:"flex flex-column"},ua={class:"section-header py-1 mb-1"},da={class:"flex pl-1"},pa={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},ma={class:"stat-block pr-2"},ha={class:"ml-1"},va=J(()=>e("div",{class:"flex-grow-1"},null,-1)),_a={class:"stat-block pr-2"},ga={class:"ml-1"},fa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ba={class:"stat-block pr-2"},$a={class:"ml-1"},ya=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ka={class:"stat-block pr-2"},Sa={class:"ml-1"},wa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),xa={class:"stat-block pr-2"},Ca={class:"ml-1"},Aa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Va={class:"stat-block pr-2"},Wa={class:"ml-1"},qa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ea={class:"flex flex-column flex-grow-1",style:{"max-width":"50%"}},Ia={class:"stat-block pr-2"},Pa={class:"ml-1"},Ta=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Da={class:"stat-block pr-2"},Ma={class:"ml-1"},Ra=J(()=>e("div",{class:"flex-grow-1"},null,-1)),La={class:"stat-block pr-2"},Ua={class:"ml-1"},Fa=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Oa={class:"stat-block pr-2"},Na={class:"ml-1"},Ha=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ja={class:"stat-block pr-2"},Ba={class:"ml-1"},za=J(()=>e("div",{class:"flex-grow-1"},null,-1)),Ga={class:"flex flex-column"},Ya={class:"section-header py-1 mb-1"},Ja={class:"stat-block pr-2 ml-1"},Qa={class:"ml-1"},Xa={class:"flex align-items-center"},Za={class:"flex align-items-center"},Ka={class:"capitalize"},el=J(()=>e("div",{class:"flex-grow-1"},null,-1)),tl={class:"stat-block pr-2 ml-1"},sl={class:"ml-1"},al=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ll={class:"stat-block pr-2 ml-1"},il={class:"ml-1"},nl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ol={class:"stat-block pr-2 ml-1"},cl={class:"ml-1"},rl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ul={class:"stat-block pr-2 ml-1"},dl={class:"ml-1"},pl=J(()=>e("div",{class:"flex-grow-1"},null,-1)),ml={__name:"StatDisplay",setup(_){const h=_e("currentCharacter"),{calcElemResistancePercentage:R,calcTotalMastery:n,calcEffectiveHp:l}=Ke(h),W=$(["water","air","earth","fire","melee","distance","berserk","critical","rear"]),G=["water","air","earth","fire","melee","distance","berserk","critical","rear"];return(v,U)=>{const k=E("p-image"),z=E("p-multiSelect");return a(h)?(o(),r("div",gt,[e("div",ft,[e("div",bt,[e("div",$t,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/health_points.png"}),e("span",yt,t(v.$t("constants.hp")),1)]),e("div",kt,t(a(h).healthPoints),1)]),e("div",St,[e("div",wt,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor.png"}),e("span",xt,t(v.$t("characterSheet.statsDisplay.ar")),1)]),e("div",Ct,t(a(h).armorPoints),1)]),e("div",At,[e("div",Vt,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/action_points.png"}),e("span",Wt,t(v.$t("constants.ap")),1)]),e("div",qt,t(a(h).actionPoints),1)]),e("div",Et,[e("div",It,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/movement_points.png"}),e("span",Pt,t(v.$t("constants.mp")),1)]),e("div",Tt,t(a(h).movementPoints),1)]),a(h).class===a(Fe).huppermage.id?(o(),r("div",Dt,[e("div",Mt,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/quadrumental_breeze.png"}),e("span",Rt,t(v.$t("characterSheet.statsDisplay.qb")),1)]),e("div",Lt,t(a(h).quadrumentalBreeze),1)])):(o(),r("div",Ut,[e("div",Ft,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wakfu_points.png"}),e("span",Ot,t(v.$t("constants.wp")),1)]),e("div",Nt,t(a(h).wakfuPoints),1)]))]),e("div",Ht,[e("div",jt,t(v.$t("constants.elementalMasteries")),1),e("div",Bt,[e("div",zt,[e("div",Gt,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",Yt,t(v.$t("characterSheet.statsDisplay.water")),1),Jt,e("span",null,t(a(h).masteries.water),1)]),e("div",Qt,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",Xt,t(v.$t("characterSheet.statsDisplay.air")),1),Zt,e("span",null,t(a(h).masteries.air),1)])]),e("div",Kt,[e("div",es,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",ts,t(v.$t("characterSheet.statsDisplay.earth")),1),ss,e("span",null,t(a(h).masteries.earth),1)]),e("div",as,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",ls,t(v.$t("characterSheet.statsDisplay.fire")),1),is,e("span",null,t(a(h).masteries.fire),1)])])]),e("div",ns,t(v.$t("characterSheet.statsDisplay.elmentalResistances")),1),e("div",os,[e("div",cs,[e("div",rs,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",us,t(v.$t("characterSheet.statsDisplay.water")),1),ds,e("span",null,t(a(R)(a(h).resistances.water))+"% ("+t(a(h).resistances.water)+")",1)]),e("div",ps,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",ms,t(v.$t("characterSheet.statsDisplay.air")),1),hs,e("span",null,t(a(R)(a(h).resistances.air))+"% ("+t(a(h).resistances.air)+")",1)])]),e("div",vs,[e("div",_s,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",gs,t(v.$t("characterSheet.statsDisplay.earth")),1),fs,e("span",null,t(a(R)(a(h).resistances.earth))+"% ("+t(a(h).resistances.earth)+")",1)]),e("div",bs,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",$s,t(v.$t("characterSheet.statsDisplay.fire")),1),ys,e("span",null,t(a(R)(a(h).resistances.fire))+"% ("+t(a(h).resistances.fire)+")",1)])])]),e("div",ks,[e("div",Ss,t(v.$t("characterSheet.statsDisplay.battle")),1),e("div",ws,[e("div",xs,[e("div",Cs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/damage_inflicted.png"}),e("span",As,t(v.$t("constants.damageInflicted")),1),Vs,e("span",null,t(a(h).stats.damageInflicted)+"%",1)]),e("div",Ws,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_hit.png"}),e("span",qs,t(v.$t("characterSheet.statsDisplay.criticalHit")),1),Es,e("span",null,t(a(h).stats.criticalHit)+"%",1)]),e("div",Is,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/initiative.png"}),e("span",Ps,t(v.$t("constants.initiative")),1),Ts,e("span",null,t(a(h).stats.initiative),1)]),e("div",Ds,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/dodge.png"}),e("span",Ms,t(v.$t("constants.dodge")),1),Rs,e("span",null,t(a(h).stats.dodge),1)]),e("div",Ls,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/wisdom.png"}),e("span",Us,t(v.$t("constants.wisdom")),1),Fs,e("span",null,t(a(h).stats.wisdom),1)]),e("div",Os,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/control.png"}),e("span",Ns,t(v.$t("constants.control")),1),Hs,e("span",null,t(a(h).stats.control),1)])]),e("div",js,[e("div",Bs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/heals_performed.png"}),e("span",zs,t(v.$t("constants.healsPerformed")),1),Gs,e("span",null,t(a(h).stats.healsPerformed)+"%",1)]),e("div",Ys,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/block.png"}),e("span",Js,t(v.$t("characterSheet.statsDisplay.block")),1),Qs,e("span",null,t(a(h).stats.block)+"%",1)]),e("div",Xs,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/range.png"}),e("span",Zs,t(v.$t("constants.range")),1),Ks,e("span",null,t(a(h).stats.range),1)]),e("div",ea,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/lock.png"}),e("span",ta,t(v.$t("constants.lock")),1),sa,e("span",null,t(a(h).stats.lock),1)]),e("div",aa,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/prospecting.png"}),e("span",la,t(v.$t("constants.prospecting")),1),ia,e("span",null,t(a(h).stats.prospecting),1)]),e("div",na,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/force_of_will.png"}),e("span",oa,t(v.$t("constants.forceOfWill")),1),ca,e("span",null,t(a(h).stats.forceOfWill),1)])])])]),e("div",ra,[e("div",ua,t(v.$t("characterSheet.statsDisplay.secondary")),1),e("div",da,[e("div",pa,[e("div",ma,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_mastery.png"}),e("span",ha,t(v.$t("constants.criticalMastery")),1),va,e("span",null,t(a(h).masteries.critical),1)]),e("div",_a,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_mastery.png"}),e("span",ga,t(v.$t("constants.rearMastery")),1),fa,e("span",null,t(a(h).masteries.rear),1)]),e("div",ba,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/melee_mastery.png"}),e("span",$a,t(v.$t("constants.meleeMastery")),1),ya,e("span",null,t(a(h).masteries.melee),1)]),e("div",ka,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/distance_mastery.png"}),e("span",Sa,t(v.$t("constants.distanceMastery")),1),wa,e("span",null,t(a(h).masteries.distance),1)]),e("div",xa,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/healing_mastery.png"}),e("span",Ca,t(v.$t("constants.healingMastery")),1),Aa,e("span",null,t(a(h).masteries.healing),1)]),e("div",Va,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/berserk_mastery.png"}),e("span",Wa,t(v.$t("constants.berserkMastery")),1),qa,e("span",null,t(a(h).masteries.berserk),1)])]),e("div",Ea,[e("div",Ia,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/critical_resistance.png"}),e("span",Pa,t(v.$t("constants.criticalResistance")),1),Ta,e("span",null,t(a(h).resistances.critical),1)]),e("div",Da,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/rear_resistance.png"}),e("span",Ma,t(v.$t("constants.rearResistance")),1),Ra,e("span",null,t(a(h).resistances.rear),1)]),e("div",La,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_given.png"}),e("span",Ua,t(v.$t("constants.armorGiven")),1),Fa,e("span",null,t(a(h).stats.armorGiven)+"%",1)]),e("div",Oa,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/armor_received.png"}),e("span",Na,t(v.$t("characterSheet.statsDisplay.armorReceived")),1),Ha,e("span",null,t(a(h).stats.armorReceived)+"%",1)]),e("div",ja,[s(k,{class:"stat-icon",src:"https://tmktahu.github.io/WakfuAssets/statistics/indirect_damage.png"}),e("span",Ba,t(v.$t("characterSheet.statsDisplay.indirectDamage")),1),za,e("span",null,t(a(h).stats.indirectDamage)+"%",1)])])])])]),e("div",Ga,[e("div",Ya,t(v.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",Ja,[s(k,{src:"https://tmktahu.github.io/WakfuAssets/characteristics/223.png",style:{height:"20px"},"image-style":"height: 20px"}),e("span",Qa,t(v.$t("characterSheet.statsDisplay.totalMastery")),1),s(z,{modelValue:W.value,"onUpdate:modelValue":U[0]||(U[0]=N=>W.value=N),class:"ml-2",options:G,"show-toggle-all":!1},{value:m(N=>[e("div",Xa,t(v.$t("characterSheet.statsDisplay.numSelected",{num:N.value.length})),1)]),option:m(N=>[e("div",Za,[e("div",Ka,t(v.$t(`constants.${N.option}Mastery`)),1)])]),_:1},8,["modelValue"]),el,e("span",null,t(a(n)(W.value)),1)]),e("div",tl,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/water_coin.png"}),e("span",sl,t(v.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Water"})),1),al,e("span",null,t(a(l)("water")),1)]),e("div",ll,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/air_coin.png"}),e("span",il,t(v.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Air"})),1),nl,e("span",null,t(a(l)("air")),1)]),e("div",ol,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/earth_coin.png"}),e("span",cl,t(v.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Earth"})),1),rl,e("span",null,t(a(l)("earth")),1)]),e("div",ul,[s(k,{class:"stat-icon element",src:"https://tmktahu.github.io/WakfuAssets/statistics/fire_coin.png"}),e("span",dl,t(v.$t("characterSheet.statsDisplay.effectiveHpAgainst",{type:"Fire"})),1),pl,e("span",null,t(a(l)("fire")),1)])])])):ae("",!0)}}},hl=$e(ml,[["__scopeId","data-v-989a31de"]]);const vl=_=>(ye("data-v-4ea9522a"),_=_(),ke(),_),_l={class:"flex flex-column h-full"},gl={class:"text-xl font-bold",style:{"text-transform":"capitalize"}},fl={class:"mt-1"},bl={class:"mt-3"},$l={class:"guide-name"},yl=vl(()=>e("div",{class:"flex-grow-1"},null,-1)),kl={class:"guide-language"},Sl={class:"guide-description"},wl={__name:"GuidesTabContent",setup(_){const h=_e("currentCharacter"),R=pe(()=>ot[h.value.class]),n=l=>{window.open(l.url,"_blank").focus()};return(l,W)=>{const G=E("p-divider"),v=E("p-button");return o(),r("div",_l,[e("div",gl,t(l.$t("characterSheet.guidesContent.classGuides",{class:a(h).class})),1),e("div",fl,t(l.$t("characterSheet.guidesContent.doYouHaveAGuide")),1),e("div",bl,[(o(!0),r(K,null,ce(R.value,U=>(o(),r("div",{key:U.name,class:"guide-entry px-3 py-1 mb-2"},[e("div",$l,t(U.name),1),yl,s(G,{layout:"vertical"}),e("div",kl,t((U.languages[0]?l.$t(U.languages[0]):"")+(U.languages[1]?", "+l.$t(U.languages[1]):"")+(U.languages[2]?", "+l.$t(U.languages[2]):"")),1),s(G,{layout:"vertical"}),e("div",Sl,t(U.description),1),s(v,{label:l.$t("characterSheet.guidesContent.openGuide"),class:"ml-2 py-1 px-3",style:{"min-width":"fit-content"},onClick:k=>n(U)},null,8,["label","onClick"])]))),128))]),s(G)])}}},xl=$e(wl,[["__scopeId","data-v-4ea9522a"]]);const Cl=_=>(ye("data-v-c1799ab4"),_=_(),ke(),_),Al={class:"flex align-items-center my-1"},Vl={class:"entry-label ml-2"},Wl=Cl(()=>e("div",{class:"flex-grow-1"},null,-1)),ql={__name:"CharacteristicInput",props:{updateFunction:{type:Function,default:()=>{}},label:{type:String,default:"No Label"},model:{type:Object,default:()=>{}},remainingPoints:{type:Number,default:0},imagePath:{type:String,default:""},maxOverride:{type:Number,default:200}},setup(_){return(h,R)=>{const n=E("p-image"),l=E("p-inputNumber");return o(),r("div",Al,[s(n,{src:_.imagePath,style:{height:"20px"},"image-style":"height: 20px"},null,8,["src"]),e("span",Vl,t(_.label),1),Wl,s(l,Ne(h.$attrs,{class:"number-input","show-buttons":"",min:0,max:Math.min(_.maxOverride,_.remainingPoints+h.$attrs.modelValue),"button-layout":"horizontal","increment-button-icon":"pi pi-plus","decrement-button-icon":"pi pi-minus","allow-empty":!1,onInput:_.updateFunction}),null,16,["max","onInput"])])}}},le=$e(ql,[["__scopeId","data-v-c1799ab4"]]);const Me=_=>(ye("data-v-500c2792"),_=_(),ke(),_),El={class:"flex flex-column h-full"},Il={class:"characteristic-panels flex pb-3"},Pl={class:"flex flex-column flex-grow-1 mr-1"},Tl={class:"characteristics-category-header px-2 py-2"},Dl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Ml={class:"flex flex-column px-2 py-1"},Rl={class:"characteristics-category-header px-2 py-2"},Ll=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Ul={class:"flex flex-column px-2 py-1"},Fl={class:"characteristics-category-header px-2 py-2"},Ol=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Nl={class:"flex flex-column px-2 py-1"},Hl={class:"flex flex-column flex-grow-1 ml-1"},jl={class:"characteristics-category-header px-2 py-2"},Bl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),zl={class:"flex flex-column px-2 py-1"},Gl={class:"characteristics-category-header px-2 py-2"},Yl=Me(()=>e("div",{class:"flex-grow-1"},null,-1)),Jl={class:"flex flex-column px-2 py-1"},Ql={__name:"CharacteristicsTabContent",setup(_,{expose:h}){const R=_e("masterData"),n=_e("currentCharacter"),l=$(!1),W=pe(()=>l.value?10:1);ct(()=>{document.addEventListener("keydown",i=>{G(i)}),document.addEventListener("keyup",i=>{G(i)})});const G=i=>{i.shiftKey?l.value=!0:l.value=!1},v=$(n.value.characteristics.intelligence.percentHealthPoints),U=$(n.value.characteristics.intelligence.elementalResistance),k=$(n.value.characteristics.intelligence.barrier),z=$(n.value.characteristics.intelligence.percentHealsReceived),N=$(n.value.characteristics.intelligence.percentArmorHeathPoints),V=$(n.value.characteristics.strength.elementalMastery),P=$(n.value.characteristics.strength.meleeMastery),H=$(n.value.characteristics.strength.distanceMastery),D=$(n.value.characteristics.strength.healthPoints),b=$(n.value.characteristics.agility.lock),B=$(n.value.characteristics.agility.dodge),ee=$(n.value.characteristics.agility.initiative),Q=$(n.value.characteristics.agility.lockAndDodge),re=$(n.value.characteristics.agility.forceOfWill),M=$(n.value.characteristics.fortune.percentCriticalHit),L=$(n.value.characteristics.fortune.percentBlock),S=$(n.value.characteristics.fortune.criticalMastery),T=$(n.value.characteristics.fortune.rearMastery),w=$(n.value.characteristics.fortune.berserkMastery),q=$(n.value.characteristics.fortune.healingMastery),X=$(n.value.characteristics.fortune.rearResistance),te=$(n.value.characteristics.fortune.criticalResistance),ne=$(n.value.characteristics.major.actionPoints),F=$(n.value.characteristics.major.movementPointsAndDamage),j=$(n.value.characteristics.major.rangeAndDamage),C=$(n.value.characteristics.major.wakfuPoints),Z=$(n.value.characteristics.major.controlAndDamage),oe=$(n.value.characteristics.major.percentDamageInflicted),y=$(n.value.characteristics.major.elementalResistance),f=i=>{let d=0;return i==="intelligence"?d=v.value+U.value+k.value+z.value+N.value:i==="strength"?d=V.value+P.value+H.value+D.value:i==="agility"?d=b.value+B.value+ee.value+Q.value+re.value:i==="fortune"?d=M.value+L.value+S.value+T.value+w.value+q.value+X.value+te.value:i==="major"&&(d=ne.value+F.value+j.value+C.value+Z.value+oe.value+y.value),n.value.characteristics.limits[i]-d},O=()=>{n.value.characteristics.intelligence.percentHealthPoints=v.value,n.value.characteristics.intelligence.elementalResistance=U.value,n.value.characteristics.intelligence.barrier=k.value,n.value.characteristics.intelligence.percentHealsReceived=z.value,n.value.characteristics.intelligence.percentArmorHeathPoints=N.value,n.value.characteristics.strength.elementalMastery=V.value,n.value.characteristics.strength.meleeMastery=P.value,n.value.characteristics.strength.distanceMastery=H.value,n.value.characteristics.strength.healthPoints=D.value,n.value.characteristics.agility.lock=b.value,n.value.characteristics.agility.dodge=B.value,n.value.characteristics.agility.initiative=ee.value,n.value.characteristics.agility.lockAndDodge=Q.value,n.value.characteristics.agility.forceOfWill=re.value,n.value.characteristics.fortune.percentCriticalHit=M.value,n.value.characteristics.fortune.percentBlock=L.value,n.value.characteristics.fortune.criticalMastery=S.value,n.value.characteristics.fortune.rearMastery=T.value,n.value.characteristics.fortune.berserkMastery=w.value,n.value.characteristics.fortune.healingMastery=q.value,n.value.characteristics.fortune.rearResistance=X.value,n.value.characteristics.fortune.criticalResistance=te.value,n.value.characteristics.major.actionPoints=ne.value,n.value.characteristics.major.movementPointsAndDamage=F.value,n.value.characteristics.major.rangeAndDamage=j.value,n.value.characteristics.major.wakfuPoints=C.value,n.value.characteristics.major.controlAndDamage=Z.value,n.value.characteristics.major.percentDamageInflicted=oe.value,n.value.characteristics.major.elementalResistance=y.value};Te(R,et.debounce(()=>{v.value=n.value.characteristics.intelligence.percentHealthPoints,U.value=n.value.characteristics.intelligence.elementalResistance,k.value=n.value.characteristics.intelligence.barrier,z.value=n.value.characteristics.intelligence.percentHealsReceived,N.value=n.value.characteristics.intelligence.percentArmorHeathPoints,V.value=n.value.characteristics.strength.elementalMastery,P.value=n.value.characteristics.strength.meleeMastery,H.value=n.value.characteristics.strength.distanceMastery,D.value=n.value.characteristics.strength.healthPoints,b.value=n.value.characteristics.agility.lock,B.value=n.value.characteristics.agility.dodge,ee.value=n.value.characteristics.agility.initiative,Q.value=n.value.characteristics.agility.lockAndDodge,re.value=n.value.characteristics.agility.forceOfWill,M.value=n.value.characteristics.fortune.percentCriticalHit,L.value=n.value.characteristics.fortune.percentBlock,S.value=n.value.characteristics.fortune.criticalMastery,T.value=n.value.characteristics.fortune.rearMastery,w.value=n.value.characteristics.fortune.berserkMastery,q.value=n.value.characteristics.fortune.healingMastery,X.value=n.value.characteristics.fortune.rearResistance,te.value=n.value.characteristics.fortune.criticalResistance,ne.value=n.value.characteristics.major.actionPoints,F.value=n.value.characteristics.major.movementPointsAndDamage,j.value=n.value.characteristics.major.rangeAndDamage,C.value=n.value.characteristics.major.wakfuPoints,Z.value=n.value.characteristics.major.controlAndDamage,oe.value=n.value.characteristics.major.percentDamageInflicted,y.value=n.value.characteristics.major.elementalResistance},100));const qe=pe(()=>f("intelligence")<0||f("strength")<0||f("agility")<0||f("fortune")<0||f("major")<0),u=pe(()=>f("intelligence")>0||f("strength")>0||f("agility")>0||f("fortune")>0||f("major")>0);return h({hasCharacteristicsError:qe,hasCharacteristicsPointsToSpend:u}),(i,d)=>{var p,x,ue,ge,fe,xe,Ee,Ce,Ae,c,I,g,me,Ie,Je;return o(),r("div",El,[e("div",Il,[e("div",Pl,[e("div",{class:ie(["category-wrapper flex flex-column",{error:f("intelligence")<0}])},[e("div",Tl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.intelligence")),1),Dl,e("span",null,t(f("intelligence"))+"/"+t((ue=(x=(p=a(n))==null?void 0:p.characteristics)==null?void 0:x.limits)==null?void 0:ue.intelligence)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ml,[s(le,{modelValue:v.value,"onUpdate:modelValue":d[0]||(d[0]=A=>v.value=A),label:i.$t("constants.percentHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/1.png","remaining-points":f("intelligence"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:U.value,"onUpdate:modelValue":d[1]||(d[1]=A=>U.value=A),label:i.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":f("intelligence"),"update-function":O,"max-override":10,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:k.value,"onUpdate:modelValue":d[2]||(d[2]=A=>k.value=A),label:i.$t("characterSheet.characteristicsContent.barrier"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/17.png","remaining-points":f("intelligence"),"update-function":O,"max-override":10,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:z.value,"onUpdate:modelValue":d[3]||(d[3]=A=>z.value=A),label:i.$t("constants.percentHealsReceived"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/50.png","remaining-points":f("intelligence"),"update-function":O,"max-override":5,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:N.value,"onUpdate:modelValue":d[4]||(d[4]=A=>N.value=A),label:i.$t("characterSheet.characteristicsContent.percentArmorHealthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/136.png","remaining-points":f("intelligence"),"update-function":O,"max-override":10,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column mt-2",{error:f("strength")<0}])},[e("div",Rl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.strength")),1),Ll,e("span",null,t(f("strength"))+"/"+t((xe=(fe=(ge=a(n))==null?void 0:ge.characteristics)==null?void 0:fe.limits)==null?void 0:xe.strength)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Ul,[s(le,{modelValue:V.value,"onUpdate:modelValue":d[5]||(d[5]=A=>V.value=A),label:i.$t("characterSheet.characteristicsContent.elementalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/223.png","remaining-points":f("strength"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:P.value,"onUpdate:modelValue":d[6]||(d[6]=A=>P.value=A),label:i.$t("constants.meleeMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/226.png","remaining-points":f("strength"),"update-function":O,"max-override":40,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:H.value,"onUpdate:modelValue":d[7]||(d[7]=A=>H.value=A),label:i.$t("constants.distanceMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/230.png","remaining-points":f("strength"),"update-function":O,"max-override":40,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:D.value,"onUpdate:modelValue":d[8]||(d[8]=A=>D.value=A),label:i.$t("constants.healthPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/231.png","remaining-points":f("strength"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column mt-2",{error:f("agility")<0}])},[e("div",Fl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.agility")),1),Ol,e("span",null,t(f("agility"))+"/"+t((Ae=(Ce=(Ee=a(n))==null?void 0:Ee.characteristics)==null?void 0:Ce.limits)==null?void 0:Ae.agility)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Nl,[s(le,{modelValue:b.value,"onUpdate:modelValue":d[9]||(d[9]=A=>b.value=A),label:i.$t("constants.lock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/4.png","remaining-points":f("agility"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:B.value,"onUpdate:modelValue":d[10]||(d[10]=A=>B.value=A),label:i.$t("constants.dodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/3.png","remaining-points":f("agility"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:ee.value,"onUpdate:modelValue":d[11]||(d[11]=A=>ee.value=A),label:i.$t("constants.initiative"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/2.png","remaining-points":f("agility"),"update-function":O,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:Q.value,"onUpdate:modelValue":d[12]||(d[12]=A=>Q.value=A),label:i.$t("characterSheet.characteristicsContent.lockAndDodge"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/121.png","remaining-points":f("agility"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:re.value,"onUpdate:modelValue":d[13]||(d[13]=A=>re.value=A),label:i.$t("constants.forceOfWill"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/233.png","remaining-points":f("agility"),"update-function":O,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2)]),e("div",Hl,[e("div",{class:ie(["category-wrapper flex flex-column flex-grow-1",{error:f("fortune")<0}])},[e("div",jl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.fortune")),1),Bl,e("span",null,t(f("fortune"))+"/"+t((g=(I=(c=a(n))==null?void 0:c.characteristics)==null?void 0:I.limits)==null?void 0:g.fortune)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",zl,[s(le,{modelValue:M.value,"onUpdate:modelValue":d[14]||(d[14]=A=>M.value=A),label:i.$t("constants.percentCriticalHit"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/109.png","remaining-points":f("fortune"),"update-function":O,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:L.value,"onUpdate:modelValue":d[15]||(d[15]=A=>L.value=A),label:i.$t("constants.percentBlock"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/49.png","remaining-points":f("fortune"),"update-function":O,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:S.value,"onUpdate:modelValue":d[16]||(d[16]=A=>S.value=A),label:i.$t("constants.criticalMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/19.png","remaining-points":f("fortune"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:T.value,"onUpdate:modelValue":d[17]||(d[17]=A=>T.value=A),label:i.$t("constants.rearMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/13.png","remaining-points":f("fortune"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:w.value,"onUpdate:modelValue":d[18]||(d[18]=A=>w.value=A),label:i.$t("constants.berserkMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/5.png","remaining-points":f("fortune"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:q.value,"onUpdate:modelValue":d[19]||(d[19]=A=>q.value=A),label:i.$t("constants.healingMastery"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/12.png","remaining-points":f("fortune"),"update-function":O,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:X.value,"onUpdate:modelValue":d[20]||(d[20]=A=>X.value=A),label:i.$t("constants.rearResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/115.png","remaining-points":f("fortune"),"update-function":O,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:te.value,"onUpdate:modelValue":d[21]||(d[21]=A=>te.value=A),label:i.$t("constants.criticalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/20.png","remaining-points":f("fortune"),"update-function":O,"max-override":20,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2),e("div",{class:ie(["category-wrapper flex flex-column flex-grow-1 mt-2",{error:f("major")<0}])},[e("div",Gl,[e("span",null,t(i.$t("characterSheet.characteristicsContent.major")),1),Yl,e("span",null,t(f("major"))+"/"+t((Je=(Ie=(me=a(n))==null?void 0:me.characteristics)==null?void 0:Ie.limits)==null?void 0:Je.major)+" "+t(i.$t("characterSheet.characteristicsContent.points")),1)]),e("div",Jl,[s(le,{modelValue:ne.value,"onUpdate:modelValue":d[22]||(d[22]=A=>ne.value=A),label:i.$t("constants.actionPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/8.png","remaining-points":f("major"),"update-function":O,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:F.value,"onUpdate:modelValue":d[23]||(d[23]=A=>F.value=A),label:i.$t("characterSheet.characteristicsContent.movementPointsAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/16.png","remaining-points":f("major"),"update-function":O,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:j.value,"onUpdate:modelValue":d[24]||(d[24]=A=>j.value=A),label:i.$t("characterSheet.characteristicsContent.rangeAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/48.png","remaining-points":f("major"),"update-function":O,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:C.value,"onUpdate:modelValue":d[25]||(d[25]=A=>C.value=A),label:i.$t("constants.wakfuPoints"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/105.png","remaining-points":f("major"),"update-function":O,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:Z.value,"onUpdate:modelValue":d[26]||(d[26]=A=>Z.value=A),label:i.$t("characterSheet.characteristicsContent.controlAndDamage"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/10.png","remaining-points":f("major"),"update-function":O,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:oe.value,"onUpdate:modelValue":d[27]||(d[27]=A=>oe.value=A),label:i.$t("constants.percentDamageInflicted"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/52.png","remaining-points":f("major"),"update-function":O,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"]),s(le,{modelValue:y.value,"onUpdate:modelValue":d[28]||(d[28]=A=>y.value=A),label:i.$t("constants.elementalResistance"),"image-path":"https://tmktahu.github.io/WakfuAssets/characteristics/116.png","remaining-points":f("major"),"update-function":O,"max-override":1,step:W.value},null,8,["modelValue","label","remaining-points","step"])])],2)])])])}}},Xl=$e(Ql,[["__scopeId","data-v-500c2792"]]);const lt=_=>(ye("data-v-f164a490"),_=_(),ke(),_),Zl={class:"flex align-items-center flex-wrap mt-3"},Kl={class:"flex align-items-center mr-2",style:{width:"100%","max-width":"400px"}},ei={class:"checkmarks-container flex gap-2"},ti={class:"rarity-container mt-2"},si={class:"flex align-items-center mb-1"},ai=lt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),li={class:"simple-tooltip"},ii={class:"mr-2 ml-1"},ni={class:"rarity-button-wrapper"},oi={class:"flex justify-content-center align-items-center"},ci={class:"simple-tooltip"},ri={class:"item-types-container mt-2"},ui={class:"flex align-items-center justify-content-center mb-1 w-full"},di=lt(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),pi={class:"simple-tooltip"},mi={class:"mr-2 ml-1"},hi={class:"simple-tooltip"},vi={class:"item-types-button-wrapper"},_i={class:"filter-category-wrapper"},gi={class:"flex justify-content-center align-items-center"},fi={class:"simple-tooltip"},bi={class:"filter-category-wrapper"},$i={class:"flex justify-content-center align-items-center"},yi={class:"simple-tooltip"},ki={class:"filter-category-wrapper"},Si={class:"flex justify-content-center align-items-center"},wi={class:"simple-tooltip"},xi={class:"filter-list-wrapper mt-3"},Ci={class:"px-2 py-1"},Ai={class:"px-2 py-1"},Vi={__name:"ItemFilters",setup(_){const h=[{id:"equalTo",text:"characterSheet.equipmentContent.itemFilters.equalTo",symbol:"="},{id:"lessThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.lessThanOrEqualTo",symbol:"<="},{id:"greaterThanOrEqualTo",text:"characterSheet.equipmentContent.itemFilters.greaterThanOrEqualTo",symbol:">="}],n=[Y.healthPoints.id,Y.healingMastery.id,Y.actionPoints.id,Y.movementPoints.id,Y.rearResistance.id,Y.elementalResistance.id,Y.fireResistance.id,Y.waterResistance.id,Y.earthResistance.id,Y.airResistance.id,Y.elementalMastery.id,Y.fireMastery.id,Y.earthMastery.id,Y.waterMastery.id,Y.airMastery.id,Y.criticalMastery.id,Y.criticalHit.id,Y.range.id,Y.prospecting.id,Y.wisdom.id,Y.initiative.id,Y.lock.id,Y.dodge.id,Y.forceOfWill.id,Y.rearMastery.id,Y.control.id,Y.wakfuPoints.id,Y.percentBlock.id,Y.criticalResistance.id,Y.meleeMastery.id,Y.distanceMastery.id,Y.berserkMastery.id,Y.randomElementalMasteries.id,Y.randomElementalResistances.id,Y.harvestingQuantity.id].map(w=>({value:w,text:Y[w].text})),l=_e("itemFilters"),W=$(""),G=$([l.startLevel,l.endLevel]),v=$([]),U=$(l.rarityFilters),k=$(l.itemTypeFilters),z=$(!1),N=()=>{b()},V=(w,q)=>{q==="min"&&(G.value[0]=w.value),q==="max"&&(G.value[1]=w.value),b()},P=()=>{b()},H=(w,q)=>{w.ctrlKey&&l.itemTypeFilters.forEach(X=>{X.id!==q?X.checked=!1:X.checked=!0}),b()},D=(w,q)=>{w.ctrlKey&&l.rarityFilters.forEach(X=>{X.id!==q?X.checked=!1:X.checked=!0}),b()},b=et.debounce(w=>{var q;l.searchTerm=W.value,l.startLevel=G.value[0],l.endLevel=G.value[1],l.effectFilters=v.value,l.rarityFilters=U.value,w&&((q=w.rawIds)!=null&&q.length)?B(w):l.itemTypeFilters=k.value},100),B=w=>{w.rawIds.forEach(q=>{let X=k.value.find(te=>te.rawId===q);X.checked=w.checked})},ee=()=>{let w={type:n[0],comparator:h[2],value:0};v.value.push(w),b()},Q=w=>{let q=v.value.indexOf(w);v.value.splice(q,1),b()},re=()=>{l.resetFilters(),W.value=l.searchTerm,G.value[0]=l.startLevel,G.value[1]=l.endLevel,v.value=l.effectFilters,U.value=l.rarityFilters,k.value=l.itemTypeFilters},M=()=>{l.rarityFilters.forEach(w=>{w.checked=!0}),b()},L=()=>{l.rarityFilters.forEach(w=>{w.checked=!1}),b()},S=()=>{l.itemTypeFilters.forEach(w=>{w.checked=!0}),b()},T=()=>{l.itemTypeFilters.forEach(w=>{w.checked=!1}),b()};return(w,q)=>{const X=E("p-inputText"),te=E("p-inputNumber"),ne=E("p-slider"),F=E("p-button"),j=E("tippy"),C=E("p-image"),Z=E("p-checkbox"),oe=E("p-dropdown");return o(),r(K,null,[e("div",Zl,[s(X,{modelValue:W.value,"onUpdate:modelValue":q[0]||(q[0]=y=>W.value=y),placeholder:w.$t("characterSheet.equipmentContent.itemFilters.searchItems"),class:"search-input mr-2",onInput:N},null,8,["modelValue","placeholder"]),e("div",Kl,[s(te,{modelValue:G.value[0],"onUpdate:modelValue":q[1]||(q[1]=y=>G.value[0]=y),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:q[2]||(q[2]=y=>V(y,"min"))},null,8,["modelValue"]),s(ne,{modelValue:G.value,"onUpdate:modelValue":q[3]||(q[3]=y=>G.value=y),class:"flex-grow-1 mx-3",range:"",min:0,max:230,onChange:P},null,8,["modelValue"]),s(te,{modelValue:G.value[1],"onUpdate:modelValue":q[4]||(q[4]=y=>G.value[1]=y),class:"number-input",min:0,max:230,"allow-empty":!1,onInput:q[5]||(q[5]=y=>V(y,"max"))},null,8,["modelValue"])]),s(F,{class:"filter-button",label:w.$t("characterSheet.equipmentContent.itemFilters.resetFilters"),onClick:re},null,8,["label"])]),e("div",ei,[e("div",ti,[e("div",si,[s(F,{class:"filter-button item-filter-action mr-2",label:w.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:M},null,8,["label"]),s(j,{placement:"top"},{content:m(()=>[e("div",li,t(w.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:m(()=>[ai]),_:1}),e("div",ii,t(w.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(F,{class:"filter-button item-filter-action",label:w.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:L},null,8,["label"])]),e("div",ni,[(o(!0),r(K,null,ce(U.value,y=>(o(),de(j,{key:y.id,duration:"0"},{content:m(()=>[e("div",ci,t(w.$t(y.name)),1)]),default:m(()=>[s(Z,{modelValue:y.checked,"onUpdate:modelValue":f=>y.checked=f,binary:!0,class:"rarity-checkbox",onChange:f=>D(f,y.id)},{icon:m(f=>[e("div",oi,[s(C,{class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${y.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",ri,[e("div",ui,[s(F,{class:"filter-button item-filter-action mr-2",label:w.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:S},null,8,["label"]),s(j,{placement:"top"},{content:m(()=>[e("div",pi,t(w.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:m(()=>[di]),_:1}),e("div",mi,t(w.$t("characterSheet.equipmentContent.itemFilters.itemTypes")),1),s(j,null,{content:m(()=>[e("div",hi,t(w.$t("characterSheet.equipmentContent.itemFilters.showAllFilters")),1)]),default:m(()=>[s(Z,{modelValue:z.value,"onUpdate:modelValue":q[6]||(q[6]=y=>z.value=y),class:"mr-2",binary:!0},null,8,["modelValue"])]),_:1}),s(F,{class:"filter-button item-filter-action",label:w.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:T},null,8,["label"])]),e("div",vi,[e("div",_i,[(o(!0),r(K,null,ce(k.value.filter(y=>y.category==="armor"),y=>(o(),r(K,{key:y.id},[!y.advanced||z.value?(o(),de(j,{key:0,duration:"0"},{content:m(()=>[e("div",fi,t(w.$t(y.name)),1)]),default:m(()=>[s(Z,{modelValue:y.checked,"onUpdate:modelValue":f=>y.checked=f,binary:!0,class:"item-type-checkbox",onChange:f=>H(f,y.id)},{icon:m(f=>[e("div",gi,[y.rawId?(o(),de(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),de(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))]),e("div",bi,[(o(!0),r(K,null,ce(k.value.filter(y=>y.category==="weapons"),y=>(o(),r(K,{key:y.id},[!y.advanced||z.value?(o(),de(j,{key:0,duration:"0"},{content:m(()=>[e("div",yi,t(w.$t(y.name)),1)]),default:m(()=>[s(Z,{modelValue:y.checked,"onUpdate:modelValue":f=>y.checked=f,binary:!0,class:"item-type-checkbox",onChange:f=>a(b)(y)},{icon:m(f=>[e("div",$i,[y.rawId?(o(),de(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),de(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))]),e("div",ki,[(o(!0),r(K,null,ce(k.value.filter(y=>y.category==="miscellaneous"),y=>(o(),r(K,{key:y.id},[!y.advanced||z.value?(o(),de(j,{key:0,duration:"0"},{content:m(()=>[e("div",wi,t(w.$t(y.name)),1)]),default:m(()=>[s(Z,{modelValue:y.checked,"onUpdate:modelValue":f=>y.checked=f,binary:!0,class:"item-type-checkbox",onChange:a(b)},{icon:m(f=>[e("div",Si,[y.rawId?(o(),de(C,{key:0,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawId}.png`,"image-style":"width: 16px;"},null,8,["class","src"])):(o(),de(C,{key:1,class:ie({disabled:!f.checked}),src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${y.rawIds[0]}.png`,"image-style":"width: 16px;"},null,8,["class","src"]))])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024)):ae("",!0)],64))),128))])])])]),e("div",xi,[s(F,{icon:"pi pi-plus",class:"filter-button",label:w.$t("characterSheet.equipmentContent.itemFilters.newFilter"),onClick:ee},null,8,["label"]),(o(!0),r(K,null,ce(v.value,y=>(o(),r("div",{key:y.id,class:"filter-entry"},[s(oe,{modelValue:y.type,"onUpdate:modelValue":f=>y.type=f,class:"filter-type-dropdown",options:a(n),filter:"","auto-filter-focus":"","option-label":"text",onChange:a(b)},{value:m(f=>[ve(t(w.$t(f.value.text)),1)]),option:m(f=>[e("div",Ci,t(w.$t(f.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options","onChange"]),s(oe,{modelValue:y.comparator,"onUpdate:modelValue":f=>y.comparator=f,class:"filter-comparator-dropdown",options:h,"option-label":"text",onChange:a(b)},{value:m(f=>[ve(t(f.value.symbol),1)]),option:m(f=>[e("div",Ai,t(w.$t(f.option.text)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"]),s(te,{modelValue:y.value,"onUpdate:modelValue":f=>y.value=f,class:"filter-value-input","allow-empty":!1,onInput:a(b)},null,8,["modelValue","onUpdate:modelValue","onInput"]),s(F,{class:"remove-filter-button",icon:"pi pi-trash",onClick:f=>Q(y)},null,8,["onClick"])]))),128))])],64)}}},Wi=$e(Vi,[["__scopeId","data-v-f164a490"]]);const Ye=_=>(ye("data-v-fc9729a1"),_=_(),ke(),_),qi={class:"item-card"},Ei={key:0,class:"slot-label text-center pt-1 pb-1"},Ii={class:"flex px-2 pt-2"},Pi={class:"flex flex-column ml-1"},Ti={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Di={class:"flex"},Mi={key:0},Ri={key:1},Li={key:2,class:"ml-1"},Ui=Ye(()=>e("div",{class:"flex-grow-1"},null,-1)),Fi={class:"flex flex-column"},Oi=Ye(()=>e("div",{class:"simple-tooltip"},"Open Encyclopedia Page",-1)),Ni={key:0,class:"item-card-tooltip"},Hi={key:0,class:"effect-header existing-item flex pt-2 px-1"},ji={class:"flex flex-column ml-1"},Bi={class:"item-name mr-2"},zi={class:"flex"},Gi={key:0},Yi={key:1},Ji={key:2,class:"ml-1"},Qi=Ye(()=>e("div",{class:"ml-1"},"(equipped)",-1)),Xi={class:"effect-header flex pt-2 px-1"},Zi={class:"flex flex-column ml-1"},Ki={class:"item-name mr-2"},en={class:"flex"},tn={key:0},sn={key:1},an={key:2,class:"ml-1"},ln={__name:"ItemListCard",props:{item:{type:Object,default:()=>{}},withSlotLabel:{type:Boolean,default:!1},withTotals:{type:Boolean,default:!1},withComparisons:{type:Boolean,default:!1},sticky:{type:Boolean,default:!1}},setup(_){let h=_,R=document;const n=ze(),l=_e("currentCharacter"),{getItemEncyclopediaUrl:W}=st(),{equipItem:G}=He(l),v=pe(()=>{var V,P;let N=h.item.type.validSlots[0];return((V=l.value.equipment[N])==null?void 0:V.id)!==((P=h.item)==null?void 0:P.id)?l.value.equipment[N]:null}),U=(z,N)=>{G(z,N,n)},k=z=>{let N=W(z);window.open(N,"_blank")};return(z,N)=>{const V=E("p-image"),P=E("p-button"),H=E("tippy");return o(),de(De,{delay:"[0, 0]",duration:"0",position:"top",offset:[0,-2],"append-to":()=>a(R).body,sticky:_.sticky,"max-width":500},{trigger:m(()=>[e("div",qi,[_.withSlotLabel?(o(),r("div",Ei,t(_.item.type.validSlots[0]==="LEFT_HAND"?"Ring":z.$t(a(se)[_.item.type.validSlots[0]].name))+" Slot ",1)):ae("",!0),e("div",Ii,[s(V,{src:`https://tmktahu.github.io/WakfuAssets/items/${_.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Pi,[e("div",Ti,t(z.$t(`items.${_.item.id}`)),1),e("div",Di,[s(V,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(V,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${_.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(_.item.type.id)?(o(),r("div",Mi,"Item Level: "+t(_.item.id===12237?"25":"50"),1)):(o(),r("div",Ri,"Lvl: "+t(_.item.level),1)),_.item.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Li,t(_.item.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),Ui,e("div",Fi,[s(P,{icon:"pi pi-plus",class:"action-button mb-1",onClick:N[0]||(N[0]=D=>U(_.item,D))}),s(H,{placement:"left"},{content:m(()=>[Oi]),default:m(()=>[s(P,{icon:"pi pi-question-circle",class:"action-button",onClick:N[1]||(N[1]=D=>k(_.item))})]),_:1})])])])]),content:m(()=>[_.item?(o(),r("div",Ni,[v.value&&_.withComparisons?(o(),r("div",Hi,[s(V,{src:`https://tmktahu.github.io/WakfuAssets/items/${v.value.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",ji,[e("div",Bi,t(z.$t(`items.${v.value.id}`)),1),e("div",zi,[s(V,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${v.value.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(V,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${v.value.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(v.value.type.id)?(o(),r("div",Gi,"Item Level: "+t(v.value.id===12237?"25":"50"),1)):(o(),r("div",Yi,"Lvl: "+t(v.value.level),1)),v.value.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Ji,t(v.value.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0),Qi])])])):ae("",!0),s(We,{item:_.item,"with-comparisons":_.withComparisons,"with-totals":_.withTotals},null,8,["item","with-comparisons","with-totals"]),e("div",Xi,[s(V,{src:`https://tmktahu.github.io/WakfuAssets/items/${_.item.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Zi,[e("div",Ki,t(z.$t(`items.${_.item.id}`)),1),e("div",en,[s(V,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${_.item.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(V,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${_.item.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(_.item.type.id)?(o(),r("div",tn,"Item Level: "+t(_.item.id===12237?"25":"50"),1)):(o(),r("div",sn,"Lvl: "+t(_.item.level),1)),_.item.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",an,t(_.item.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])])])])):ae("",!0)]),_:1},8,["append-to","sticky"])}}},it=$e(ln,[["__scopeId","data-v-fc9729a1"]]),nn={class:"flex align-items-center"},on={class:"mx-2"},cn=e("i",{class:"mdi mdi-information-outline"},null,-1),rn={class:"simple-tooltip"},be={__name:"OptionCheckbox",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(_){return(h,R)=>{const n=E("p-checkbox"),l=E("tippy");return o(),r("div",nn,[s(n,Ne(h.$attrs,{binary:!0}),null,16),e("div",on,t(_.label),1),_.tooltipText?(o(),de(l,{key:0,placement:"left",duration:"0"},{content:m(()=>[e("div",rn,t(_.tooltipText),1)]),default:m(()=>[cn]),_:1})):ae("",!0)])}}};const nt=_=>(ye("data-v-c3488015"),_=_(),ke(),_),un={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},dn={class:"flex"},pn={class:"flex flex-wrap gap-2"},mn={class:"px-2 py-1"},hn={class:"px-2 py-1"},vn={class:"flex align-items-center gap-4 mt-2"},_n=nt(()=>e("div",{class:"flex-grow-1"},null,-1)),gn={class:"ml-2"},fn={key:0,class:"flex"},bn={key:0,class:"item-card with-stats"},$n={class:"flex px-2 pt-2"},yn={class:"flex flex-column ml-1"},kn={class:"item-name mr-2 truncate",style:{"max-width":"15ch"}},Sn={class:"flex"},wn={key:0},xn={key:1},Cn={key:2,class:"ml-1"},An=nt(()=>e("div",{class:"flex-grow-1"},null,-1)),Vn={class:"flex flex-column gap-1"},Wn={key:1},qn={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},En={class:"text-center mt-2"},In={class:"flex justify-content-center"},Pn={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Tn={__name:"EquipmentTabContent",setup(_,{expose:h}){const R=ze(),{t:n}=Ge(),l=_e("currentCharacter"),W=_e("currentItemList"),G=_e("itemListLoading"),v=_e("itemFilters"),U=$(null),k=$(4),{getNumTotalItems:z}=He(),{getItemEncyclopediaUrl:N}=st(),V=()=>{k.value=Math.floor((U.value.clientWidth-16)/(D.value?310+5:230+5))};window.addEventListener("resize",V);let P=pe(()=>{let S=[],T=[];return W.value.forEach(w=>{T.length===k.value?(S.push(T),T=[w]):T.push(w)}),T.length>0&&S.push(T),S.length===0&&S.push([]),S});const H=$(!1),D=$(!1),b=$(!1),B=$(!1),ee=()=>{H.value=!0,Pe(()=>{V()})};Te(D,()=>{Pe(()=>{H.value=!1,Pe(()=>{H.value=!0,Pe(()=>{V()})})})});const Q=(S,T)=>{let w=S.type.validSlots.includes(se.LEFT_HAND.id)||S.type.validSlots.includes(se.RIGHT_HAND.id),q=S.type.disabledSlots.includes(se.SECOND_WEAPON.id)&&l.value.equipment[se.SECOND_WEAPON.id]!==null,X=S.type.validSlots[0]===se.SECOND_WEAPON.id&&l.value.equipment[se.FIRST_WEAPON.id]!==null&&l.value.equipment[se.FIRST_WEAPON.id].type.disabledSlots.includes(se.SECOND_WEAPON.id),te=!1,ne=null,F=!1,j=null;Object.keys(l.value.equipment).forEach(oe=>{S.rarity===5&&l.value.equipment[oe]!==null&&l.value.equipment[oe].rarity===5&&(te=!0,ne=oe),S.rarity===7&&l.value.equipment[oe]!==null&&l.value.equipment[oe].rarity===7&&(F=!0,j=oe)});let C=null;te&&(C=n("characterSheet.equipmentContent.hasRelicWarning")),F&&(C=n("characterSheet.equipmentContent.hasEpicWarning")),q&&(C=n("characterSheet.equipmentContent.twoHandedWeaponWarning")),X&&(C=n("characterSheet.equipmentContent.secondWeaponWarning")),te&&q&&(C=n("characterSheet.equipmentContent.relicAndTwoHandedWarning")),te&&X&&(C=n("characterSheet.equipmentContent.relicAndSecondWeaponWarning")),F&&q&&(C=n("characterSheet.equipmentContent.epicAndTwoHandedWarning")),F&&X&&(C=n("characterSheet.equipmentContent.epicAndSecondWeaponWarning")),q||X||te||F?R.require({group:"popup",target:T.currentTarget,message:C,accept:()=>{w&&(l.value.equipment[se.LEFT_HAND.id]===null?l.value.equipment[se.LEFT_HAND.id]=S:l.value.equipment[se.RIGHT_HAND.id]=S),q&&(l.value.equipment[se.FIRST_WEAPON.id]=S,l.value.equipment[se.SECOND_WEAPON.id]=null),X&&(l.value.equipment[se.FIRST_WEAPON.id]=null,l.value.equipment[se.SECOND_WEAPON.id]=S),te&&(l.value.equipment[ne]=null,l.value.equipment[S.type.validSlots[0]]=S),F&&(l.value.equipment[j]=null,l.value.equipment[S.type.validSlots[0]]=S)}}):w?l.value.equipment[se.LEFT_HAND.id]===null?l.value.equipment[se.LEFT_HAND.id]=S:l.value.equipment[se.RIGHT_HAND.id]=S:S.type.validSlots.length>1?console.log("There is an item type with 2 valid slots that we are not handling",S.type):l.value.equipment[S.type.validSlots[0]]=S},re=S=>{let T=N(S);window.open(T,"_blank")},M=()=>{let S={sortBy:Qe[0],sortOrder:Xe[0]};v.sortingParams.push(S)},L=S=>{let T=v.sortingParams.indexOf(S);v.sortingParams.splice(T,1)};return h({showList:ee}),(S,T)=>{const w=E("p-divider"),q=E("p-button"),X=E("p-dropdown"),te=E("p-image"),ne=E("p-virtualScroller"),F=E("p-progressSpinner");return o(),r("div",un,[s(at,{character:a(l),"with-totals":b.value},null,8,["character","with-totals"]),s(Wi),s(w,{class:"mt-2 mb-2"}),e("div",dn,[e("div",pn,[s(q,{icon:"pi pi-plus",class:"filter-button",label:S.$t("characterSheet.equipmentContent.newSort"),onClick:M},null,8,["label"]),(o(!0),r(K,null,ce(a(v).sortingParams,(j,C)=>(o(),r("div",{key:C,class:"filter-entry"},[s(X,{modelValue:j.sortBy,"onUpdate:modelValue":Z=>j.sortBy=Z,class:"filter-type-dropdown","option-label":"label",filter:"","auto-filter-focus":"",options:a(Qe)},{value:m(Z=>[ve(t(S.$t(Z.value.label)),1)]),option:m(Z=>[e("div",mn,t(S.$t(Z.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(X,{modelValue:j.sortOrder,"onUpdate:modelValue":Z=>j.sortOrder=Z,class:"filter-comparator-dropdown","option-label":"label",options:a(Xe)},{value:m(Z=>[ve(t(S.$t(Z.value.label)),1)]),option:m(Z=>[e("div",hn,t(S.$t(Z.option.label)),1)]),_:2},1032,["modelValue","onUpdate:modelValue","options"]),s(q,{class:"remove-filter-button",icon:"pi pi-trash",onClick:Z=>L(j)},null,8,["onClick"])]))),128))])]),s(w,{class:"mt-2 mb-2"}),e("div",vn,[s(be,{modelValue:D.value,"onUpdate:modelValue":T[0]||(T[0]=j=>D.value=j),label:S.$t("characterSheet.equipmentContent.displayStats")},null,8,["modelValue","label"]),s(be,{modelValue:b.value,"onUpdate:modelValue":T[1]||(T[1]=j=>b.value=j),label:S.$t("characterSheet.equipmentContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:B.value,"onUpdate:modelValue":T[2]||(T[2]=j=>B.value=j),label:S.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"]),_n,e("div",gn,t(a(W).length)+" "+t(S.$t("characterSheet.equipmentContent.resultsOutOf"))+" "+t(a(z)())+" "+t(S.$t("characterSheet.equipmentContent.itemsTotal")),1)]),H.value&&!a(G)?(o(),r("div",{key:0,ref_key:"itemResultsWrapper",ref:U,class:"item-results-wrapper flex flex-grow-1 mt-2"},[s(ne,{items:a(P),"item-size":[D.value?215:65,D.value?315:235],orientation:"both",style:{width:"100%",height:"100%"}},{item:m(({item:j})=>[a(P)[0].length>0?(o(),r("div",fn,[(o(!0),r(K,null,ce(j,(C,Z)=>(o(),r(K,{key:Z},[D.value&&C?(o(),r("div",bn,[e("div",$n,[s(te,{src:`https://tmktahu.github.io/WakfuAssets/items/${C.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",yn,[e("div",kn,t(S.$t(`items.${C.id}`)),1),e("div",Sn,[s(te,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/rarities/${C.rarity}.png`,"image-style":"width: 12px;"},null,8,["src"]),s(te,{class:"mr-1",src:`https://tmktahu.github.io/WakfuAssets/itemTypes/${C.type.id}.png`,"image-style":"width: 18px;"},null,8,["src"]),a(Oe).includes(C.type.id)?(o(),r("div",wn,t(S.$t("characterSheet.equipmentContent.itemLevel"))+": "+t(C.id===12237?"25":"50"),1)):(o(),r("div",xn,"Lvl: "+t(C.level),1)),C.type.validSlots[0]===a(se).FIRST_WEAPON.id?(o(),r("div",Cn,t(C.type.disabledSlots.includes(a(se).SECOND_WEAPON.id)?"(2H)":"(1H)"),1)):ae("",!0)])]),An,e("div",Vn,[s(q,{icon:"pi pi-plus",class:"equip-button",onClick:oe=>Q(C,oe)},null,8,["onClick"]),s(q,{icon:"pi pi-question-circle",class:"equip-button",onClick:oe=>re(C)},null,8,["onClick"])])]),s(We,{"card-mode":"",item:C,"with-totals":b.value,"with-comparisons":B.value},null,8,["item","with-totals","with-comparisons"])])):(o(),de(it,{key:1,item:C,"with-totals":b.value,"with-comparisons":B.value},null,8,["item","with-totals","with-comparisons"]))],64))),128))])):(o(),r("div",Wn,t(S.$t("characterSheet.equipmentContent.noItemsFound")),1))]),_:1},8,["items","item-size"])],512)):(o(),r("div",qn,[e("div",En,t(S.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",In,[e("div",Pn,[s(F,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(F,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])]))])}}},Dn=$e(Tn,[["__scopeId","data-v-c3488015"]]);const Se=_=>(ye("data-v-22a133ae"),_=_(),ke(),_),Mn={class:"w-full h-full"},Rn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Ln={class:"simple-tooltip"},Un={class:"flex mt-2"},Fn={class:"flex flex-wrap gap-1 mr-3",style:{"max-width":"260px"}},On={class:"disabled-mask"},Nn=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Hn={key:1,class:"spell-button disabled"},jn={class:"disabled-mask"},Bn={class:"mt-3"},zn=Se(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Gn={class:"simple-tooltip"},Yn={class:"flex mt-2"},Jn={class:"flex gap-1 mr-3",style:{"max-width":"260px"}},Qn={key:0},Xn=["onClick"],Zn=Se(()=>e("div",{class:"hover-icon remove"},[e("i",{class:"pi pi-trash"})],-1)),Kn={class:"spell-tooltip"},eo={class:"spell-name px-2 py-1"},to={class:"spell-description px-2 py-1"},so=["innerHTML"],ao={key:0,class:"spell-unlock-number"},lo={class:"flex flex-wrap gap-1"},io=["onClick"],no=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),oo=Se(()=>e("div",{class:"disabled-mask"},null,-1)),co={key:0,class:"spell-unlock-number"},ro={class:"spell-tooltip"},uo={class:"spell-name px-2 py-1"},po={class:"spell-description px-2 py-1"},mo=["innerHTML"],ho={class:"flex flex-wrap gap-1"},vo=["onClick"],_o=Se(()=>e("div",{class:"hover-icon add"},[e("i",{class:"mdi mdi-plus-thick"})],-1)),go=Se(()=>e("div",{class:"disabled-mask"},null,-1)),fo={key:0,class:"spell-unlock-number"},bo={class:"spell-tooltip"},$o={class:"spell-name px-2 py-1"},yo={class:"spell-description px-2 py-1"},ko=["innerHTML"],So={__name:"SpellTabContent",setup(_){const h=_e("currentCharacter"),{getClassPassiveSpells:R,getSpellHtml:n,getSpellLevel:l}=rt(h),W=pe(()=>R(h.value.class).sort((H,D)=>{let b=Ve[H.id],B=Ve[D.id];return b-B})),G=pe(()=>R("all").sort((H,D)=>{let b=Ve[H.id],B=Ve[D.id];return b-B})),v=V=>{V.category===je.passive&&(Object.keys(h.value.spells).forEach(P=>{var H;P.includes(je.passive)&&((H=h.value.spells[P])==null?void 0:H.id)===V.id&&(h.value.spells[P]=null)}),Object.keys(h.value.spells).some(P=>{if(P.includes(je.passive)&&N(parseInt(P.replace("passiveSlot","")))&&h.value.spells[P]===null)return h.value.spells[P]=V,!0}))},U=V=>{h.value.spells[V]=null},k=V=>{let P=!1;return Object.keys(h.value.spells).forEach(H=>{var D;((D=h.value.spells[H])==null?void 0:D.id)===V.id&&(P=!0)}),P},z=V=>{let P=Ve[V.id];return h.value.level>=P},N=V=>{let P=Ze[V-1];return h.value.level>=P};return(V,P)=>{const H=E("tippy"),D=E("p-image");return o(),r("div",Mn,[e("div",null,[s(H,{placement:"left"},{content:m(()=>[e("div",Ln,t(V.$t("characterSheet.spellsAndPassivesContent.activesNote")),1)]),default:m(()=>[Rn]),_:1}),ve(" "+t(V.$t("characterSheet.spellsAndPassivesContent.activeSpells")),1)]),e("div",Un,[e("div",Fn,[(o(),r(K,null,ce(12,b=>(o(),r(K,{key:b},[a(h).spells["activeSlot"+b]!==null?(o(),r("div",{key:0,class:"spell-button disabled",onClick:P[0]||(P[0]=B=>U(V.spell))},[e("div",On,t(),1),Nn,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(h).spells["activeSlot"+b].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])])):(o(),r("div",Hn,[s(D,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),e("div",jn,t(),1)]))],64))),64))])]),e("div",Bn,[s(H,{placement:"left"},{content:m(()=>[e("div",Gn,t(V.$t("characterSheet.spellsAndPassivesContent.passivesNote")),1)]),default:m(()=>[zn]),_:1}),ve(" "+t(V.$t("characterSheet.spellsAndPassivesContent.passives")),1)]),e("div",Yn,[e("div",Jn,[(o(),r(K,null,ce(6,b=>(o(),r(K,{key:b},[a(h).spells["passiveSlot"+b]!==null?(o(),r("div",Qn,[s(H,{duration:"0"},{content:m(()=>[e("div",Kn,[e("div",eo,t(a(h).spells["passiveSlot"+b].name)+" (Level "+t(a(l)(a(h).spells["passiveSlot"+b]))+") ",1),e("div",to,t(a(h).spells["passiveSlot"+b].description),1),e("div",{class:"spell-details",innerHTML:a(n)(a(h).spells["passiveSlot"+b])},null,8,so)])]),default:m(()=>[e("div",{class:"spell-button",onClick:B=>U("passiveSlot"+b)},[Zn,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${a(h).spells["passiveSlot"+b].iconId}.png`,"image-style":"width: 40px"},null,8,["src"])],8,Xn)]),_:2},1024)])):(o(),r("div",{key:1,class:ie(["spell-slot",{disabled:!N(b)}])},[s(D,{src:"https://tmktahu.github.io/WakfuAssets/spells/empty_slot.png","image-style":"width: 40px"},null,8,["src"]),N(b)?ae("",!0):(o(),r("div",ao,t(a(Ze)[b-1]),1))],2))],64))),64))]),e("div",lo,[(o(!0),r(K,null,ce(W.value,b=>(o(),de(H,{key:b.id,duration:"0"},{content:m(()=>[e("div",ro,[e("div",uo,t(b.name)+" (Level "+t(a(l)(b))+")",1),e("div",po,t(b.description),1),e("div",{class:"spell-details",innerHTML:a(n)(b)},null,8,mo)])]),default:m(()=>[e("div",{class:ie(["spell-button",{disabled:k(b)||!z(b)}]),onClick:B=>v(b)},[no,oo,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${b.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),z(b)?ae("",!0):(o(),r("div",co,t(a(Ve)[b.id]),1))],10,io)]),_:2},1024))),128))]),e("div",ho,[(o(!0),r(K,null,ce(G.value,b=>(o(),de(H,{key:b.id,duration:"0"},{content:m(()=>[e("div",bo,[e("div",$o,t(b.name)+" (Level "+t(a(l)(b))+")",1),e("div",yo,t(b.description),1),e("div",{class:"spell-details",innerHTML:a(n)(b)},null,8,ko)])]),default:m(()=>[e("div",{class:ie(["spell-button",{disabled:k(b)||!z(b)}]),onClick:B=>v(b)},[_o,go,s(D,{src:`https://tmktahu.github.io/WakfuAssets/spells/${b.iconId}.png`,"image-style":"width: 40px"},null,8,["src"]),z(b)?ae("",!0):(o(),r("div",fo,t(a(Ve)[b.id]),1))],10,vo)]),_:2},1024))),128))])])])}}},wo=$e(So,[["__scopeId","data-v-22a133ae"]]),xo={class:"flex align-items-center"},Co={class:"mx-2"},Ao=e("i",{class:"mdi mdi-information-outline"},null,-1),Vo={class:"simple-tooltip"},Ue={__name:"OptionNumInput",props:{label:{type:String,default:""},tooltipText:{type:String,default:""}},setup(_){return(h,R)=>{const n=E("p-inputNumber"),l=E("tippy");return o(),r("div",xo,[s(n,Ne(h.$attrs,{class:"number-input"}),null,16),e("div",Co,t(_.label),1),s(l,{placement:"left",duration:"0"},{content:m(()=>[e("div",Vo,t(_.tooltipText),1)]),default:m(()=>[Ao]),_:1})])}}};const Re=_=>(ye("data-v-385dc262"),_=_(),ke(),_),Wo={class:"flex flex-column h-full",style:{"overflow-y":"auto"}},qo={class:"flex flex-column mt-4"},Eo={class:"flex"},Io={class:"flex mt-3"},Po={class:"setting-group flex flex-column mr-3 gap-2"},To={class:"mb-2"},Do=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Mo={class:"simple-tooltip"},Ro={class:"setting-group flex flex-column mr-3"},Lo={class:"flex flex-column gap-2"},Uo={class:"mb-2"},Fo=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Oo={class:"simple-tooltip"},No={class:"flex align-items-center"},Ho={class:"mr-2"},jo={class:"px-2 py-1"},Bo={class:"flex align-items-center"},zo={class:"mr-2"},Go={class:"px-2 py-1"},Yo={class:"flex align-items-center"},Jo={class:"mr-2"},Qo={class:"px-2 py-1"},Xo={class:"flex align-items-center"},Zo={class:"mr-2"},Ko={class:"px-2 py-1"},ec={class:"flex align-items-center"},tc={class:"mr-2"},sc={class:"px-2 py-1"},ac={class:"flex flex-column"},lc={class:"rarity-container"},ic={class:"flex align-items-center mb-1"},nc=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),oc={class:"simple-tooltip"},cc={class:"mr-2 ml-1"},rc={class:"rarity-button-wrapper"},uc={class:"flex justify-content-center align-items-center"},dc={class:"simple-tooltip"},pc={class:"setting-group flex flex-column gap-2 mt-2"},mc={class:"mb-2"},hc=Re(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),vc={class:"simple-tooltip"},_c={key:0,class:"warning-message mt-2 py-1 px-2"},gc={class:"flex align-items-center mt-3"},fc=Re(()=>e("div",{class:"flex-grow-1"},null,-1)),bc=["innerHTML"],$c={class:"flex align-items-center gap-4 mt-2"},yc={key:0,class:"results-display flex flex-column flex-grow-1 mt-2"},kc={key:0,class:"error-state px-3 py-3"},Sc={key:0,class:"mt-1"},wc={key:1},xc={class:"mt-3"},Cc={key:0,class:"mt-2"},Ac={style:{"word-wrap":"break-word","max-width":"calc(200px)"}},Vc={key:1},Wc={class:"flex flex-wrap gap-1 mt-2"},qc={key:2,class:"loading-state px-3 py-3"},Ec={class:"mt-2"},Ic={key:1,class:"loading-state flex flex-column flex-grow-1 w-full mt-3"},Pc={class:"text-center mt-2"},Tc={class:"text-center mb-5 mt-2"},Dc={class:"flex justify-content-center"},Mc={style:{position:"relative",width:"100px",height:"100px","margin-bottom":"20px"}},Rc={__name:"ItemSolverTabContent",setup(_){const{t:h}=Ge(),R=ze(),n=_e("currentCharacter"),{equipItem:l}=He(n),{runCalculations:W,autoBuilderIsReady:G,itemSet:v,builderLoading:U,builderError:k}=ut(),{createBuildCode:z}=tt(),N=$(!1),V=$(!1),P=$(!1),H=pe(()=>{if(N.value)return v.value;{let p=Object.keys(n.value.equipment).map(x=>{if(n.value.equipment[x])return n.value.equipment[x].id}).filter(x=>x!==void 0);return v.value?v.value.filter(x=>!p.includes(x.id)):[]}}),D=$(n.value.actionPoints),b=$(n.value.movementPoints),B=$(n.value.stats.range),ee=$(n.value.wakfuPoints),Q=$(!1),re=$(!1),M=$(!1),L=$(!1),S=[{value:0,label:"characterSheet.itemSolverContent.normal"},{value:1,label:"characterSheet.itemSolverContent.prioritized"}],T=[...S,{value:2,label:"characterSheet.itemSolverContent.preferNoNegatives"},{value:4,label:"characterSheet.itemSolverContent.heavilyPreferNoNegatives"}],w=$(S[0]),q=$(S[0]),X=$(S[0]),te=$(S[0]),ne=$(S[0]),F=$(!0),j=$(dt.map(p=>({...p,checked:!0}))),C=$(!0);Te(G,()=>{C.value=!1});const Z=()=>{j.value.forEach(p=>{p.checked=!0})},oe=()=>{j.value.forEach(p=>{p.checked=!1})},y=pe(()=>G.value),f=pe(()=>z(n.value)),O=$(null);Te([D,b,B,ee],()=>{O.value=null,D.value-n.value.actionPoints>=6?O.value=h("characterSheet.itemSolverContent.apWarning"):B.value-n.value.stats.range>5?O.value=h("characterSheet.itemSolverContent.rangeImpossibleWarning"):n.value.level<35?B.value-n.value.stats.range>0&&(O.value=h("characterSheet.itemSolverContent.rangeForLevelWarning")):n.value.level<50?B.value-n.value.stats.range>1?O.value=h("characterSheet.itemSolverContent.rangeForLevelWarning"):D.value-n.value.actionPoints+b.value-n.value.movementPoints>4&&(O.value=h("characterSheet.itemSolverContent.combinedApMpWarning")):n.value.level<80&&B.value-n.value.stats.range>3&&(O.value=h("characterSheet.itemSolverContent.rangeForLevelWarning"))});const qe=async()=>{let p=j.value.filter(ue=>ue.checked).map(ue=>ue.id),x={buildCode:f.value,meleeMasteryPriority:w.value,distanceMasteryPriority:q.value,healingMasteryPriority:X.value,rearMasteryPriority:te.value,berserkMasteryPriority:ne.value,fireMastery:Q.value,earthMastery:re.value,waterMastery:M.value,airMastery:L.value,targetApAmount:D.value||0,targetMpAmount:b.value||0,targetRangeAmount:B.value||0,targetWpAmount:ee.value||0,selectedRarityIds:p,ignoreEquippedItems:!F.value};W(x)},u=p=>{R.require({group:"popup",target:p.currentTarget,message:h("confirms.willReplaceItems"),accept:()=>{v.value.forEach(x=>{l(x)})}})},i=(p,x)=>{p.ctrlKey&&j.value.forEach(ue=>{ue.id!==x?ue.checked=!1:ue.checked=!0})},d=()=>`<a href="//github.com/mikeshardmind/wakfu-utils" target="_blank">Keeper of Time (sinbad)</a>'s`;return(p,x)=>{var Ae,c,I;const ue=E("tippy"),ge=E("p-dropdown"),fe=E("p-button"),xe=E("p-image"),Ee=E("p-checkbox"),Ce=E("p-progressSpinner");return o(),r("div",Wo,[s(at,{character:a(n)},null,8,["character"]),e("div",qo,[e("div",Eo,[s(be,{modelValue:F.value,"onUpdate:modelValue":x[0]||(x[0]=g=>F.value=g),label:"Consider Current Items","tooltip-text":"Should the currently equipped items be taken into consideration?"},null,8,["modelValue"])]),e("div",Io,[e("div",Po,[e("div",To,[s(ue,{placement:"top",duration:"0"},{content:m(()=>[e("div",Mo,t(p.$t("characterSheet.itemSolverContent.targetStatsInfo")),1)]),default:m(()=>[Do]),_:1}),ve(" "+t(p.$t("characterSheet.itemSolverContent.totalTargetStats")),1)]),s(Ue,{modelValue:D.value,"onUpdate:modelValue":x[1]||(x[1]=g=>D.value=g),label:p.$t("constants.actionPoints"),"tooltip-text":p.$t("characterSheet.itemSolverContent.apTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:b.value,"onUpdate:modelValue":x[2]||(x[2]=g=>b.value=g),label:p.$t("constants.movementPoints"),"tooltip-text":p.$t("characterSheet.itemSolverContent.mpTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:B.value,"onUpdate:modelValue":x[3]||(x[3]=g=>B.value=g),label:p.$t("constants.range"),"tooltip-text":p.$t("characterSheet.itemSolverContent.rangeTooltip")},null,8,["modelValue","label","tooltip-text"]),s(Ue,{modelValue:ee.value,"onUpdate:modelValue":x[4]||(x[4]=g=>ee.value=g),label:p.$t("constants.wakfuPoints"),"tooltip-text":p.$t("characterSheet.itemSolverContent.wakfuTooltip")},null,8,["modelValue","label","tooltip-text"])]),e("div",Ro,[e("div",Lo,[e("div",Uo,[s(ue,{placement:"top",duration:"0"},{content:m(()=>[e("div",Oo,t(p.$t("characterSheet.itemSolverContent.prioritiesInfo")),1)]),default:m(()=>[Fo]),_:1}),ve(" "+t(p.$t("characterSheet.itemSolverContent.priorities")),1)]),e("div",No,[e("div",Ho,t(p.$t("constants.meleeMastery")),1),s(ge,{modelValue:w.value,"onUpdate:modelValue":x[5]||(x[5]=g=>w.value=g),class:"condensed-dropdown","option-label":"label",options:S},{value:m(g=>[ve(t(p.$t(g.value.label)),1)]),option:m(g=>[e("div",jo,t(p.$t(g.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Bo,[e("div",zo,t(p.$t("constants.distanceMastery")),1),s(ge,{modelValue:q.value,"onUpdate:modelValue":x[6]||(x[6]=g=>q.value=g),class:"condensed-dropdown","option-label":"label",options:S},{value:m(g=>[ve(t(p.$t(g.value.label)),1)]),option:m(g=>[e("div",Go,t(p.$t(g.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Yo,[e("div",Jo,t(p.$t("constants.healingMastery")),1),s(ge,{modelValue:X.value,"onUpdate:modelValue":x[7]||(x[7]=g=>X.value=g),class:"condensed-dropdown","option-label":"label",options:S},{value:m(g=>[ve(t(p.$t(g.value.label)),1)]),option:m(g=>[e("div",Qo,t(p.$t(g.option.label)),1)]),_:1},8,["modelValue"])]),e("div",Xo,[e("div",Zo,t(p.$t("constants.rearMastery")),1),s(ge,{modelValue:te.value,"onUpdate:modelValue":x[8]||(x[8]=g=>te.value=g),class:"condensed-dropdown","option-label":"label",options:T},{value:m(g=>[ve(t(p.$t(g.value.label)),1)]),option:m(g=>[e("div",Ko,t(p.$t(g.option.label)),1)]),_:1},8,["modelValue"])]),e("div",ec,[e("div",tc,t(p.$t("constants.berserkMastery")),1),s(ge,{modelValue:ne.value,"onUpdate:modelValue":x[9]||(x[9]=g=>ne.value=g),class:"condensed-dropdown","option-label":"label",options:T},{value:m(g=>[ve(t(p.$t(g.value.label)),1)]),option:m(g=>[e("div",sc,t(p.$t(g.option.label)),1)]),_:1},8,["modelValue"])])])]),e("div",ac,[e("div",lc,[e("div",ic,[s(fe,{class:"filter-button item-filter-action mr-2",label:p.$t("characterSheet.equipmentContent.itemFilters.all"),onClick:Z},null,8,["label"]),s(ue,{placement:"top"},{content:m(()=>[e("div",oc,t(p.$t("characterSheet.equipmentContent.itemFilters.ctrlClickToSelectOne")),1)]),default:m(()=>[nc]),_:1}),e("div",cc,t(p.$t("characterSheet.equipmentContent.itemFilters.rarities")),1),s(fe,{class:"filter-button item-filter-action",label:p.$t("characterSheet.equipmentContent.itemFilters.none"),onClick:oe},null,8,["label"])]),e("div",rc,[(o(!0),r(K,null,ce(j.value,g=>(o(),de(ue,{key:g.id,duration:"0"},{content:m(()=>[e("div",dc,t(p.$t(g.name)),1)]),default:m(()=>[s(Ee,{modelValue:g.checked,"onUpdate:modelValue":me=>g.checked=me,binary:!0,class:"rarity-checkbox",onChange:me=>i(me,g.id)},{icon:m(me=>[e("div",uc,[s(xe,{class:ie({disabled:!me.checked}),src:`https://tmktahu.github.io/WakfuAssets/rarities/${g.id}.png`,"image-style":"width: 14px;"},null,8,["class","src"])])]),_:2},1032,["modelValue","onUpdate:modelValue","onChange"])]),_:2},1024))),128))])]),e("div",pc,[e("div",mc,[s(ue,{placement:"top",duration:"0"},{content:m(()=>[e("div",vc,t(p.$t("characterSheet.itemSolverContent.elementaryMasteryInfo")),1)]),default:m(()=>[hc]),_:1}),ve(" "+t(p.$t("constants.elementalMasteries")),1)]),s(be,{modelValue:Q.value,"onUpdate:modelValue":x[10]||(x[10]=g=>Q.value=g),label:p.$t("constants.fireMastery")},null,8,["modelValue","label"]),s(be,{modelValue:re.value,"onUpdate:modelValue":x[11]||(x[11]=g=>re.value=g),label:p.$t("constants.earthMastery")},null,8,["modelValue","label"]),s(be,{modelValue:M.value,"onUpdate:modelValue":x[12]||(x[12]=g=>M.value=g),label:p.$t("constants.waterMastery")},null,8,["modelValue","label"]),s(be,{modelValue:L.value,"onUpdate:modelValue":x[13]||(x[13]=g=>L.value=g),label:p.$t("constants.airMastery")},null,8,["modelValue","label"])])])]),O.value!==null?(o(),r("div",_c,t(O.value),1)):ae("",!0)]),e("div",gc,[s(fe,{class:"py-2 px-3 mr-2",disabled:!y.value,label:(Ae=H.value)!=null&&Ae.length?"Re-Generate Item Set":"Generate Item Set",onClick:qe},null,8,["disabled","label"]),s(fe,{class:"py-2 px-3 mr-2",disabled:!((c=H.value)!=null&&c.length),label:"Equip All Items",onClick:x[14]||(x[14]=g=>u(g))},null,8,["disabled"]),fc,e("div",{innerHTML:p.$t("characterSheet.itemSolverContent.poweredBy",{credit:d()})},null,8,bc)]),e("div",$c,[s(be,{modelValue:N.value,"onUpdate:modelValue":x[15]||(x[15]=g=>N.value=g),label:p.$t("characterSheet.itemSolverContent.showAllItems")},null,8,["modelValue","label"]),s(be,{modelValue:V.value,"onUpdate:modelValue":x[16]||(x[16]=g=>V.value=g),label:p.$t("characterSheet.itemSolverContent.displayTotals")},null,8,["modelValue","label"]),s(be,{modelValue:P.value,"onUpdate:modelValue":x[17]||(x[17]=g=>P.value=g),label:p.$t("characterSheet.equipmentContent.compareToEquipped")},null,8,["modelValue","label"])]),a(U)?(o(),r("div",Ic,[e("div",Pc,t(p.$t("characterSheet.itemSolverContent.loadingMessage")),1),e("div",Tc,t(p.$t("characterSheet.itemSolverContent.loadingDisclaimer")),1),e("div",Dc,[e("div",Mc,[s(Ce,{class:"first-spinner","stroke-width":"4",style:{width:"50px",height:"50px"}}),s(Ce,{class:"second-spinner","animation-duration":"1s","stroke-width":"2",style:{width:"100px",height:"100px"}})])])])):(o(),r("div",yc,[a(k)?(o(),r("div",kc,[a(k).debug?(o(),r("div",Sc,t(p.$t("characterSheet.itemSolverContent.sinbadErrorInfo")),1)):(o(),r("div",wc,t(p.$t("characterSheet.itemSolverContent.problemMessage")),1)),e("div",xc,[e("div",null,"Error Code: "+t(a(k).message),1),a(k).debug?(o(),r("div",Cc,[e("div",Ac,"Debug Code: "+t(a(k).debug),1)])):ae("",!0)])])):(I=H.value)!=null&&I.length?(o(),r("div",Vc,[e("div",Wc,[(o(!0),r(K,null,ce(H.value,g=>(o(),r("div",{key:g.id,class:"item-card-wrapper"},[s(it,{item:g,"with-slot-label":"","with-comparisons":P.value,"with-totals":V.value},null,8,["item","with-comparisons","with-totals"])]))),128))])])):(o(),r("div",qc,[e("div",null,t(p.$t("characterSheet.itemSolverContent.instructions")),1),e("div",Ec,t(p.$t("characterSheet.itemSolverContent.ifYouNeedHelp")),1)]))]))])}}},Lc=$e(Rc,[["__scopeId","data-v-385dc262"]]);const we=_=>(ye("data-v-5b428d31"),_=_(),ke(),_),Uc={class:"flex h-full"},Fc={class:"flex flex-column"},Oc={class:"mb-2"},Nc={class:"flex"},Hc={class:"mr-2"},jc=we(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Bc={class:"simple-tooltip flex flex-column"},zc={class:"mb-1"},Gc={class:"mb-1"},Yc={class:"mb-1"},Jc={class:"mb-1"},Qc={class:"mb-1"},Xc={class:"mb-1"},Zc={key:0,class:"item-runes-section flex align-items-center mb-2"},Kc=["onClick"],er=["onClick","onDrop","onContextmenu","onDragstart"],tr={class:"rune-image"},sr={class:"rune-level"},ar={class:"simple-tooltip"},lr=["onDrop"],ir={class:"rune-image"},nr=["onDrop","onClick"],or={key:0,class:"sublimation-entry flex align-items-center px-2"},cr={class:"ml-1"},rr=we(()=>e("i",{class:"pi pi-trash"},null,-1)),ur={key:0,class:"item-card-tooltip"},dr={class:"effect-header flex pt-2 px-1"},pr={class:"flex flex-column ml-1"},mr={class:"item-name mr-2"},hr={class:"rune-requirements flex justify-content-left gap-1 py-1"},vr=["onDrop","onClick"],_r={class:"px-2",style:{opacity:"0.5"}},gr={key:1,class:"item-runes-section disabled flex align-items-center mb-2 pr-1"},fr={class:"slot-image"},br=["onDrop"],$r={class:"info-text"},yr={class:"flex mb-2"},kr={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Sr={class:"ml-1"},wr={key:1,class:"flex align-items-center px-2 py-2"},xr={class:"ml-1"},Cr=we(()=>e("i",{class:"pi pi-trash"},null,-1)),Ar={key:0,class:"item-card-tooltip"},Vr={class:"effect-header flex pt-2 px-1"},Wr={class:"flex flex-column ml-1"},qr={class:"item-name mr-2"},Er={class:"flex justify-content-left py-1 text-xs"},Ir={key:0,class:"sublimation-entry flex align-items-center px-2 py-2"},Pr={class:"ml-1"},Tr={key:1,class:"flex align-items-center px-2 py-2"},Dr={class:"ml-1"},Mr=we(()=>e("i",{class:"pi pi-trash"},null,-1)),Rr={key:0,class:"item-card-tooltip"},Lr={class:"effect-header flex pt-2 px-1"},Ur={class:"flex flex-column ml-1"},Fr={class:"item-name mr-2"},Or={class:"flex justify-content-left py-1 text-xs"},Nr={class:"stats-summary"},Hr={class:"text-lg my-1 pl-2"},jr={class:"stats-summary-list flex flex-column"},Br={key:0,class:"summary-entry px-2 py-1"},zr={class:"ml-2"},Gr={class:"flex px-2 py-1"},Yr={class:"flex ml-2"},Jr={key:0,class:"warning-message flex pr-2 pl-3 py-1 w-full"},Qr=we(()=>e("i",{class:"mdi mdi-arrow-up-left",style:{"margin-top":"-2px","margin-right":"4px"}},null,-1)),Xr={class:"flex flex-column mr-3"},Zr={class:"rune-options-wrapper flex flex-column ml-3 pt-2"},Kr={class:"flex align-items-center justify-content-center"},eu=we(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),tu={class:"simple-tooltip"},su={class:"mx-2"},au={class:"rune-options flex flex-column mt-2"},lu=["onDragstart","onClick"],iu={class:"ml-2"},nu=we(()=>e("div",{class:"flex-grow-1 mr-2"},null,-1)),ou={class:"ml-3 mt-2"},cu={key:0,class:"flex flex-column",style:{"min-width":"300px"}},ru={class:"flex mt-2"},uu={class:"mx-2"},du=we(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),pu={class:"simple-tooltip"},mu=["onDragstart"],hu={key:0,class:"rune-requirements flex gap-1 mx-1 px-1 py-1"},vu={class:"effect-header flex pt-2 px-1"},_u={class:"flex flex-column ml-1"},gu={class:"item-name"},fu={key:0,class:"rune-requirements flex justify-content-left gap-1 py-1"},bu={class:"flex mt-2"},$u={class:"mx-2"},yu={class:"mx-2"},ku=["onClick","onDragstart"],Su={class:"ml-1"},wu={class:"effect-header flex pt-2 px-1"},xu={class:"flex flex-column ml-1"},Cu={class:"item-name"},Au={class:"flex justify-content-left py-1 text-xs"},Vu={key:0,class:"flex flex-column px-4 py-2"},Wu={class:"mb-2"},qu={class:"ml-2"},Eu={__name:"RunesSubsTabContent",setup(_,{expose:h}){const{t:R}=Ge();let n=document;const l=_e("currentCharacter"),{getRuneValue:W}=Ke(),{getRunes:G,getSublimations:v,canSublimationFit:U}=He(),k=pe(()=>G().sort((u,i)=>u.shardsParameters.color-i.shardsParameters.color)),z=pe(()=>v().filter(u=>{var i;return u.sublimationParameters.slotColorPattern.length>0&&R(`items.${u.id}`).toLowerCase().includes((i=V.value)==null?void 0:i.toLowerCase())}).sort((u,i)=>R(`items.${u.id}`).localeCompare(R(`items.${i.id}`))).sort((u,i)=>{if(ee.value&&H.value){let d=U(l.value.equipment[ee.value],u)?1:0;return(U(l.value.equipment[ee.value],i)?1:0)-d}else return 0})),N=pe(()=>v().filter(u=>{var i;return qe(u)&&R(`items.${u.id}`).toLowerCase().includes((i=P.value)==null?void 0:i.toLowerCase())&&(u.sublimationParameters.isEpic?D.value:!0)&&(u.sublimationParameters.isRelic?b.value:!0)})),V=$(""),P=$(""),H=$(!0),D=$(!0),b=$(!0),B=$(1),ee=$(null),Q=$(null),re=$(null),M=$([{label:R("constants.level"),levelSlider:!0},{label:R("characterSheet.runesAndSubsContent.toggleWhite"),command:()=>{Q.value&&(l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color===0?l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color=l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].rune.shardsParameters.color:l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].color=0)}},{label:R("constants.remove"),command:()=>{l.value.equipment[Q.value.itemSlotKey][Q.value.runeSlotKey]=null}}]),L=$(!1),S=()=>{L.value=!1,Pe(()=>{L.value=!0})},T=pe(()=>{let u={};return Object.keys(l.value.equipment).forEach(i=>{if(l.value.equipment[i]!==null){let d=l.value.equipment[i];for(let p=1;p<=4;p++){let x=d[`runeSlot${p}`];x&&(u[x.rune.id]||(u[x.rune.id]={totalValue:0,rune:x}),u[x.rune.id].totalValue+=W(x.rune,x.level,i))}d.subSlot&&(u[d.subSlot.equipEffects[0].values[0]]||(u[d.subSlot.equipEffects[0].values[0]]={totalValue:0,sublimation:d.subSlot}),u[d.subSlot.equipEffects[0].values[0]].totalValue+=d.subSlot.equipEffects[0].values[2])}}),l.value.epicSubSlot&&(u[l.value.epicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:l.value.epicSubSlot}),l.value.relicSubSlot&&(u[l.value.relicSubSlot.equipEffects[0].values[0]]={totalValue:1,sublimation:l.value.relicSubSlot}),u}),w=(u,i)=>{u.stopPropagation(),ee.value===i?ee.value=null:ee.value=i},q=(u,i,d)=>{u.shiftKey&&(l.value.equipment[i][d].color===0?l.value.equipment[i][d].color=l.value.equipment[i][d].rune.shardsParameters.color:l.value.equipment[i][d].color=0),u.ctrlKey&&(re.value.hide(),l.value.equipment[i][d]=null)},X=(u,i,d)=>{l.value.equipment[i][d]&&(Q.value={itemSlotKey:i,runeSlotKey:d},re.value.show(u))},te=(u,i)=>{if(ee.value&&l.value.equipment[ee.value]!==null){let d=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];for(let p in d)if(l.value.equipment[ee.value][d[p]]===null||l.value.equipment[ee.value][d[p]]===void 0){l.value.equipment[ee.value][d[p]]={rune:i,color:i.shardsParameters.color,level:B.value};break}}},ne=(u,i,d,p)=>{u.dataTransfer.dropEffect="move",u.dataTransfer.effectAllowed="move",u.dataTransfer.setData("type",i),i==="rune"&&(u.dataTransfer.setData("rune",JSON.stringify(d)),p&&u.dataTransfer.setData("level",p)),i==="sublimation"&&u.dataTransfer.setData("sublimation",JSON.stringify(d))},F=(u,i,d)=>{try{let p=u.dataTransfer.getData("type");if(p==="rune"&&d.includes("rune")){let x=JSON.parse(u.dataTransfer.getData("rune")),ue=u.dataTransfer.getData("level");l.value.equipment[i][d]={rune:x,color:x.shardsParameters.color,level:ue||B.value}}if(p==="sublimation"){let x=JSON.parse(u.dataTransfer.getData("sublimation"));qe(x)?x.sublimationParameters.isEpic&&d==="epicSubSlot"?l.value.epicSubSlot=x:x.sublimationParameters.isRelic&&d==="relicSubSlot"&&(l.value.relicSubSlot=x):l.value.equipment[i].subSlot=x}}catch(p){console.error(p)}},j=()=>{let u=["runeSlot1","runeSlot2","runeSlot3","runeSlot4"];Object.keys(l.value.equipment).forEach(i=>{l.value.equipment[i]&&(u.forEach(d=>{l.value.equipment[i][d]=void 0}),l.value.equipment[i].subSlot=null)})},C=(u,i,d)=>{l.value[d]=i},Z=u=>{u==="epicSubSlot"?l.value.epicSubSlot=null:u==="relicSubSlot"?l.value.relicSubSlot=null:l.value.equipment[u].subSlot=null},oe=u=>{if(u)switch(u){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedEmpty.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenEmpty.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueEmpty.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteEmpty.png"},y=u=>{if(u)switch(u){case 1:return"https://tmktahu.github.io/WakfuAssets/misc/shardRedFull.png";case 2:return"https://tmktahu.github.io/WakfuAssets/misc/shardGreenFull.png";case 3:return"https://tmktahu.github.io/WakfuAssets/misc/shardBlueFull.png";default:return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"}else return"https://tmktahu.github.io/WakfuAssets/misc/shardWhiteFull.png"},f=u=>Object.keys(se).find(i=>se[i].rawId===u),O=pe(()=>{let u=1;return pt.some((i,d)=>i<=l.value.level?(u=d+1,!1):!0),u}),qe=u=>u.sublimationParameters.isRelic||u.sublimationParameters.isEpic;return Te(()=>l.value.level,()=>{B.value=O.value},{immediate:!0}),h({showLists:S}),(u,i)=>{const d=E("tippy"),p=E("p-image"),x=E("p-inputNumber"),ue=E("p-button"),ge=E("p-inputText"),fe=E("p-checkbox"),xe=E("p-virtualScroller"),Ee=E("p-slider"),Ce=E("p-contextMenu"),Ae=mt("ripple");return o(),r("div",Uc,[e("div",Fc,[e("div",Oc,[s(d,{placement:"left",duration:"0"},{content:m(()=>[e("div",Bc,[e("div",zc,t(u.$t("characterSheet.runesAndSubsContent.dragAndDrop")),1),e("div",Gc,t(u.$t("characterSheet.runesAndSubsContent.dragReplace")),1),e("div",Yc,t(u.$t("characterSheet.runesAndSubsContent.ctrlClick")),1),e("div",Jc,t(u.$t("characterSheet.runesAndSubsContent.shiftClick")),1),e("div",Qc,t(u.$t("characterSheet.runesAndSubsContent.rightClick")),1),e("div",Xc,t(u.$t("characterSheet.runesAndSubsContent.hightlightClick")),1)])]),default:m(()=>[e("div",Nc,[e("div",Hc,t(u.$t("characterSheet.runesAndSubsContent.hotkeysAndShortcuts")),1),jc])]),_:1})]),(o(!0),r(K,null,ce(Object.keys(a(l).equipment),c=>(o(),r(K,{key:c},[c!=="ACCESSORY"&&c!=="PET"&&c!=="MOUNT"&&c!=="SECOND_WEAPON"?(o(),r(K,{key:0},[c!=="undefined"&&a(l).equipment[c]?(o(),r("div",Zc,[e("div",{class:ie(["slot-image",{highlighted:ee.value===c}]),onClick:I=>w(I,c)},[s(p,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${c}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])],10,Kc),(o(),r(K,null,ce(4,I=>(o(),r(K,{key:I},[a(l).equipment[c][`runeSlot${I}`]?(o(),de(d,{key:0,duration:"0"},{content:m(()=>[e("div",ar," +"+t(a(W)(a(l).equipment[c][`runeSlot${I}`].rune,a(l).equipment[c][`runeSlot${I}`].level,c))+" "+t(u.$t(`items.${a(l).equipment[c][`runeSlot${I}`].rune.id}`)),1)]),default:m(()=>[e("div",{class:"rune-drop-zone equipped ml-2",draggable:"true",onClick:g=>q(g,c,`runeSlot${I}`),onDragover:i[0]||(i[0]=he(()=>{},["prevent"])),onDragenter:i[1]||(i[1]=he(()=>{},["prevent"])),onDrop:g=>F(g,c,`runeSlot${I}`),onContextmenu:g=>X(g,c,`runeSlot${I}`),onDragstart:g=>ne(g,"rune",a(l).equipment[c][`runeSlot${I}`].rune,a(l).equipment[c][`runeSlot${I}`].level)},[e("div",tr,[s(p,{src:y(a(l).equipment[c][`runeSlot${I}`].color),"image-style":"width: 26px"},null,8,["src"])]),e("div",sr,t(a(l).equipment[c][`runeSlot${I}`].level),1)],40,er)]),_:2},1024)):(o(),r("div",{key:1,class:"rune-drop-zone ml-2",onDragover:i[2]||(i[2]=he(()=>{},["prevent"])),onDragenter:i[3]||(i[3]=he(()=>{},["prevent"])),onDrop:g=>F(g,c,`runeSlot${I}`)},[e("div",ir,[s(p,{src:oe(null),"image-style":"width: 26px"},null,8,["src"])])],40,lr))],64))),64)),a(l).equipment[c].subSlot?(o(),de(De,{key:0,"append-to":()=>a(n).body,offset:[0,-2],style:{height:"100%"}},{trigger:m(()=>[e("div",{class:ie(["sublimation-drop-zone ml-2",{invalid:!a(U)(a(l).equipment[c],a(l).equipment[c].subSlot)}]),onDragover:i[4]||(i[4]=he(()=>{},["prevent"])),onDragenter:i[5]||(i[5]=he(()=>{},["prevent"])),onDrop:I=>F(I,c,"subSlot"),onClick:I=>Z(c)},[a(l).equipment[c].subSlot?(o(),r("div",or,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).equipment[c].subSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",cr,t(u.$t(`items.${a(l).equipment[c].subSlot.id}`)),1)])):ae("",!0),rr],42,nr)]),content:m(()=>[a(l).equipment[c].subSlot?(o(),r("div",ur,[e("div",dr,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).equipment[c].subSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",pr,[e("div",mr,t(u.$t(`items.${a(l).equipment[c].subSlot.id}`)),1),e("div",hr,[(o(!0),r(K,null,ce(a(l).equipment[c].subSlot.sublimationParameters.slotColorPattern,(I,g)=>(o(),r("div",{key:g,class:"flex align-items-center"},[s(p,{src:y(I),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])])]),s(We,{item:a(l).equipment[c].subSlot},null,8,["item"])])):ae("",!0)]),_:2},1032,["append-to"])):(o(),r("div",{key:1,class:ie(["sublimation-drop-zone ml-2",{invalid:!a(U)(a(l).equipment[c],a(l).equipment[c].subSlot)}]),onDragover:i[6]||(i[6]=he(()=>{},["prevent"])),onDragenter:i[7]||(i[7]=he(()=>{},["prevent"])),onDrop:I=>F(I,c,"subSlot"),onClick:I=>Z(c)},[e("div",_r,[s(p,{src:"https://tmktahu.github.io/WakfuAssets/itemTypes/812.png","image-style":"width: 30px",class:"flex"},null,8,["src"])])],42,vr))])):c!=="undefined"?(o(),r("div",gr,[e("div",fr,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${c}.png`,"image-style":"width: 40px; height: 40px"},null,8,["src"])]),(o(),r(K,null,ce(4,I=>e("div",{key:I,class:"rune-drop-zone ml-2",onDragover:i[8]||(i[8]=he(()=>{},["prevent"])),onDragenter:i[9]||(i[9]=he(()=>{},["prevent"])),onDrop:g=>F(g,c,`runeSlot${I}`)},null,40,br)),64)),e("div",$r,t(u.$t("characterSheet.runesAndSubsContent.itemMustBeEquipped")),1)])):ae("",!0)],64)):ae("",!0)],64))),128)),e("div",yr,[s(d,{duration:"0",class:"flex h-full"},{content:m(()=>[a(l).epicSubSlot?(o(),r("div",Ar,[e("div",Vr,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).epicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Wr,[e("div",qr,t(u.$t(`items.${a(l).epicSubSlot.id}`)),1),e("div",Er,t(a(l).epicSubSlot.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(a(l).epicSubSlot.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:a(l).epicSubSlot},null,8,["item"])])):ae("",!0)]),default:m(()=>[e("div",{class:"special-sublimation-drop-zone",style:{background:"#67135b"},onDragover:i[10]||(i[10]=he(()=>{},["prevent"])),onDragenter:i[11]||(i[11]=he(()=>{},["prevent"])),onDrop:i[12]||(i[12]=c=>F(c,null,"epicSubSlot")),onClick:i[13]||(i[13]=c=>Z("epicSubSlot"))},[a(l).epicSubSlot?(o(),r("div",kr,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).epicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Sr,t(u.$t(`items.${a(l).epicSubSlot.id}`)),1)])):(o(),r("div",wr,[s(p,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPinkEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",xr,t(u.$t("characterSheet.runesAndSubsContent.epicSub")),1)])),Cr],32)]),_:1}),s(d,{duration:"0",class:"flex h-full"},{content:m(()=>[a(l).relicSubSlot?(o(),r("div",Rr,[e("div",Lr,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).relicSubSlot.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",Ur,[e("div",Fr,t(u.$t(`items.${a(l).relicSubSlot.id}`)),1),e("div",Or,t(a(l).relicSubSlot.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(a(l).relicSubSlot.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:a(l).relicSubSlot},null,8,["item"])])):ae("",!0)]),default:m(()=>[e("div",{class:"special-sublimation-drop-zone ml-2",style:{background:"#411468"},onDragover:i[14]||(i[14]=he(()=>{},["prevent"])),onDragenter:i[15]||(i[15]=he(()=>{},["prevent"])),onDrop:i[16]||(i[16]=c=>F(c,null,"relicSubSlot")),onClick:i[17]||(i[17]=c=>Z("relicSubSlot"))},[a(l).relicSubSlot?(o(),r("div",Ir,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${a(l).relicSubSlot.imageId}.png`,"image-style":"width: 24px",class:"flex"},null,8,["src"]),e("div",Pr,t(u.$t(`items.${a(l).relicSubSlot.id}`)),1)])):(o(),r("div",Tr,[s(p,{src:"https://tmktahu.github.io/WakfuAssets/misc/shardPurpleEmpty.png","image-style":"width: 24px",class:"flex"},null,8,["src"]),e("span",Dr,t(u.$t("characterSheet.runesAndSubsContent.relicSub")),1)])),Mr],32)]),_:1})]),e("div",Nr,[e("div",Hr,t(u.$t("characterSheet.statsDisplay.statsSummary")),1),e("div",jr,[(o(!0),r(K,null,ce(Object.keys(T.value),c=>(o(),r(K,{key:c},[T.value[c].rune?(o(),r("div",Br,[s(p,{src:y(T.value[c].rune.rune.shardsParameters.color),"image-style":"width: 18px"},null,8,["src"]),e("div",zr,"+"+t(T.value[c].totalValue)+" "+t(u.$t(`items.${T.value[c].rune.rune.id}`)),1)])):T.value[c].sublimation?(o(),r("div",{key:1,class:ie(["summary-entry flex-column align-items-start",{warning:T.value[c].totalValue>a(Be)[T.value[c].sublimation.equipEffects[0].values[0]]}])},[e("div",Gr,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${T.value[c].sublimation.imageId}.png`,"image-style":"width: 18px",class:"flex"},null,8,["src"]),e("div",Yr,[e("span",null,t(u.$t("characterSheet.runesAndSubsContent.addsStateLevelsShort",{num_0:T.value[c].totalValue})),1),s(De,{"append-to":()=>a(n).body,offset:[0,-2],"state-id":`${T.value[c].sublimation.equipEffects[0].values[0]}`,"current-level":T.value[c].totalValue},null,8,["append-to","state-id","current-level"])])]),T.value[c].totalValue>a(Be)[T.value[c].sublimation.equipEffects[0].values[0]]?(o(),r("div",Jr,[Qr,e("span",null,t(u.$t("characterSheet.runesAndSubsContent.stateStackingWarning",{num_0:a(Be)[T.value[c].sublimation.equipEffects[0].values[0]]})),1)])):ae("",!0)],2)):ae("",!0)],64))),128))])])]),e("div",Xr,[e("div",Zr,[e("div",Kr,[s(d,{placement:"left",duration:"0"},{content:m(()=>[e("div",tu,t(u.$t("characterSheet.runesAndSubsContent.runeLevelTooltip")),1)]),default:m(()=>[eu]),_:1}),e("span",su,t(u.$t("characterSheet.runesAndSubsContent.runeLevel")),1),s(x,{modelValue:B.value,"onUpdate:modelValue":i[18]||(i[18]=c=>B.value=c),class:"number-input","show-buttons":"","button-layout":"horizontal",min:1,max:O.value,"allow-empty":!1},null,8,["modelValue","max"])]),e("div",au,[(o(!0),r(K,null,ce(k.value,c=>(o(),r("div",{key:c.id,class:ie(["rune-draggable mb-1 px-2",{highlighted:ee.value&&c.shardsParameters.doubleBonusPosition.includes(a(se)[ee.value].rawId)}]),draggable:"true",onDragstart:I=>ne(I,"rune",c),onClick:I=>te(I,c)},[s(p,{class:"rune-image",src:oe(c.shardsParameters.color),"image-style":"width: 20px"},null,8,["src"]),e("div",iu,"+"+t(a(W)(c,B.value))+" "+t(u.$t(`items.${c.id}`)),1),nu,(o(!0),r(K,null,ce(c.shardsParameters.doubleBonusPosition,I=>(o(),r("div",{key:I,class:"ml-1"},[s(p,{"image-class":"item-slot-image",src:`https://tmktahu.github.io/WakfuAssets/equipmentDefaults/${f(I)}.png`,class:ie({disabled:!a(l).equipment[f(I)]}),onClick:g=>w(g,f(I))},null,8,["src","class","onClick"])]))),128))],42,lu))),128))])]),e("div",ou,[s(ue,{label:u.$t("characterSheet.runesAndSubsContent.removeAllRunes"),onClick:j},null,8,["label"])])]),L.value?(o(),r("div",cu,[s(ge,{modelValue:V.value,"onUpdate:modelValue":i[19]||(i[19]=c=>V.value=c),class:"py-2 px-2",placeholder:u.$t("characterSheet.runesAndSubsContent.searchSublimations")},null,8,["modelValue","placeholder"]),e("div",ru,[s(fe,{modelValue:H.value,"onUpdate:modelValue":i[20]||(i[20]=c=>H.value=c),binary:!0},null,8,["modelValue"]),e("div",uu,t(u.$t("characterSheet.runesAndSubsContent.sortByMatching")),1),s(d,{placement:"top"},{content:m(()=>[e("div",pu,t(u.$t("characterSheet.runesAndSubsContent.sortByMatchingNote")),1)]),default:m(()=>[du]),_:1})]),z.value?(o(),de(xe,{key:0,items:z.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:m(({item:c})=>[s(De,{"append-to":()=>a(n).body,offset:[0,-2]},{trigger:m(()=>{var I,g;return[e("div",{class:ie(["sublimation-option py-1 px-2 mb-1",{highlighted:a(U)(a(l).equipment[ee.value],c)}]),draggable:"true",onDragstart:me=>ne(me,"sublimation",c)},[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),(g=(I=c.sublimationParameters)==null?void 0:I.slotColorPattern)!=null&&g.length?(o(),r("div",hu,[(o(!0),r(K,null,ce(c.sublimationParameters.slotColorPattern,(me,Ie)=>(o(),r("div",{key:Ie,class:"flex align-items-center"},[s(p,{src:y(me),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):ae("",!0),e("div",null,t(u.$t(`items.${c.id}`)),1)],42,mu)]}),content:m(()=>{var I,g;return[e("div",vu,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",_u,[e("div",gu,t(u.$t(`items.${c.id}`)),1),(g=(I=c.sublimationParameters)==null?void 0:I.slotColorPattern)!=null&&g.length?(o(),r("div",fu,[(o(!0),r(K,null,ce(c.sublimationParameters.slotColorPattern,(me,Ie)=>(o(),r("div",{key:Ie,class:"flex align-items-center"},[s(p,{src:y(me),"image-style":"width: 18px",class:"flex"},null,8,["src"])]))),128))])):ae("",!0)])]),s(We,{item:c},null,8,["item"])]}),_:2},1032,["append-to"])]),_:1},8,["items"])):ae("",!0),s(ge,{modelValue:P.value,"onUpdate:modelValue":i[21]||(i[21]=c=>P.value=c),class:"py-2 px-2",placeholder:u.$t("characterSheet.runesAndSubsContent.searchEpicAndRelicSubs")},null,8,["modelValue","placeholder"]),e("div",bu,[s(fe,{modelValue:D.value,"onUpdate:modelValue":i[22]||(i[22]=c=>D.value=c),binary:!0},null,8,["modelValue"]),e("div",$u,t(u.$t("constants.epic")),1),s(fe,{modelValue:b.value,"onUpdate:modelValue":i[23]||(i[23]=c=>b.value=c),binary:!0},null,8,["modelValue"]),e("div",yu,t(u.$t("constants.relic")),1)]),N.value?(o(),de(xe,{key:1,items:N.value,class:"sublimation-options-wrapper my-2 py-1","item-size":32,style:{width:"100%",height:"100%"}},{item:m(({item:c})=>[s(De,{"append-to":()=>a(n).body,offset:[0,-2]},{trigger:m(()=>{var I,g;return[e("div",{class:ie(["sublimation-option py-1 px-2 mb-1",{"epic-highlighted":((I=a(l).epicSubSlot)==null?void 0:I.id)===c.id,"relic-highlighted":((g=a(l).relicSubSlot)==null?void 0:g.id)===c.id}]),draggable:"true",onClick:me=>C(me,c,c.sublimationParameters.isEpic?"epicSubSlot":"relicSubSlot"),onDragstart:me=>ne(me,"sublimation",c)},[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 20px",class:"flex"},null,8,["src"]),e("div",Su,t(u.$t(`items.${c.id}`))+" "+t(c.sublimationParameters.isEpic?`(${u.$t("constants.epic")})`:"")+" "+t(c.sublimationParameters.isRelic?`(${u.$t("constants.relic")})`:""),1)],42,ku)]}),content:m(()=>[e("div",wu,[s(p,{src:`https://tmktahu.github.io/WakfuAssets/items/${c.imageId}.png`,"image-style":"width: 40px"},null,8,["src"]),e("div",xu,[e("div",Cu,t(u.$t(`items.${c.id}`)),1),e("div",Au,t(c.sublimationParameters.isEpic?`${u.$t("constants.epicSublimation")}`:"")+" "+t(c.sublimationParameters.isRelic?`${u.$t("constants.relicSublimation")}`:""),1)])]),s(We,{item:c},null,8,["item"])]),_:2},1032,["append-to"])]),_:1},8,["items"])):ae("",!0)])):ae("",!0),s(Ce,{ref_key:"runeContextMenu",ref:re,model:M.value},{item:m(({item:c,props:I})=>[c.levelSlider?(o(),r("div",Vu,[e("div",Wu,t(u.$t("constants.level"))+": "+t(a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level),1),s(Ee,{modelValue:a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level,"onUpdate:modelValue":i[24]||(i[24]=g=>a(l).equipment[Q.value.itemSlotKey][Q.value.runeSlotKey].level=g),min:1,max:11},null,8,["modelValue"])])):ht((o(),r("a",Ne({key:1,class:"flex align-items-center"},I.action),[e("span",qu,t(c.label),1)],16)),[[Ae]])]),_:1},8,["model"])])}}},Iu=$e(Eu,[["__scopeId","data-v-5b428d31"]]);const Le=_=>(ye("data-v-60d94682"),_=_(),ke(),_),Pu={class:"top-bar py-3 px-3"},Tu={key:0,class:"flex align-items-center pl-2"},Du={class:"py-2"},Mu={key:1,class:"flex align-items-center"},Ru={class:"py-2"},Lu={class:"flex align-items-center"},Uu={class:"capitalize"},Fu={class:"flex flex-grow-1 align-items-center",style:{"max-width":"200px","min-width":"200px"}},Ou={class:"mr-2"},Nu={class:"flex-grow-1"},Hu=Le(()=>e("div",{class:"flex-grow-1"},null,-1)),ju={class:"build-code flex align-items-center ml-2 mr-3"},Bu=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),zu={class:"simple-tooltip"},Gu={class:"ml-2"},Yu={class:"code-disclaimer"},Ju=Le(()=>e("i",{class:"mdi mdi-information-outline"},null,-1)),Qu={class:"simple-tooltip"},Xu={class:"ml-1"},Zu={class:"flex flex-grow-1",style:{overflow:"auto"}},Ku={class:"stats-area pt-3"},ed={class:"flex flex-column flex-grow-1"},td={class:"tab-header"},sd=Le(()=>e("i",{class:"points-to-spend-icon mdi mdi-arrow-up-bold ml-1",style:{"font-size":"20px"}},null,-1)),ad=Le(()=>e("i",{class:"error-icon mdi mdi-alert-octagon-outline ml-1",style:{"font-size":"20px"}},null,-1)),ld={class:"tab-header"},id={class:"tab-header"},nd={class:"tab-header"},od={class:"tab-header"},cd={key:1,class:"px-5 mt-5"},rd={__name:"CharacterSheet",setup(_){var ee,Q,re;const h=vt(),R=_e("currentCharacter"),n=$(null),l=$(null),W=$(null),G=$((ee=R.value)==null?void 0:ee.name),v=$((Q=R.value)==null?void 0:Q.level),U=$(Fe[(re=R.value)==null?void 0:re.class]),k=Object.entries(Fe).map(([M,L])=>L),{createBuildCode:z}=tt(),N=pe(()=>z(R.value));Te(R,()=>{V()});const V=()=>{var M,L,S;G.value=(M=R.value)==null?void 0:M.name,v.value=(L=R.value)==null?void 0:L.level,U.value=Fe[(S=R.value)==null?void 0:S.class]},P=(M,L)=>{L==="name"?R.value.name=M.target.value:L==="levelText"?R.value.level=M.value:L==="levelSlider"?R.value.level=M:L==="class"&&(R.value.class=M.value.id),V()},H=()=>{Pe(()=>{n.value.showList(),W.value.showLists()})},D=pe(()=>{var M;return(M=l.value)==null?void 0:M.hasCharacteristicsError}),b=pe(()=>{var M;return(M=l.value)==null?void 0:M.hasCharacteristicsPointsToSpend}),B=()=>{navigator.clipboard.writeText(N.value),h.add({severity:"info",summary:"Build Code copied to clipboard",life:3e3})};return(M,L)=>{const S=E("p-inputText"),T=E("p-image"),w=E("p-dropdown"),q=E("p-inputNumber"),X=E("p-slider"),te=E("tippy"),ne=E("p-button"),F=E("p-tabPanel"),j=E("p-tabView");return a(R)?(o(),r("div",{key:a(R).id,class:"flex flex-column w-full",style:{height:"100%"}},[e("div",Pu,[s(S,{modelValue:G.value,"onUpdate:modelValue":L[0]||(L[0]=C=>G.value=C),class:"mr-2 py-2 px-2",onInput:L[1]||(L[1]=C=>P(C,"name"))},null,8,["modelValue"]),s(w,{modelValue:U.value,"onUpdate:modelValue":L[2]||(L[2]=C=>U.value=C),options:a(k),placeholder:M.$t("characterSheet.selectAClass"),"option-label":"id",class:"class-selector mr-2 pr-2",onChange:L[3]||(L[3]=C=>P(C,"class"))},{value:m(C=>[C.value?(o(),r("div",Tu,[s(T,{class:"class-image mr-2",src:`https://tmktahu.github.io/WakfuAssets/classes/${C.value.id}.png`,"image-style":"width: 28px"},null,8,["src"]),e("div",Du,t(M.$t(C.value.name)),1)])):(o(),r("span",Mu,[s(T,{class:"class-image mx-2",src:a(_t),"image-style":"width: 28px"},null,8,["src"]),e("div",Ru,t(C.placeholder),1)]))]),option:m(C=>[e("div",Lu,[e("div",Uu,t(M.$t(C.option.name)),1)])]),_:1},8,["modelValue","options","placeholder"]),e("div",Fu,[e("span",Ou,t(M.$t("characterSheet.level")),1),s(q,{modelValue:v.value,"onUpdate:modelValue":L[4]||(L[4]=C=>v.value=C),class:"number-input mr-2",min:1,max:230,"allow-empty":!1,onInput:L[5]||(L[5]=C=>P(C,"levelText"))},null,8,["modelValue"]),e("div",Nu,[s(X,{modelValue:v.value,"onUpdate:modelValue":L[6]||(L[6]=C=>v.value=C),min:1,max:230,onChange:L[7]||(L[7]=C=>P(C,"levelSlider"))},null,8,["modelValue"])])]),Hu,e("div",ju,[s(te,{placement:"left",duration:"0"},{content:m(()=>[e("div",zu,t(M.$t("characterSheet.buildCopyPaste")),1)]),default:m(()=>[Bu]),_:1}),e("div",Gu,t(M.$t("characterSheet.buildCode"))+":",1),e("div",{class:"code flex align-items-center px-2 py-1 ml-2",onClick:B},[e("span",null,t(N.value),1)]),s(ne,{class:"py-1 ml-2 px-2",label:M.$t("characterSheet.copy"),onClick:B},null,8,["label"]),e("div",Yu,[s(te,{placement:"bottom",duration:"0"},{content:m(()=>[e("div",Qu,t(M.$t("characterSheet.codeInfo")),1)]),default:m(()=>[Ju]),_:1}),e("div",Xu,t(M.$t("characterSheet.codeDisclaimer")),1)])])]),e("div",Zu,[e("div",Ku,[s(hl)]),e("div",ed,[s(j,{class:"main-tab-view",onTabChange:H},{default:m(()=>[s(F,null,{header:m(()=>[e("div",td,[e("span",null,t(M.$t("characterSheet.guides")),1)])]),default:m(()=>[s(xl)]),_:1}),s(F,null,{header:m(()=>[e("div",{class:ie(["tab-header characteristics-tab-header",{error:D.value,"points-to-spend":b.value&&!D.value}])},[e("span",null,t(M.$t("characterSheet.characteristics")),1),sd,ad],2)]),default:m(()=>[s(Xl,{ref_key:"characteristicsTabContent",ref:l},null,512)]),_:1}),s(F,null,{header:m(()=>[e("div",ld,[e("span",null,t(M.$t("characterSheet.equipment")),1)])]),default:m(()=>[s(Dn,{ref_key:"equipmentTabContent",ref:n},null,512)]),_:1}),s(F,null,{header:m(()=>[e("div",id,[e("span",null,t(M.$t("characterSheet.autoItemSolver")),1)])]),default:m(()=>[s(Lc)]),_:1}),s(F,null,{header:m(()=>[e("div",nd,[e("span",null,t(M.$t("characterSheet.runesAndSubs")),1)])]),default:m(()=>[s(Iu,{ref_key:"runesAndSubsTabContent",ref:W},null,512)]),_:1}),s(F,null,{header:m(()=>[e("div",od,[e("span",null,t(M.$t("characterSheet.spellsAndPassives")),1)])]),default:m(()=>[s(wo)]),_:1})]),_:1})])])])):(o(),r("div",cd," No Character data found for the given ID. "))}}},pd=$e(rd,[["__scopeId","data-v-60d94682"]]);export{pd as default};
